<!DOCTYPE html>
<html lang="ru-ru">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Блог Ивана Евтуховича</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Блог Ивана Евтуховича">
    <meta name="generator" content="Hugo 0.124.0">
    
      <META NAME="ROBOTS" CONTENT="INDEX, FOLLOW">

    

  
  
    <link rel="stylesheet" href="/ananke/dist/main.css_5c99d70a7725bacd4c701e995b969fea.css" >
  



  <link rel="stylesheet" href="/css/custom.css">

  <link rel="stylesheet" href="/css/jplayer.blue.monday.css">


    
      
<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />


    

    
    
      <link href="/tags/index.xml" rel="alternate" type="application/rss+xml" title="Блог Ивана Евтуховича" />
      <link href="/tags/index.xml" rel="feed" type="application/rss+xml" title="Блог Ивана Евтуховича" />
      
    
    
    <meta property="og:title" content="Tags" />
<meta property="og:description" content="Блог Ивана Евтуховича" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://evtuhovich.ru/tags/" />
<meta itemprop="name" content="Tags">
<meta itemprop="description" content="Блог Ивана Евтуховича"><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Tags"/>
<meta name="twitter:description" content="Блог Ивана Евтуховича"/>

	<meta name="yandex-verification" content="844263c66799f878" />

<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter40052600 = new Ya.Metrika({
                    id:40052600,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/40052600" style="position:absolute; left:-9999px;" alt="" /></div></noscript>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28012309-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-28012309-1');
</script>

<script src="/js/jquery-3.6.4.min.js"></script>
<script src="/js/jquery.jplayer.min.js"></script>
<script src="/js/jplayer.playlist.min.js"></script>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  
  
  <header class="cover bg-top" style="background-image: url('https://evtuhovich.ru/images/background.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Блог Ивана Евтуховича
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/calendar/" title="Архив page">
              Архив
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/blog/" title="Блог page">
              Блог
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/reports/" title="Доклады и мастер-классы page">
              Доклады и мастер-классы
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/life/" title="Жизнь page">
              Жизнь
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="Обо мне page">
              Обо мне
            </a>
          </li>
          
        </ul>
      
      


<a href="https://vk.com/ivan.evtuhovich" target="_blank" class="link-transition rss link dib z-999 pt3 pt0-l mr1" title="VK link" rel="noopener" aria-label="VK——Opens in a new window">
  <svg  height="32px"   version="1.1" viewBox="10 10 160 160" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
    <path d="M157.234 66.14622c.88956-2.96645 0-5.14622-4.23376-5.14622h-14c-3.55973 0-5.20082 1.883-6.09088 3.9594 0 0-7.11948 17.35354-17.20516 28.6258-3.26297 3.26297-4.74632 4.30116-6.5262 4.30116-.8898 0-2.178-1.0382-2.178-4.0044V66.14623C107 62.58648 105.96694 61 103.00024 61h-22c-2.22452 0-3.56237 1.65216-3.56237 3.21797 0 3.37456 5.04259 4.15278 5.56237 13.64542V98.4799c0 4.5201-.8163 5.3396-2.59617 5.3396-4.74607 0-16.2909-17.43106-23.13806-37.37676C55.92414 62.566 54.57825 61 51.00024 61h-14c-4 0-4.80004 1.883-4.80004 3.9594 0 3.70812 4.74631 22.09986 22.09961 46.42425C65.86859 127.99527 82.16824 137 97.00024 137c8.8991 0 10-2 10-5.445V119c0-4 .84305-4.79829 3.66112-4.79829 2.07639 0 5.63613 1.0382 13.94218 9.04749 9.4924 9.49239 11.05734 13.7508 16.3967 13.7508h14c4 0 6-2 4.84624-5.94689-1.26257-3.9337-5.79468-9.64097-11.80836-16.4065-3.26321-3.85625-8.15767-8.00904-9.64102-10.08592-2.07639-2.66943-1.4831-3.85626 0-6.22917 0 0 17.05702-24.02787 18.8369-32.1853z" id="path4"/>
</svg>
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://t.me/evtuhovich" target="_blank" class="link-transition rss link dib z-999 pt3 pt0-l mr1" title="Telegram link" rel="noopener" aria-label="Telegram——Opens in a new window">
  <svg  height="32px"   version="1.1" viewBox="0 0 200 200" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<g id="Artboard">
	
	<path id="Path-3" fill-rule="evenodd" clip-rule="evenodd" d="M54.3,118.8c35-15.2,58.3-25.3,70-30.2   c33.3-13.9,40.3-16.3,44.8-16.4c1,0,3.2,0.2,4.7,1.4c1.2,1,1.5,2.3,1.7,3.3s0.4,3.1,0.2,4.7c-1.8,19-9.6,65.1-13.6,86.3   c-1.7,9-5,12-8.2,12.3c-7,0.6-12.3-4.6-19-9c-10.6-6.9-16.5-11.2-26.8-18c-11.9-7.8-4.2-12.1,2.6-19.1c1.8-1.8,32.5-29.8,33.1-32.3   c0.1-0.3,0.1-1.5-0.6-2.1c-0.7-0.6-1.7-0.4-2.5-0.2c-1.1,0.2-17.9,11.4-50.6,33.5c-4.8,3.3-9.1,4.9-13,4.8   c-4.3-0.1-12.5-2.4-18.7-4.4c-7.5-2.4-13.5-3.7-13-7.9C45.7,123.3,48.7,121.1,54.3,118.8z"/>
</g>
</svg>
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>








<a href="https://github.com/evtuhovich/" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>









    </div>
  </div>
</nav>

      <div class="tc-l pv4 pv6-l ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          Tags
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
    
  <article class="cf pa3 pa4-m pa4-l">
    <div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links nested-img mid-gray">
      
    </div>
  </article>
  <div class="mw8 center">
    <section class="ph4">
      
        <h2 class="f1">
          <a href="/tags/activerecord/" class="link blue hover-black">
            Tag: activerecord
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-09-11</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/09/11/find-in-batches/" class="link black dim">
        Проблемы с find_in_batches
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Иногда мне кажется, что большинство инженерных историй похожи как две капли воды. Вот и эта история началась с того, что в одном большом отчете цифры не сходились раза в два.
Мысленно закурив трубку, как Шерлок Холмс, я взялся за дело. Вот таким образом выглядела модель, по которой считались цифры (я опускаю ненужные подробности).
class OfferDescription &lt; ActiveRecord::Base has_many :children, :class_name =&gt; &#39;OfferDescription&#39;, :foreign_key =&gt; :parent_id end В отчете данные группировались по родительским объектам OfferDescription.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/airbrake/" class="link blue hover-black">
            Tag: airbrake
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-04-11</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/04/11/airbrake/" class="link black dim">
        Быстрое удаление старых ошибок из airbrake через API
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Так сложилось, что у нас накопилось достаточно много старых исключений в airbrake — сервисе по сбору и хранению исключений. Ошибки эти не то, чтобы мешали, но мозолили глаза. И закрыть их руками не представлялось возможным, тем более, что в airbrake это реализовано очень неудобно — необходимо открыть отдельную страницу с исключением, и там тыкнуть на достаточно неудобный самописный элемент управления.
Когда такую операцию надо сделать несколько сотен раз, автоматически опускаются руки.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/apt-get/" class="link blue hover-black">
            Tag: apt-get
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-06-07</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/06/07/package-manager/" class="link black dim">
        Пакетные менеджеры
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Тема этого поста навеяна <a href="https://groups.google.com/forum/?fromgroups#!topic/erlang-russian/hu5UViybcXI">обсуждением пакетных менеджеров в рассылке
Erlang</a>. К сожалению, обсуждение завяло,
так и не успев начаться.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/backup/" class="link blue hover-black">
            Tag: backup
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-07-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/07/27/backup/" class="link black dim">
        Barman и WAL-E
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В postgresql есть замечательная возможность делать <a href="http://www.postgresql.org/docs/9.1/interactive/continuous-archiving.html">непрерывные бэкапы</a>,
то есть бэкапы, по которым можно восстановиться на любой момент времени.</p>
<p>Если вы делаете обычные бэкапы и запускаете в час ночи pg_dump, а в час дня ваш сервер БД умер, то вы потеряете данные за
12 часов и доверие ваших пользователей. Для многих web-сервисов такой сценарий неприемлем, и, чтобы минимизировать потери
данных, стоит использовать непрерывный бэкап.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/barman/" class="link blue hover-black">
            Tag: barman
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-07-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/07/27/backup/" class="link black dim">
        Barman и WAL-E
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В postgresql есть замечательная возможность делать <a href="http://www.postgresql.org/docs/9.1/interactive/continuous-archiving.html">непрерывные бэкапы</a>,
то есть бэкапы, по которым можно восстановиться на любой момент времени.</p>
<p>Если вы делаете обычные бэкапы и запускаете в час ночи pg_dump, а в час дня ваш сервер БД умер, то вы потеряете данные за
12 часов и доверие ваших пользователей. Для многих web-сервисов такой сценарий неприемлем, и, чтобы минимизировать потери
данных, стоит использовать непрерывный бэкап.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/books/" class="link blue hover-black">
            Tag: books
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-12-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/12/27/bible/" class="link black dim">
        Библия PostgreSQL
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><img src="/images/pg-book.jpg" alt="Библия"></p>
<p>Если вы работаете с postgresql и сталкиваетесь с затруднительными ситуациями, ответы на которые даже не ясно, как
гуглить, то, скорее всего, вам не хватает каких-то фундаментальных знаний этой БД.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/caches_action/" class="link blue hover-black">
            Tag: caches_action
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-08-22</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/08/22/caches-action/" class="link black dim">
        Некоторые проблемы с cached_action в Rails 2.3
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      На Групоне у нас есть внутренняя страница, на которой динамически отображаются данные о продажах по различным городам. Результаты этой страницы зависят от параметров, которые передаются в метод show. А потом эта страница динамически обновляется с помощью ajax-запросов.
# dashboard.rb class Admin::DashboardsController &lt; Admin::BaseController layout &#34;admin&#34; def show # Здесь сложные-сложные запросы к БД if request.xhr? render &#39;show&#39;, :layout =&gt; false end end end Поскольку запросы очень тяжелые, да и сама страничка непростая, то отдача ее сильно нагружала БД и app-сервера.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/capistrano/" class="link blue hover-black">
            Tag: capistrano
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-01-26</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/01/26/capistrano/" class="link black dim">
        Использование capistrano
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Для выкатки (deploy) я не знаю другого инструмента, кроме capistrano. Слышал про vlad, но в глаза его никогда не видел.
Использовать capistrano имеет смысл при любом размере проекта, будь то сайт из 3-5 страничек, или что-то большое. Во втором случае отказ от использования capistrano — форменное безумие с моей точки зрения.
Начать знакомиться лучше всего отсюда.
Если вкратце, то заходим в каталог проекта и набираем:
capify . Дальше правим файл config/deploy.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/chef/" class="link blue hover-black">
            Tag: chef
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2014-03-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2014/03/28/knife-solo/" class="link black dim">
        Соло на ноже
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Очень часто для небольших проектов нет необходимости усложнять инфраструктуру с использованием chef-server. Существует мнение, что chef server, вообще, не нужен, и многие аргументы в пользу этой идеи кажутся мне вполне убедительными.
Для людей, которым нравится DSL chef и не нужен chef server, есть chef-solo. Чтобы готовить с его помощью, нужен специальный нож — knife-solo. Это инструмент, который значительно упрощает использование chef-solo.
Для начала поставить knife-solo
gem install knife-solo Если у вас есть уже готовый репозитарий для chef, как, например, наше тесто, то следующий шаг можно пропустить.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2014-02-14</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2014/02/14/deep_merge/" class="link black dim">
        Атрибуты в шефе и DeepMerge
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Многие знают, что в шефе есть большое количество типов атрибутов, необходимые, чтобы гибко управлять инфраструктурой.
Для того, чтобы эти атрибуты работали вместе, есть разные правила их объединения. О них мы сегодня и поговорим.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-09-03</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/09/03/configuration-management/" class="link black dim">
        Управление конфигурацией и Chef
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Расскажу одну очень поучительную и одновременно типичную историю, которая случилась со мною года 3 назад. Однажды один из наших серверов вышел из строя. Казалось бы, обычная ситуация, но беда была в том, что работа приложения была сильно завязано на 10-15 различных cron-задач, которые были прописаны на этой машине. Еще большая проблема была в том, что писались скрипты, которые вызывались по cron, различными людьми, многие их которых к тому времени не работали в компании.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/codefest/" class="link blue hover-black">
            Tag: codefest
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-03-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/03/28/codefest/" class="link black dim">
        Буду выступать на CodeFest
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      31 марта буду выступать на конференции CodeFest. Мой доклад «Как мы делали Групон» будет в 17:05 во втором зале. А второго апреля я проведу мастер-класс «Устройство и оптимизация Postgresql».
Я хочу выразить большую благодарность организаторам конференции за их работу. Поскольку у меня есть опыт в этой области, я понимаю, какой объем работы надо проделать, чтобы привезти докладчиков со всех концов России в Новосибирск. Верю, что конференция пройдет продуктивно и на позитивной волне.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/configuration-management/" class="link blue hover-black">
            Tag: configuration management
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-09-03</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/09/03/configuration-management/" class="link black dim">
        Управление конфигурацией и Chef
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Расскажу одну очень поучительную и одновременно типичную историю, которая случилась со мною года 3 назад. Однажды один из наших серверов вышел из строя. Казалось бы, обычная ситуация, но беда была в том, что работа приложения была сильно завязано на 10-15 различных cron-задач, которые были прописаны на этой машине. Еще большая проблема была в том, что писались скрипты, которые вызывались по cron, различными людьми, многие их которых к тому времени не работали в компании.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/continuous-delivery/" class="link blue hover-black">
            Tag: continuous delivery
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2015-03-11</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2015/03/11/continuous-delivery/" class="link black dim">
        Непрерывная поставка ПО
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Термин «Непрерывная поставка ПО» (Continuous Delivery, CD) прочно вошел в обиход в конце 2010 году, после выпуска одноименной книги.
В книге описываются достаточно простые идеи о том, как сделать процесс поставки ПО таким, чтобы его можно было выкатывать после каждого комита. И, хотя прошло уже больше четырех лет, до сих пор такой подход к поставке ПО не стал стандартом. По вполне понятным причинам множество компаний продолжает использовать кустарное либо мануфактурное производство, вместо перехода к конвейеру.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/continuous-integration/" class="link blue hover-black">
            Tag: continuous integration
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-02-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/02/27/continuous-integration/" class="link black dim">
        Непрерывная интеграция
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      О непрерывной интеграции (Continuous Integration) можно почитать у Мартина Фаулера (Martin Fowler) здесь. В друх словах, это практика постоянной интеграции наработок каждого программиста. Обычно это заключается в том, что на какой-нибудь машине постоянно (после каждого изменения в исходных кодах) собирается проект и прогоняются все тесты. Результаты этих действий высылаются разработчикам по почте. Это позволяет постоянно сохранять проект в относительно рабочем состоянии.
Удобным инструментом непрерывной интеграции является CruiseControl. К сожалению в своей оригинальной версии он поддерживает только систему контроля версий svn.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/cruisecontrol/" class="link blue hover-black">
            Tag: cruisecontrol
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-02-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/02/27/continuous-integration/" class="link black dim">
        Непрерывная интеграция
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      О непрерывной интеграции (Continuous Integration) можно почитать у Мартина Фаулера (Martin Fowler) здесь. В друх словах, это практика постоянной интеграции наработок каждого программиста. Обычно это заключается в том, что на какой-нибудь машине постоянно (после каждого изменения в исходных кодах) собирается проект и прогоняются все тесты. Результаты этих действий высылаются разработчикам по почте. Это позволяет постоянно сохранять проект в относительно рабочем состоянии.
Удобным инструментом непрерывной интеграции является CruiseControl. К сожалению в своей оригинальной версии он поддерживает только систему контроля версий svn.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/delayed_job/" class="link blue hover-black">
            Tag: delayed_job
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-01-29</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/01/29/dj-on-separate-db/" class="link black dim">
        Delayed_job в отдельной базе данных
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Как я уже когда-то <a href="/blog/2009/05/19/two-databases/">писал</a>, иногда проект дорастает до того, что ему не хватает одной
базы данных. И тогда можно сделать вторую. Вопрос, какие таблицы переносить во вторую базу данных, всегда остается
открытым. В нашем случае, поскольку на сервере БД очень много памяти и слабая дисковая подсистема, мне показалось
разумным перенести туда таблицы, в которые идет интенсивная запись. И эти таблицы не должны быть «связаны», то есть
перенос их должен быть простым.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/deploy/" class="link blue hover-black">
            Tag: deploy
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-01-26</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/01/26/capistrano/" class="link black dim">
        Использование capistrano
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Для выкатки (deploy) я не знаю другого инструмента, кроме capistrano. Слышал про vlad, но в глаза его никогда не видел.
Использовать capistrano имеет смысл при любом размере проекта, будь то сайт из 3-5 страничек, или что-то большое. Во втором случае отказ от использования capistrano — форменное безумие с моей точки зрения.
Начать знакомиться лучше всего отсюда.
Если вкратце, то заходим в каталог проекта и набираем:
capify . Дальше правим файл config/deploy.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/devise/" class="link blue hover-black">
            Tag: devise
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-03-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/03/23/rails-update/" class="link black dim">
        Обновление на rails3 и проблемы, связанные с этим
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>На «Групоне» мы давно уже переходим с Rails 2.3 на Rails 3.0. На этой неделе перешли — полет нормальный. Но поскольку
сразу переход у нас не получился, то мы переходили по частям. И тут возникла проблема, что в rails3 нужен новый devise (1.5.3),
которому нужен warden (1.1.1). А в rails2 используется devise (1.0.9), которому нужен warden (0.10.7). И вот этот вот
warden стал по-другому сериализовать сессию. А devise стал хранить remember_token в подписанной (signed) cookie. Более
того, из самих рельс пропал класс ActionController::Flash::FlashHash, поэтому при десериализации сессии происходило
неуловимое исключение в Marshal.load.</p>
<p>Все эти проблемы решены были кодом, которые приведен ниже. И еще похожий код был в rails2-ветке, который конвертил
сессию третьих рельс во вторую. Пользуйтесь с осторожностью.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/devops/" class="link blue hover-black">
            Tag: devops
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-01-10</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/01/10/vagrant/" class="link black dim">
        vagrant
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Очень странно, что я до сих пор не написал о <a href="http://vagrantup.com/">Vagrant</a> — инструменте создания и распространения
виртуальных окружений.</p>
<p>Vagrant нужен для одной простой цели — тестировать выкатку и изменение конфигурции. Причем он позволяет делать это очень
просто, особенно для <a href="http://wiki.opscode.com/display/chef/Home">Chef</a> и <a href="http://www.puppetlabs.com/puppet">Puppet</a>.
Vagrant — это надстройка над платформой виртуализации VirtualBox, которая позволяет легко и быстро создавать
виртуальные машины по шаблону.</p>
<p>Работать с ним очень легко. Вы берете какой-нибудь готовый образ ОС (например, <a href="http://www.vagrantbox.es/">отсюда</a>) или
<a href="http://vagrantup.com/docs/base_boxes.html">создаете свой</a>, который и будет вашим шаблоном. А потом проверяете, как на
этот образ накатываются ваши Chef-рецепты, причем можете делать это каждый раз с чистого листа. Конечно, образ должен
быть точно такой же, который вы используете в бою, на staging-сервере, на CI-сервере и, вообще, везде. Это позволит вам
выловить максимальное количество проблем до того, как они попадут на production.
Более того, это гораздо удобнее, чем писать chef-рецепты «вслепую». Все, что происходит тяжело, надо делать часто, чтобы
научиться делать это хорошо. Выкатка с изменением конфигурации обычно происходит тяжело. Поэтому стоит тренироваться
менять конфигурацию и выкатываться, при этом желательно делать это в «песочнице», а не на сервере, который обслуживает
ваших пользователей (и приносит деньги).</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/gem/" class="link blue hover-black">
            Tag: gem
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-06-07</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/06/07/package-manager/" class="link black dim">
        Пакетные менеджеры
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Тема этого поста навеяна <a href="https://groups.google.com/forum/?fromgroups#!topic/erlang-russian/hu5UViybcXI">обсуждением пакетных менеджеров в рассылке
Erlang</a>. К сожалению, обсуждение завяло,
так и не успев начаться.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/git/" class="link blue hover-black">
            Tag: git
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-05-25</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/05/25/git-merge-base/" class="link black dim">
        Конфликтные слияния веток и git merge-base
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Когда у вас есть две ветки разработки, которые достаточно сильно друг от друга отличаются, периодически возникают
проблемы с их слиянием (merge).</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-08-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/08/23/pro-git/" class="link black dim">
        Рассказ про Git
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      По-моему, в «Прагматичных программистах» было написана фраза, которую я часто люблю повторять: «Программист должен в совершенстве владеть двумя инструментами — текстовым редактором и системой контроля версий». Программист работает с текстом, особенно программист, который пишет на высокоуровневом языке, таком как Ruby. Зачастую можно не вдаваться в подробности того, что происходит внутри, хотя иногда, конечно, надо. Так вот, текст надо уметь изменять, а потом этими изменениями как-то обмениваться со своими коллегами.
Про текстовый редактор я рассказывал немного раньше, а сегодня я хочу рассказать про систему контроля версий git.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-04-03</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/04/03/git-reset/" class="link black dim">
        Отмена последнего коммита в git
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Допустим, вы сделали commit в git, но поняли, что он недостаточно хорош. В таком случае можно продолжить правки, а при следующем коммите набрать
git commit -a --amend Ключ --amend (улучшить, в переводе с английского) позволяет добавить к последнему коммиту новые изменения.
Если вы сделали commit в git, но поняли, что он достаточно плох, то можно сделать и так:
git reset --soft HEAD^ Эта команда отменит последний коммит (но не изменения, которые вы внесли, они сохранятся).
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-03-13</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/03/13/git-move-branch/" class="link black dim">
        Перенести ветку в git
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Представим следующую ситуацию (она постоянно возникает у нас при разработке). У нас есть ветка master в git, а в день релиза мы создаем ветку b1. Мы добавляем какие-то изменения в ветки b1 и master. И тут вдруг (хотя слово «вдруг» не очень подходит к регулярным событям) менеджмент решает добавить что-то из master в релиз.
Если комитов было мало, то можно воспользоваться git cherry-pick (если их несколько, то может помочь ключ -n).
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/hashwithindifferentaccess/" class="link blue hover-black">
            Tag: hashwithindifferentaccess
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-09-09</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/09/09/indiferent-hash-merge/" class="link black dim">
        Слияние HashWithIndifferentAccess с обычными хешами
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Сегодня у нас перестали ходить отчеты по почте. Ходили, ходили и вдруг перестали. Kлассы выглядели следующим образом (ненужные подробности я опустил).
class ReportSender def initialize(report_instance) @report_instance = report_instance @params = report_instance.params @emails = @params.delete(:mail_to) end class Report def initialize(params = {}) @params = self.class.default_values.merge(params) end К классам отчетов были добавлены значения по-умолчанию, и, как оказалось, из-за них были все проблемы.
Хеш params, которые передается в класс Report — это тот самый params из контроллера.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/hstore/" class="link blue hover-black">
            Tag: hstore
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-01-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/01/23/hstore/" class="link black dim">
        Hstore — key-value расширение для postgresql
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Наверное, не все знают, что для postgresql существует большое количество расширений, которые называются
<a href="http://www.postgresql.org/docs/9.1/static/contrib.html">contrib модулями</a>.</p>
<p>Рассмотрим один из таких модулей - <a href="http://www.postgresql.org/docs/9.1/static/hstore.html">hstore</a>. Этот модуль
нужен для того, чтобы в одном поле в БД хранить много значений key/value, фактически, просто какой-то хеш. При этом и
ключи и значения могут быть только строками. О том, чем это лучше, нежели просто хранить в текстовом поле сериализованный хеш,
я расскажу чуть-чуть попозже. Понадобится это может в том случае, если у вас есть модели с произвольным набором полей.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/json/" class="link blue hover-black">
            Tag: json
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-03-14</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/03/14/postgresql-json/" class="link black dim">
        Поддержка JSON в PostgreSql 9.2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В третьем квартале 2012 должна выйти версия PostgreSQL 9.2, в которой добавят много интересных возможностей. Среди них — базовая поддержка так полюбившегося всем web-разработчикам формата JSON. На данном этапе появится только возможность проверять JSON на валидность, но судя по списку рассылки, к версии 9.3 будет добавлена возможность строить индексы на JSON объектах подобно тому, как это можно сделать на hstore. Конечно, JSON объекты гораздо сложнее hstore, и как именно и в каком объеме будет реализована поддержка индексов в JSON — пока не ясно.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/key-value/" class="link blue hover-black">
            Tag: key-value
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-01-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/01/23/hstore/" class="link black dim">
        Hstore — key-value расширение для postgresql
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Наверное, не все знают, что для postgresql существует большое количество расширений, которые называются
<a href="http://www.postgresql.org/docs/9.1/static/contrib.html">contrib модулями</a>.</p>
<p>Рассмотрим один из таких модулей - <a href="http://www.postgresql.org/docs/9.1/static/hstore.html">hstore</a>. Этот модуль
нужен для того, чтобы в одном поле в БД хранить много значений key/value, фактически, просто какой-то хеш. При этом и
ключи и значения могут быть только строками. О том, чем это лучше, нежели просто хранить в текстовом поле сериализованный хеш,
я расскажу чуть-чуть попозже. Понадобится это может в том случае, если у вас есть модели с произвольным набором полей.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/knife/" class="link blue hover-black">
            Tag: knife
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2014-03-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2014/03/28/knife-solo/" class="link black dim">
        Соло на ноже
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Очень часто для небольших проектов нет необходимости усложнять инфраструктуру с использованием chef-server. Существует мнение, что chef server, вообще, не нужен, и многие аргументы в пользу этой идеи кажутся мне вполне убедительными.
Для людей, которым нравится DSL chef и не нужен chef server, есть chef-solo. Чтобы готовить с его помощью, нужен специальный нож — knife-solo. Это инструмент, который значительно упрощает использование chef-solo.
Для начала поставить knife-solo
gem install knife-solo Если у вас есть уже готовый репозитарий для chef, как, например, наше тесто, то следующий шаг можно пропустить.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/londiste/" class="link blue hover-black">
            Tag: londiste
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-06-05</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/06/05/pgq-londiste-plugin/" class="link black dim">
        PgQ и Londiste
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Хотя я так и не написал толком, как пользоваться PgQ и Londiste, но уже написал плагин, который облегчает его использование вместе с рельсами.
http://github.com/evtuhovich/pgq/tree/master
В README всё написано на плохом английском (с хорошим английским у меня плохо).
Совсем скоро я добавлю туда возможность прогонять миграции на master и slave базах данных одновременно. Тогда при очередной выкатке необходимо будет сделать только rake londiste:update в самом конце, после того, как все миграции прогонятся.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-05-22</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/05/22/live-table-migration/" class="link black dim">
        Перенос таблицы в другую базу данных postgres без простоя приложения
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В продолжении темы о нескольких базах данных в одном rails-приложении расскажу о том, как изящно перенести одну большую таблицу в другую БД postgresql.
Пусть у нас есть таблица messages с большим количеством данных (10 миллионов записей), которые мы решили перенести на другой сервер. Мы сделали, как написано в статье, указанной выше, а также создали в новой БД таблицу messages с такой же структурой.
Теперь с помощью londiste настраиваем репликацию из первой БД во вторую для таблицы messages (об этом я напишу подробнее попозже, пока же можно прочитать об этом у Андрея Стихеева в рассылке ror2ru).
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/memcache/" class="link blue hover-black">
            Tag: memcache
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-03-22</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/03/22/cache-problem/" class="link black dim">
        Проблемы с кэшированием
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Все ситуации, о которых я здесь пишу, встретились мне в повседневной работе. Единственное, что я делаю — меняю название классов, чтобы не утруждать моего читателя незнакомой для него предметной областью.
Итак, у нас есть следующие модели:
# shop.rb class Shop &lt; ActiveRecord::Base has_many :categories cached_methods do def wait_orders_count Order.count :conditions =&gt; {:status_id =&gt; Order::WAIT} end def paid_orders_count Order.count :conditions =&gt; {:status_id =&gt; Order::PAID} end def bad_orders_count Order.count :conditions =&gt; {:status_id =&gt; Order::BAD} end end end class Category &lt; ActiveRecord::Base belongs_to :shop has_many :products end class Product &lt; ActiveRecord::Base belongs_to :category has_many :orders end class Order belongs_to :product end Методы внутри cached_methods выполняются в том случае, если значение для них не нашлось в кэше (например, в memcached).
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/osx/" class="link blue hover-black">
            Tag: osx
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-07-14</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/07/14/collate-osx-postgres/" class="link black dim">
        Проблема с сортировкой русских слов в Postgres на OSX
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Я давно мечтаю об Ubuntu, которая работает так же хорошо, как OSX. К несчастью, большинство пользовательских программ в
Ubuntu хуже, чем в OSX, а что касается серверной части - OSX очень сильно отстает от Ubuntu (Debian).</p>
<p>К примеру, по-умолчанию, в Postgresql в OSX сломана сортировка русских слов. Решение я нашел
<a href="http://chipiga.pp.ua/sql/kak-zastavit-postgresql-pravilno-sortirovat-utf8-kirillitsu-na-mac-os-x/">здесь</a>.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/package-manager/" class="link blue hover-black">
            Tag: package manager
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-06-07</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/06/07/package-manager/" class="link black dim">
        Пакетные менеджеры
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Тема этого поста навеяна <a href="https://groups.google.com/forum/?fromgroups#!topic/erlang-russian/hu5UViybcXI">обсуждением пакетных менеджеров в рассылке
Erlang</a>. К сожалению, обсуждение завяло,
так и не успев начаться.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/paperclip/" class="link blue hover-black">
            Tag: paperclip
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-05-11</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/05/11/paperclip/" class="link black dim">
        Странное поведение создателей Paperclip
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Вчера я разворачивал наше приложение в системе CI <a href="http://jenkins-ci.org/">Jenkins</a>, и обнаружил, что bundler не находит
gem paperclip. В Gemfile была явно прописана версия 3.0.1. Зайдя на <a href="https://rubygems.org/gems/paperclip/versions">rubygems</a>, я увидел,
что эту версию гема его создатели удалили, а версия 3.0.2 и старше не поставилась, выругавшись на то, что ей нужен ruby
1.9.2 и старше.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/partitioning/" class="link blue hover-black">
            Tag: partitioning
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-02-24</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/02/24/partitioning/" class="link black dim">
        Партиционирование
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Я долго считал партиционирование плохой практикой, а само слово не любил из-за кальки с английского, которую крайне
сложно выговорить с первого раза. И если слово «партиционирование» я так с первого раза и не выговариваю, то саму
практику пришлось признать как необходимое и неизбежное зло. Чтобы никто не подумал, что я делаю что-то плохое, я
использую для этого термин «инженерный компромисс», звучит умнее и не так обидно.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pathogen/" class="link blue hover-black">
            Tag: pathogen
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2010-04-05</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2010/04/05/vim-pathogen/" class="link black dim">
        Автоматизация vim с помощью pathogen
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Извечная проблема о том, как добавлять и обновлять плагины в vim решилась благодаря легендарному Tim Pope.
Сегодня утром узнал от Ярослава Маркина о существовании pathogen.
Статья на английском о том, как им пользоваться, лежит здесь. Правда, я потратил полчаса, чтобы догадаться, что надо добавить call pathogen#runtime_append_all_bundles() в файл ~/.vimrc.
После установки pathogen.vim в ~/.vim/autoload можно хранить все плагины в папке ~/.vim/bundle, причем каждый в своей папке.
А еще огромный плюс - в конце этой статьи код, который позволяет обновлять все плагины одной командой.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/performance/" class="link blue hover-black">
            Tag: performance
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-06-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/06/28/pg-stat-statements/" class="link black dim">
        Статистика запросов и pg_stat_statements
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Иногда при эксплуатации проекта возникает вопрос, какие запросы в БД выполняются дольше всего или потребляют наибольшее количество времени или ресурсов.
До версии 9.2 неплохой ответ на этот вопрос можно было получить с помощью проекта pgBadger. Если прорваться через достаточно простую процедуру его настройки, описанную в документации, то в результате можно получить достаточно красивый отчет. К сожалению, этот подход имеет достаточно много слабых сторон. Во-первых, чтобы получить полную картину, необходимо писать логи всех запросов к БД, которые при значительной нагрузке отъедают огромное количество дискового пространства, а также производительность дисковой подсистемы.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-02-19</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/02/19/local-data/" class="link black dim">
        Фильтрация данных на клиенте
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Давече у нас на Групоне возникла следующая проблема — начала тормозить одна страница в админке. Причем до того сильно,
что ее sql запрос стал регулярно появляться в списке медленных запросов в newrelic. Для большей понятности я поменяю
название моделей на книги (Book) и авторы (Author), при этом, очевидно, «авторы имеют много книг», то есть связь один ко
многим.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pg_reorg/" class="link blue hover-black">
            Tag: pg_reorg
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-01-09</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/01/09/fix-db-on-fly/" class="link black dim">
        Ремонт БД на лету с помощью pg_repack
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Окончились новогодние праздники, а это значит, что пора с новыми силами кинуться в бой с ИТ-сложностью, ИТ-хаосом
и другими ИТ бедами.</p>
<p>Одной из бед всех версионных БД является разбухание таблиц. Все бы ничего, но если количество активно используемых
данных перестает влезать в оперативную память, то время обработки запросов к БД чрезвычайно сильно возрастает (об этом я
напишу в ближайшем будущем). И чтобы «впихнуть» размеры таблицы в нужный размер, иногда приходится делать некоторые нетрадиционные
трюки.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pg_repack/" class="link blue hover-black">
            Tag: pg_repack
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-01-09</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/01/09/fix-db-on-fly/" class="link black dim">
        Ремонт БД на лету с помощью pg_repack
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Окончились новогодние праздники, а это значит, что пора с новыми силами кинуться в бой с ИТ-сложностью, ИТ-хаосом
и другими ИТ бедами.</p>
<p>Одной из бед всех версионных БД является разбухание таблиц. Все бы ничего, но если количество активно используемых
данных перестает влезать в оперативную память, то время обработки запросов к БД чрезвычайно сильно возрастает (об этом я
напишу в ближайшем будущем). И чтобы «впихнуть» размеры таблицы в нужный размер, иногда приходится делать некоторые нетрадиционные
трюки.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pgbadger/" class="link blue hover-black">
            Tag: pgbadger
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-06-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/06/28/pg-stat-statements/" class="link black dim">
        Статистика запросов и pg_stat_statements
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Иногда при эксплуатации проекта возникает вопрос, какие запросы в БД выполняются дольше всего или потребляют наибольшее количество времени или ресурсов.
До версии 9.2 неплохой ответ на этот вопрос можно было получить с помощью проекта pgBadger. Если прорваться через достаточно простую процедуру его настройки, описанную в документации, то в результате можно получить достаточно красивый отчет. К сожалению, этот подход имеет достаточно много слабых сторон. Во-первых, чтобы получить полную картину, необходимо писать логи всех запросов к БД, которые при значительной нагрузке отъедают огромное количество дискового пространства, а также производительность дисковой подсистемы.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pgbench/" class="link blue hover-black">
            Tag: pgbench
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-03-20</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/03/20/big-cache/" class="link black dim">
        БД — большой кэш
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В <a href="blog/2013/02/24/partitioning/">прошлый раз</a> я обещал написать о том, что в проектах с более менее серьезной нагрузкой
БД либо помещается в память, либо не работает. Ситуация в современном мире меняется в связи с появлением SSD дисков, но
пока что они стоят достаточно дорого, по сравнению со старыми добрыми вращающимися дисками. Чтобы «потрогать» это
руками, проделаем несложный тест.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pgbouncer/" class="link blue hover-black">
            Tag: pgbouncer
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-02-12</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/02/12/pgbouncer/" class="link black dim">
        PgBouncer
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Удивительное дело, что я до сих пор не написал про <a href="http://pgfoundry.org/projects/pgbouncer/">PgBouncer</a>. Как написано
на сайте — это «Lightweight connection pooler for PostgreSQL». Я бы первел это следующим образом.
PgBouncer — это легкий менеджер соединений для PostgreSQL.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pgq/" class="link blue hover-black">
            Tag: pgq
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-06-05</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/06/05/pgq-londiste-plugin/" class="link black dim">
        PgQ и Londiste
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Хотя я так и не написал толком, как пользоваться PgQ и Londiste, но уже написал плагин, который облегчает его использование вместе с рельсами.
http://github.com/evtuhovich/pgq/tree/master
В README всё написано на плохом английском (с хорошим английским у меня плохо).
Совсем скоро я добавлю туда возможность прогонять миграции на master и slave базах данных одновременно. Тогда при очередной выкатке необходимо будет сделать только rake londiste:update в самом конце, после того, как все миграции прогонятся.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-04-04</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/04/04/queue/" class="link black dim">
        Использование очередей в высоконагруженных проектах
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      При большом количестве запросов к приложению (в широком смысле этого слова) иногда целесообразно ``размазать&rsquo;&rsquo; пиковую нагрузку во времени. Для этого удобно использовать очереди. То есть, если какое-то запрос наверняка должен быть выполнен, но не имеет значение произойдет это прямо сейчас или чуть попозже, можно создать событие в очереди. И когда до этого события дойдет очередь —&ndash; оно будет выполнено. Таким образом можно развести сложные запросы во времени.
Очереди подходят для таких задач, как, например, рассылка большого количества сообщений и обновление различных счетчиков в БД (если их актуальность не очень критична).
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/podcast/" class="link blue hover-black">
            Tag: podcast
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2014-01-04</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2014/01/04/podcasts/" class="link black dim">
        Итоги года: подкасты, мастер-классы и митап
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      RubyNoName подкаст нашел постоянных новых ведущих — это Кирилл Шатров и Андрей Дерябин. Они уже выпустили первый выпуск, а также обновили страницу о подкасте, на которой вы можете узнать о них немного больше.
Пока мой коллега Никита Борзых отдыхал в Париже, я записал интервью с Локомотивом DevOps Движения России Александром Титовым для нашего нового подкаста Девопс Дефлопе.
Мы организовали очередную встречу DevOps митапа в Яндексе, она будет бесплатная, пройдет 25 января в офисе Яндекса на улице Льва Толстого.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-11-13</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/11/13/deflope/" class="link black dim">
        Закат безымянного подкаста, Дефлопе и предложение о работе
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В суете и быстротечности нашей жизни нет ничего неизменного, лишь непостоянство — верный признак того, что жизнь продолжается. Почти два года мы с Иваном Самсоновым бесперебойно раз в две недели выпускали свежий и сочный выпуск RubyNoName подкаста, но в какой-то момент эта деятельность перестала приносить нам обоим радость и счастье. А что есть жизнь, как не попытка успеть за отведенный нам на земле срок испытать как можно больше счастья? Моя жизнь тесно переплелась с Chef, Vagrant и автоматическим управлением инфраструктурой, и это был вопрос времени, когда разработка с помощью Ruby, Rails и их друзей перестанет меня интересовать.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-02-08</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/02/08/rubynoname/" class="link black dim">
        RubyNoName подкаст
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Сегодня я выложил наш первый совместный с Иваном Самсоновым эпизод RubyNoName подкаста (плюсуйте анонс на Хабре).
Хочу сразу сказать, что дело это оказалось далеко не такое простое, как я думал раньше. Начиная с того, что непринужденно рассказывать о новостях в ruby-мире без мыканья, эканья, запинок, фраз «ну» и «как бы» получается у нас гораздо хуже, чем писать код на ruby. И заканчивая тем, что свести две дорожки в редакторе, а потом сделать из этого что-то, что хорошо слушается, вообще для меня пока что очень сложная задача, которая к тому же занимает очень много времени.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-03-10</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/03/10/vim/" class="link black dim">
        О редакторе Vim, рассказ ссылками
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Vim — прекрасный редактор, который я использую для разработки на Ruby и Rails. Его можно использовать в чистом виде, но если добавить немного плагинов, то удобство работы значительно возрастает. Об этом я и хочу рассказать, правда рассказ получится длинным.
Я выступал на последнем RailsClub&rsquo;е с докладом Vim Or Die (посмотреть его можно на univertv.ru), в котором неплохо раскрыл тему Vim и полезных плагинов. Cами слайды, которые малополезны без видео, можно найти на slideshare.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2010-07-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2010/07/28/podcasts/" class="link black dim">
        Англоязычные подкасты про ruby и rails
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Так сложилось, что я управляю транспортным средством больше, чем час в день (на работу, на тренировку, домой). И я давно уже хотел слушать английские тексты в это время, потому что музыка часто надоедает.
Я пробовал слушать «обычные» тексты, но потом подумал, что гораздо интереснее слушать то, что тебя волнует. Поэтому я порылся в дебрях интернета и нашел следующие подкасты, которые я регулярно слушаю.
The Ruby Show — выходит по вторникам, длится минут 15-20.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/postgresql/" class="link blue hover-black">
            Tag: postgresql
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2022-04-21</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2022/04/21/postgres-internals/" class="link black dim">
        PostgreSQL изнутри
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Мой коллега Егор Рогов из <a href="https://postgrespro.ru/">ППГ</a> недавно издал книгу &ldquo;PostgreSQL изнутри&rdquo;. Книгу можно <a href="https://postgrespro.ru/education/books/internals">бесплатно скачать</a> в формате pdf на сайте Postgres Professional. Для любителей читать книги, сделанные из переработанных трупов зверски убитых деревьев, ее без труда можно найти на сайте &ldquo;ДМК Пресс&rdquo;.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-06-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/06/28/pg-stat-statements/" class="link black dim">
        Статистика запросов и pg_stat_statements
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Иногда при эксплуатации проекта возникает вопрос, какие запросы в БД выполняются дольше всего или потребляют наибольшее количество времени или ресурсов.
До версии 9.2 неплохой ответ на этот вопрос можно было получить с помощью проекта pgBadger. Если прорваться через достаточно простую процедуру его настройки, описанную в документации, то в результате можно получить достаточно красивый отчет. К сожалению, этот подход имеет достаточно много слабых сторон. Во-первых, чтобы получить полную картину, необходимо писать логи всех запросов к БД, которые при значительной нагрузке отъедают огромное количество дискового пространства, а также производительность дисковой подсистемы.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-05-15</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/05/15/postgresql-9-dot-3/" class="link black dim">
        PostgreSQL 9.3 beta 1 на OSX
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Два дня назад, 13 мая, <a href="http://www.postgresql.org/about/news/1463/">вышла beta 1 PostgreSQL 9.3</a>. Во-первых, это хороший
знак, что уже пора обновляться на 9.2, либо выбирать 9.2 как основную БД. 9.3 планируется <a href="http://www.postgresql.org/developer/roadmap/">зарелизить в третьем квартале
2013 года</a>.</p>
<p>Обо всех новых возможностях 9.3 можно почитать на <a href="http://wiki.postgresql.org/wiki/What%27s_new_in_PostgreSQL_9.3">официальной wiki</a>.</p>
<p>Но чтобы не только почитать, но и попробовать, я напишу здесь, как поставить 9.3 beta 1 на OSX.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-03-20</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/03/20/big-cache/" class="link black dim">
        БД — большой кэш
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В <a href="blog/2013/02/24/partitioning/">прошлый раз</a> я обещал написать о том, что в проектах с более менее серьезной нагрузкой
БД либо помещается в память, либо не работает. Ситуация в современном мире меняется в связи с появлением SSD дисков, но
пока что они стоят достаточно дорого, по сравнению со старыми добрыми вращающимися дисками. Чтобы «потрогать» это
руками, проделаем несложный тест.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-02-24</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/02/24/partitioning/" class="link black dim">
        Партиционирование
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Я долго считал партиционирование плохой практикой, а само слово не любил из-за кальки с английского, которую крайне
сложно выговорить с первого раза. И если слово «партиционирование» я так с первого раза и не выговариваю, то саму
практику пришлось признать как необходимое и неизбежное зло. Чтобы никто не подумал, что я делаю что-то плохое, я
использую для этого термин «инженерный компромисс», звучит умнее и не так обидно.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-01-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/01/27/locks/" class="link black dim">
        Блокировки в PostgreSQL
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Чтобы рассказать о тонких моментах <a href="/blog/2013/01/09/fix-db-on-fly/">pg_repack</a>, мне понадобится немного углубиться в
тему блокировок в PostgreSQL. Конечно, лучше всего начать читать про них в <a href="http://www.postgresql.org/docs/9.1/static/explicit-locking.html">официальной документации</a>. Для этой статьи достаточно понимать, что
эксклюзивная блокировка (ACCESS EXCLUSIVE LOCK) препятствует выполнению всех операций, включая <code>SELECT</code>, и она нужна для операции
<code>ALTER TABLE</code>.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-01-09</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/01/09/fix-db-on-fly/" class="link black dim">
        Ремонт БД на лету с помощью pg_repack
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Окончились новогодние праздники, а это значит, что пора с новыми силами кинуться в бой с ИТ-сложностью, ИТ-хаосом
и другими ИТ бедами.</p>
<p>Одной из бед всех версионных БД является разбухание таблиц. Все бы ничего, но если количество активно используемых
данных перестает влезать в оперативную память, то время обработки запросов к БД чрезвычайно сильно возрастает (об этом я
напишу в ближайшем будущем). И чтобы «впихнуть» размеры таблицы в нужный размер, иногда приходится делать некоторые нетрадиционные
трюки.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-10-10</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/10/10/index-only-scan/" class="link black dim">
        Index Only Scan в Postgresql 9.2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Вообще, сам не узнаю себя, уже ровно месяц прошел с выпуска <a href="http://www.postgresql.org/docs/9.2/static/release-9-2.html">Postgresql 9.2</a>, даже вышло <a href="http://www.postgresql.org/docs/9.2/static/release-9-2-1.html">обновление 9.2.1</a>, исправляющее некоторые баги, а я все еще ничего не написал об этом.</p>
<p>Поэтому сегодня рассказ будет о Index Only Scan — самом заметном, по моему мнению, изменении в 9.2. Кстати, именно это
изменение стоит первым в <a href="http://www.postgresql.org/docs/9.2/static/release-9-2.html">Release Notes</a>, а значит я не
одинок.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-07-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/07/27/backup/" class="link black dim">
        Barman и WAL-E
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В postgresql есть замечательная возможность делать <a href="http://www.postgresql.org/docs/9.1/interactive/continuous-archiving.html">непрерывные бэкапы</a>,
то есть бэкапы, по которым можно восстановиться на любой момент времени.</p>
<p>Если вы делаете обычные бэкапы и запускаете в час ночи pg_dump, а в час дня ваш сервер БД умер, то вы потеряете данные за
12 часов и доверие ваших пользователей. Для многих web-сервисов такой сценарий неприемлем, и, чтобы минимизировать потери
данных, стоит использовать непрерывный бэкап.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-07-14</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/07/14/collate-osx-postgres/" class="link black dim">
        Проблема с сортировкой русских слов в Postgres на OSX
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Я давно мечтаю об Ubuntu, которая работает так же хорошо, как OSX. К несчастью, большинство пользовательских программ в
Ubuntu хуже, чем в OSX, а что касается серверной части - OSX очень сильно отстает от Ubuntu (Debian).</p>
<p>К примеру, по-умолчанию, в Postgresql в OSX сломана сортировка русских слов. Решение я нашел
<a href="http://chipiga.pp.ua/sql/kak-zastavit-postgresql-pravilno-sortirovat-utf8-kirillitsu-na-mac-os-x/">здесь</a>.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-03-14</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/03/14/postgresql-json/" class="link black dim">
        Поддержка JSON в PostgreSql 9.2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В третьем квартале 2012 должна выйти версия PostgreSQL 9.2, в которой добавят много интересных возможностей. Среди них — базовая поддержка так полюбившегося всем web-разработчикам формата JSON. На данном этапе появится только возможность проверять JSON на валидность, но судя по списку рассылки, к версии 9.3 будет добавлена возможность строить индексы на JSON объектах подобно тому, как это можно сделать на hstore. Конечно, JSON объекты гораздо сложнее hstore, и как именно и в каком объеме будет реализована поддержка индексов в JSON — пока не ясно.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-01-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/01/23/hstore/" class="link black dim">
        Hstore — key-value расширение для postgresql
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Наверное, не все знают, что для postgresql существует большое количество расширений, которые называются
<a href="http://www.postgresql.org/docs/9.1/static/contrib.html">contrib модулями</a>.</p>
<p>Рассмотрим один из таких модулей - <a href="http://www.postgresql.org/docs/9.1/static/hstore.html">hstore</a>. Этот модуль
нужен для того, чтобы в одном поле в БД хранить много значений key/value, фактически, просто какой-то хеш. При этом и
ключи и значения могут быть только строками. О том, чем это лучше, нежели просто хранить в текстовом поле сериализованный хеш,
я расскажу чуть-чуть попозже. Понадобится это может в том случае, если у вас есть модели с произвольным набором полей.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-12-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/12/27/bible/" class="link black dim">
        Библия PostgreSQL
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><img src="/images/pg-book.jpg" alt="Библия"></p>
<p>Если вы работаете с postgresql и сталкиваетесь с затруднительными ситуациями, ответы на которые даже не ясно, как
гуглить, то, скорее всего, вам не хватает каких-то фундаментальных знаний этой БД.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-06-05</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/06/05/pgq-londiste-plugin/" class="link black dim">
        PgQ и Londiste
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Хотя я так и не написал толком, как пользоваться PgQ и Londiste, но уже написал плагин, который облегчает его использование вместе с рельсами.
http://github.com/evtuhovich/pgq/tree/master
В README всё написано на плохом английском (с хорошим английским у меня плохо).
Совсем скоро я добавлю туда возможность прогонять миграции на master и slave базах данных одновременно. Тогда при очередной выкатке необходимо будет сделать только rake londiste:update в самом конце, после того, как все миграции прогонятся.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-05-22</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/05/22/live-table-migration/" class="link black dim">
        Перенос таблицы в другую базу данных postgres без простоя приложения
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В продолжении темы о нескольких базах данных в одном rails-приложении расскажу о том, как изящно перенести одну большую таблицу в другую БД postgresql.
Пусть у нас есть таблица messages с большим количеством данных (10 миллионов записей), которые мы решили перенести на другой сервер. Мы сделали, как написано в статье, указанной выше, а также создали в новой БД таблицу messages с такой же структурой.
Теперь с помощью londiste настраиваем репликацию из первой БД во вторую для таблицы messages (об этом я напишу подробнее попозже, пока же можно прочитать об этом у Андрея Стихеева в рассылке ror2ru).
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-04-08</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/04/08/concurent-index/" class="link black dim">
        Конкурентное пересоздание индексов в postgresql
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      На таблице postgresql с большим количеством данных невозможно быстро создать либо пересоздать индекс. При создании индекса таблица блокируется для операций INSERT, UPDATE и DELETE. В таких случаях может помочь конкурентное создание индекса. Иногда на postgresql стоит пересоздавать индексы, чтобы уменьшить их фрагментацию (и увеличить скорость). Создание конкурентного индекса будет частным случаем его пересоздания.
Пусть имеется таблица orders с 1 миллионом записей (приблизительно) в которой хранятся заказы. И в этой таблице есть поля country_id, region_id, city_id, на которых создан индекс.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-04-04</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/04/04/queue/" class="link black dim">
        Использование очередей в высоконагруженных проектах
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      При большом количестве запросов к приложению (в широком смысле этого слова) иногда целесообразно ``размазать&rsquo;&rsquo; пиковую нагрузку во времени. Для этого удобно использовать очереди. То есть, если какое-то запрос наверняка должен быть выполнен, но не имеет значение произойдет это прямо сейчас или чуть попозже, можно создать событие в очереди. И когда до этого события дойдет очередь —&ndash; оно будет выполнено. Таким образом можно развести сложные запросы во времени.
Очереди подходят для таких задач, как, например, рассылка большого количества сообщений и обновление различных счетчиков в БД (если их актуальность не очень критична).
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-03-20</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/03/20/big-tables/" class="link black dim">
        PosgtreSql, миграции и огромные таблицы
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Миграции в rails — это очень правильный инструмент. Правда, иногда случаются казусы, потому что конкретная БД перестает быть «сферическим конем в вакууме», как только количество данных и нагрузка на нее становится существенной.
Пусть у нас есть таблица posts, в которой 10 миллионов записей. И мы решили добавить в нее поле is_searchable.
$ script/generate migration add_is_searchable_to_posts class AddIsSearchableToPosts &lt; ActiveRecord::Migration def self.up add_column :posts, :is_searchable, :boolean, :default =&gt; true, :null =&gt; false end def self.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/powershell/" class="link blue hover-black">
            Tag: powershell
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2014-10-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2014/10/23/powershell/" class="link black dim">
        Могущественная скорлупа
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Могущественная скорлупа — это, конечно же, шуточный перевод PowerShell. Обратиться к этой теме старого любителя Linux заставило не праздное любопытство, а насущная производственная необходимость. Конечно же, в мире Linux принято весело хохотать и поливать грязью все, что относится к Windows. Но, надо сказать, что многое изменилось в мире Windows, за последнее время.
Во-первых, появился аналог ssh. По протоколу WinRM с помощью PowerShell можно ходить по другим машинкам не хуже, чем по ssh.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/rails/" class="link blue hover-black">
            Tag: rails
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-04-24</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/04/24/flash-message/" class="link black dim">
        Изменение формата сессии при переходе с Rails 3.0 на 3.2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Групон сейчас активно переводится с rails 3.0 на rails 3.2. Самая досадная неожиданность, которая встретилась в процессе
переезда — это изменение формата хранения flash сообщений в сессии. Если бы при этом flash сообщение пропадало, то это
было бы не страшно, но при декодировании сессии происходит исключение, и пользователь видит 500 ошибку до тех пор, пока
не почистит куки. Конечно, пользователей, у которых в сессии будет flash сообщение в момент переключения с версии 3.0 на
3.2 будет не так и много, но это пользователи, потерянные навсегда.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-03-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/03/23/rails-update/" class="link black dim">
        Обновление на rails3 и проблемы, связанные с этим
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>На «Групоне» мы давно уже переходим с Rails 2.3 на Rails 3.0. На этой неделе перешли — полет нормальный. Но поскольку
сразу переход у нас не получился, то мы переходили по частям. И тут возникла проблема, что в rails3 нужен новый devise (1.5.3),
которому нужен warden (1.1.1). А в rails2 используется devise (1.0.9), которому нужен warden (0.10.7). И вот этот вот
warden стал по-другому сериализовать сессию. А devise стал хранить remember_token в подписанной (signed) cookie. Более
того, из самих рельс пропал класс ActionController::Flash::FlashHash, поэтому при десериализации сессии происходило
неуловимое исключение в Marshal.load.</p>
<p>Все эти проблемы решены были кодом, которые приведен ниже. И еще похожий код был в rails2-ветке, который конвертил
сессию третьих рельс во вторую. Пользуйтесь с осторожностью.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-09-11</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/09/11/find-in-batches/" class="link black dim">
        Проблемы с find_in_batches
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Иногда мне кажется, что большинство инженерных историй похожи как две капли воды. Вот и эта история началась с того, что в одном большом отчете цифры не сходились раза в два.
Мысленно закурив трубку, как Шерлок Холмс, я взялся за дело. Вот таким образом выглядела модель, по которой считались цифры (я опускаю ненужные подробности).
class OfferDescription &lt; ActiveRecord::Base has_many :children, :class_name =&gt; &#39;OfferDescription&#39;, :foreign_key =&gt; :parent_id end В отчете данные группировались по родительским объектам OfferDescription.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-08-22</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/08/22/caches-action/" class="link black dim">
        Некоторые проблемы с cached_action в Rails 2.3
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      На Групоне у нас есть внутренняя страница, на которой динамически отображаются данные о продажах по различным городам. Результаты этой страницы зависят от параметров, которые передаются в метод show. А потом эта страница динамически обновляется с помощью ajax-запросов.
# dashboard.rb class Admin::DashboardsController &lt; Admin::BaseController layout &#34;admin&#34; def show # Здесь сложные-сложные запросы к БД if request.xhr? render &#39;show&#39;, :layout =&gt; false end end end Поскольку запросы очень тяжелые, да и сама страничка непростая, то отдача ее сильно нагружала БД и app-сервера.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2010-07-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2010/07/27/rails-logger/" class="link black dim">
        Переопределение Rails.logger и проблемы с ним
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Часто один и тот же rails-проект используется и для web-части, и для каких-то других задач, выполняемых по расписанию или для создания демонов. В таких случаях иногда хочется, чтобы логи разных частей писались в разные файлы.
Готового способа для этого я не нашел. Например, посмотрим на такой пример:
$ ./script/console Loading development environment (Rails 2.3.5) &gt;&gt; ActiveRecord::Base.logger = Logger.new(STDOUT) =&gt; #&amp;lt;Logger:0xb192594 @progname=nil, @level=0, @default_formatter=#&amp;lt;Logger::Formatter:0xb19255c @datetime_format=nil&gt;, formatternil, logdev#&amp;lt;Logger::LogDevice:0xb19247c @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#&amp;lt;IO:&amp;lt;STDOUT&gt;, mutex#&amp;lt;Logger::LogDevice::LogDeviceMutex:0xb192444 @mon_owner=nil, @mon_count=0, @mon_mutex=#&amp;lt;Mutex:0xb19240c&gt; &gt;&gt; User.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-06-05</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/06/05/pgq-londiste-plugin/" class="link black dim">
        PgQ и Londiste
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Хотя я так и не написал толком, как пользоваться PgQ и Londiste, но уже написал плагин, который облегчает его использование вместе с рельсами.
http://github.com/evtuhovich/pgq/tree/master
В README всё написано на плохом английском (с хорошим английским у меня плохо).
Совсем скоро я добавлю туда возможность прогонять миграции на master и slave базах данных одновременно. Тогда при очередной выкатке необходимо будет сделать только rake londiste:update в самом конце, после того, как все миграции прогонятся.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-05-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/05/28/validates-uniqueness-of/" class="link black dim">
        Проблема с проверкой уникальности какого-то поля в rails
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Пусть в модели User у нас описана валидация для поля email
validates_uniqueness_of :email, :case_sensitive =&gt; false, :message =&gt; i18n_proxy(:email_already_registered) Следующий код генерирует вот такой запрос к базе данных:
SELECT * FROM users WHERE lower(email) = &#39;thmth&#39; LIMIT 1 А на таблице users у нас индекс по полю email. В postgresql запрос, что вверху, не будет использовать индекс. Представьте, что будет, когда в таблице users десятки тысяч записей, а на каждое изменение любого поля в users вызывается такой запрос.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-03-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/03/23/test-and-testing/" class="link black dim">
        Тесты и тестирование
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Возможно, в сайте из 3 контроллеров и 15 страниц, тесты и не нужны. Я обычно не делаю тесты на маленьких проектах, которые пишу один.
В случае, если проект собирается быть большим, длиться долго, а команда состоит больше чем из одного человека, то тесты — крайне желательный инструмент для того, чтобы разработка не вышла из под контроля. Без тестов в какой-то момент невозможно внести серьезное изменение в код, потому что знаешь, что такое изменение заденет еще некоторые части и точно знаешь, что все зависимости точно не учтешь.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-03-22</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/03/22/cache-problem/" class="link black dim">
        Проблемы с кэшированием
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Все ситуации, о которых я здесь пишу, встретились мне в повседневной работе. Единственное, что я делаю — меняю название классов, чтобы не утруждать моего читателя незнакомой для него предметной областью.
Итак, у нас есть следующие модели:
# shop.rb class Shop &lt; ActiveRecord::Base has_many :categories cached_methods do def wait_orders_count Order.count :conditions =&gt; {:status_id =&gt; Order::WAIT} end def paid_orders_count Order.count :conditions =&gt; {:status_id =&gt; Order::PAID} end def bad_orders_count Order.count :conditions =&gt; {:status_id =&gt; Order::BAD} end end end class Category &lt; ActiveRecord::Base belongs_to :shop has_many :products end class Product &lt; ActiveRecord::Base belongs_to :category has_many :orders end class Order belongs_to :product end Методы внутри cached_methods выполняются в том случае, если значение для них не нашлось в кэше (например, в memcached).
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-03-20</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/03/20/big-tables/" class="link black dim">
        PosgtreSql, миграции и огромные таблицы
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Миграции в rails — это очень правильный инструмент. Правда, иногда случаются казусы, потому что конкретная БД перестает быть «сферическим конем в вакууме», как только количество данных и нагрузка на нее становится существенной.
Пусть у нас есть таблица posts, в которой 10 миллионов записей. И мы решили добавить в нее поле is_searchable.
$ script/generate migration add_is_searchable_to_posts class AddIsSearchableToPosts &lt; ActiveRecord::Migration def self.up add_column :posts, :is_searchable, :boolean, :default =&gt; true, :null =&gt; false end def self.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/railsclub/" class="link blue hover-black">
            Tag: railsclub
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-09-08</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/09/08/railsclub-2012/" class="link black dim">
        Конференции
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Сегодня я хочу рассказать о пользе конференций в жизненной практике любого специалиста. Если вы просто работаете в своей
профессии и не хотите стать и быть Специалистом (именно так, с большой буквы), то дальше можете не читать.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-12-21</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/12/21/railsclub/" class="link black dim">
        Railsclub: отчет о прошедшей конференции
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В субботу 17 декабря прошла конференция Railsclub, которую посетило приблизительно 170 человек. Я рад, что в этот раз нам удалось привезти иностранных коллег: Sven Fuchs, Konstantin Haase и Piotr Sarnacki.
Но помимо самой конференции, было еще несколько посиделок, где можно было поговорить со всеми в неформальной обстановке. Я старался о всех публичных мероприятиях сообщать в твиттере конференции @railsclub_ru.
Очень понравилось, что Свен остался специально на день подольше, чтобы потусоваться с русскими разработчиками, специально посетил «Злых Марсианах», чтобы посмотреть, что у нас делается.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/rollback/" class="link blue hover-black">
            Tag: rollback
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-05-19</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/05/19/two-databases/" class="link black dim">
        Несколько баз данных
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В некоторых ситуациях необходимо использовать более чем одну базу данных в проекте. Например, статистику и большие таблицы хранить на другом сервере, у которого большой и медленный диск, а данные, которые нужны постоянно, хранить на основном сервере с маленьким и быстрым диском.
В нашем случае хотелось унести большие таблицы на другой сервер, чтобы в дисковом кэше (а у главного сервера БД 32 Гб оперативной памяти) хранились все рабочие таблицы и никогда оттуда не убегали.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/rspec/" class="link blue hover-black">
            Tag: rspec
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-02-22</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/02/22/transactions-on-multiple-db/" class="link black dim">
        Транзакции и несколько БД
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Иногда так случается, что на проекте необходимо использовать более одного сервера баз данных. Оказывается, в rails можно
достаточно удобно поддерживать актуальность нескольких БД с помощью миграций.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-05-19</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/05/19/two-databases/" class="link black dim">
        Несколько баз данных
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В некоторых ситуациях необходимо использовать более чем одну базу данных в проекте. Например, статистику и большие таблицы хранить на другом сервере, у которого большой и медленный диск, а данные, которые нужны постоянно, хранить на основном сервере с маленьким и быстрым диском.
В нашем случае хотелось унести большие таблицы на другой сервер, чтобы в дисковом кэше (а у главного сервера БД 32 Гб оперативной памяти) хранились все рабочие таблицы и никогда оттуда не убегали.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-03-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/03/23/test-and-testing/" class="link black dim">
        Тесты и тестирование
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Возможно, в сайте из 3 контроллеров и 15 страниц, тесты и не нужны. Я обычно не делаю тесты на маленьких проектах, которые пишу один.
В случае, если проект собирается быть большим, длиться долго, а команда состоит больше чем из одного человека, то тесты — крайне желательный инструмент для того, чтобы разработка не вышла из под контроля. Без тестов в какой-то момент невозможно внести серьезное изменение в код, потому что знаешь, что такое изменение заденет еще некоторые части и точно знаешь, что все зависимости точно не учтешь.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/ruby-debug/" class="link blue hover-black">
            Tag: ruby-debug
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-07-30</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/07/30/ruby-debug/" class="link black dim">
        Использование ruby-debug
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Использование дебаггера при разработке — это плохой тон. Это значит, что вы не понимаете, как работает ваша программа. Но иногда жизнь без дебаггера становится невыносимой.
Есть отличный плагин vim-ruby-debugger для редактора vim. Но он пока сыроват и не все возможности в нем есть. По крайней мере в моем случае, чтобы понять, что происходить внутри спека, он не помог.
Тогда я воспользовался старым дедовским способом:
require &#39;ruby-debug&#39; Debugger.start И вставил вызов debugger в том месте, где мне это необходимо.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/rubynoname/" class="link blue hover-black">
            Tag: rubynoname
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-02-08</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/02/08/rubynoname/" class="link black dim">
        RubyNoName подкаст
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Сегодня я выложил наш первый совместный с Иваном Самсоновым эпизод RubyNoName подкаста (плюсуйте анонс на Хабре).
Хочу сразу сказать, что дело это оказалось далеко не такое простое, как я думал раньше. Начиная с того, что непринужденно рассказывать о новостях в ruby-мире без мыканья, эканья, запинок, фраз «ну» и «как бы» получается у нас гораздо хуже, чем писать код на ruby. И заканчивая тем, что свести две дорожки в редакторе, а потом сделать из этого что-то, что хорошо слушается, вообще для меня пока что очень сложная задача, которая к тому же занимает очень много времени.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/state-of-devops/" class="link blue hover-black">
            Tag: state of devops
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2017-08-29</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2017/08/29/state-of-devops-2017/" class="link black dim">
        Состояние DevOps на 2017 год
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В очередной раз компания <a href="https://puppet.com/">Puppet</a> совместно с <a href="https://devops-research.com/">DORA</a> ( DevOps Research and Assessment — компания, которая решила активно продавать DevOps, что бы это не значило) опубликовали отчет о состоянии DevOps, который называется «<a href="https://puppet.com/resources/whitepaper/state-of-devops-report">2017 State of DevOps Report</a>». Скачать его можно бесплатно, если оставить свою почту. Насколько я знаю, это единственное регулярное исследование ИТ-рынка на предмет проникновения DevOps практик.</p>
<p>Поскольку я уверен, что читать пятидесятистраничный документ на английском многим будет лень, я напишу здесь краткую выжимку из него, расскажу о том, что мне показалось там важным.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2016-09-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2016/09/28/state-of-devops-2016/" class="link black dim">
        Состояние DevOps на 2016 год
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Компания Puppet (как ни удивительно — это разработчики одноименной системы управления конфигурацией) опубликовали свой
очередной ежегодный <a href="https://puppet.com/resources/white-paper/2016-state-of-devops-report">отчет о состоянии DevOps</a>.</p>
<p>Они опросили 4600 инженеров со всего мира и по результатам этого опроса составили отчет на 55 страниц. Я кратко
резюмирую здесь их результаты для тех, кому лень читать оригинальный отчет.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/toster/" class="link blue hover-black">
            Tag: toster
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-02-06</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/02/06/toster/" class="link black dim">
        Конференция .toster
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В эту пятницу в Москве пройдет конференция .toster, посвященная языку программирования ruby. Меня удостоили большой чести выступать среди 6 известных во всем мире ruby-разработчиков. Если кто-то еще не успел купить билеты, самое время это сделать.
Мне переодически задают вопросы, зачем ходить на конференции, ведь все можно найти в интернете. Мое личное мнение, которое я никому не хочу навязывать, но все же поделюсь, следующее. Во-первых, сама по себе техническая информация — это просто техническая информация.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/transaction/" class="link blue hover-black">
            Tag: transaction
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-05-19</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/05/19/two-databases/" class="link black dim">
        Несколько баз данных
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В некоторых ситуациях необходимо использовать более чем одну базу данных в проекте. Например, статистику и большие таблицы хранить на другом сервере, у которого большой и медленный диск, а данные, которые нужны постоянно, хранить на основном сервере с маленьким и быстрым диском.
В нашем случае хотелось унести большие таблицы на другой сервер, чтобы в дисковом кэше (а у главного сервера БД 32 Гб оперативной памяти) хранились все рабочие таблицы и никогда оттуда не убегали.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/vagrant/" class="link blue hover-black">
            Tag: vagrant
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-01-10</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/01/10/vagrant/" class="link black dim">
        vagrant
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Очень странно, что я до сих пор не написал о <a href="http://vagrantup.com/">Vagrant</a> — инструменте создания и распространения
виртуальных окружений.</p>
<p>Vagrant нужен для одной простой цели — тестировать выкатку и изменение конфигурции. Причем он позволяет делать это очень
просто, особенно для <a href="http://wiki.opscode.com/display/chef/Home">Chef</a> и <a href="http://www.puppetlabs.com/puppet">Puppet</a>.
Vagrant — это надстройка над платформой виртуализации VirtualBox, которая позволяет легко и быстро создавать
виртуальные машины по шаблону.</p>
<p>Работать с ним очень легко. Вы берете какой-нибудь готовый образ ОС (например, <a href="http://www.vagrantbox.es/">отсюда</a>) или
<a href="http://vagrantup.com/docs/base_boxes.html">создаете свой</a>, который и будет вашим шаблоном. А потом проверяете, как на
этот образ накатываются ваши Chef-рецепты, причем можете делать это каждый раз с чистого листа. Конечно, образ должен
быть точно такой же, который вы используете в бою, на staging-сервере, на CI-сервере и, вообще, везде. Это позволит вам
выловить максимальное количество проблем до того, как они попадут на production.
Более того, это гораздо удобнее, чем писать chef-рецепты «вслепую». Все, что происходит тяжело, надо делать часто, чтобы
научиться делать это хорошо. Выкатка с изменением конфигурации обычно происходит тяжело. Поэтому стоит тренироваться
менять конфигурацию и выкатываться, при этом желательно делать это в «песочнице», а не на сервере, который обслуживает
ваших пользователей (и приносит деньги).</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/validates_uniqueness_of/" class="link blue hover-black">
            Tag: validates_uniqueness_of
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-05-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/05/28/validates-uniqueness-of/" class="link black dim">
        Проблема с проверкой уникальности какого-то поля в rails
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Пусть в модели User у нас описана валидация для поля email
validates_uniqueness_of :email, :case_sensitive =&gt; false, :message =&gt; i18n_proxy(:email_already_registered) Следующий код генерирует вот такой запрос к базе данных:
SELECT * FROM users WHERE lower(email) = &#39;thmth&#39; LIMIT 1 А на таблице users у нас индекс по полю email. В postgresql запрос, что вверху, не будет использовать индекс. Представьте, что будет, когда в таблице users десятки тысяч записей, а на каждое изменение любого поля в users вызывается такой запрос.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/vim/" class="link blue hover-black">
            Tag: vim
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-03-10</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/03/10/vim/" class="link black dim">
        О редакторе Vim, рассказ ссылками
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Vim — прекрасный редактор, который я использую для разработки на Ruby и Rails. Его можно использовать в чистом виде, но если добавить немного плагинов, то удобство работы значительно возрастает. Об этом я и хочу рассказать, правда рассказ получится длинным.
Я выступал на последнем RailsClub&rsquo;е с докладом Vim Or Die (посмотреть его можно на univertv.ru), в котором неплохо раскрыл тему Vim и полезных плагинов. Cами слайды, которые малополезны без видео, можно найти на slideshare.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2010-04-05</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2010/04/05/vim-pathogen/" class="link black dim">
        Автоматизация vim с помощью pathogen
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Извечная проблема о том, как добавлять и обновлять плагины в vim решилась благодаря легендарному Tim Pope.
Сегодня утром узнал от Ярослава Маркина о существовании pathogen.
Статья на английском о том, как им пользоваться, лежит здесь. Правда, я потратил полчаса, чтобы догадаться, что надо добавить call pathogen#runtime_append_all_bundles() в файл ~/.vimrc.
После установки pathogen.vim в ~/.vim/autoload можно хранить все плагины в папке ~/.vim/bundle, причем каждый в своей папке.
А еще огромный плюс - в конце этой статьи код, который позволяет обновлять все плагины одной командой.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/wal-e/" class="link blue hover-black">
            Tag: wal-e
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-07-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/07/27/backup/" class="link black dim">
        Barman и WAL-E
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В postgresql есть замечательная возможность делать <a href="http://www.postgresql.org/docs/9.1/interactive/continuous-archiving.html">непрерывные бэкапы</a>,
то есть бэкапы, по которым можно восстановиться на любой момент времени.</p>
<p>Если вы делаете обычные бэкапы и запускаете в час ночи pg_dump, а в час дня ваш сервер БД умер, то вы потеряете данные за
12 часов и доверие ваших пользователей. Для многих web-сервисов такой сценарий неприемлем, и, чтобы минимизировать потери
данных, стоит использовать непрерывный бэкап.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/warden/" class="link blue hover-black">
            Tag: warden
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-03-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/03/23/rails-update/" class="link black dim">
        Обновление на rails3 и проблемы, связанные с этим
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>На «Групоне» мы давно уже переходим с Rails 2.3 на Rails 3.0. На этой неделе перешли — полет нормальный. Но поскольку
сразу переход у нас не получился, то мы переходили по частям. И тут возникла проблема, что в rails3 нужен новый devise (1.5.3),
которому нужен warden (1.1.1). А в rails2 используется devise (1.0.9), которому нужен warden (0.10.7). И вот этот вот
warden стал по-другому сериализовать сессию. А devise стал хранить remember_token в подписанной (signed) cookie. Более
того, из самих рельс пропал класс ActionController::Flash::FlashHash, поэтому при десериализации сессии происходило
неуловимое исключение в Marshal.load.</p>
<p>Все эти проблемы решены были кодом, которые приведен ниже. И еще похожий код был в rails2-ветке, который конвертил
сессию третьих рельс во вторую. Пользуйтесь с осторожностью.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/yaml/" class="link blue hover-black">
            Tag: yaml
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-04-20</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/04/20/to-yaml-recursion/" class="link black dim">
        Рекурсивные особенности to_yaml
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Если необходимо сериализовать/десериализовать какой-то объект, то yaml формат хорошо для этого подходит.
В моем проекте мы записывали объекты в очередь, использую yaml-сериализацию. На тестах все было хорошо. Но на живом эта самая сериализация стала выполняться очень долго.
Оказалось, что если у объекта есть связные объекты, то он их тоже засовывает в yaml, а если таких объектов очень много, то это будет сложная операция. Понятно, что в примитивных тестах этого было не видно, а подумать хорошо головой в тот раз не получилось.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%B0%D0%B9%D0%BA%D0%B8%D0%B4%D0%BE/" class="link blue hover-black">
            Tag: айкидо
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2023-09-12</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2023/09/12/20-years/" class="link black dim">
        20 лет
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Заглянул я тут в свой дневник, который я веду с пятого класса. К несчастью, та красная тетрадка, где я вел тогда дневник, потерялась при переездах, а так интересно, что я думал, когда мне было 12 лет, но я не об этом.</p>
<p>Заглянул я, значит, в дневник, и оказалось, что два дня назад исполнилось 20 лет, как я занимаюсь айкидо. Внушительная дата, это даже на три недели больше, чем я работаю в нашей уютной айтишечке.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%B2%D0%BE%D0%BA%D0%B8/" class="link blue hover-black">
            Tag: блокирвоки
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-01-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/01/27/locks/" class="link black dim">
        Блокировки в PostgreSQL
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Чтобы рассказать о тонких моментах <a href="/blog/2013/01/09/fix-db-on-fly/">pg_repack</a>, мне понадобится немного углубиться в
тему блокировок в PostgreSQL. Конечно, лучше всего начать читать про них в <a href="http://www.postgresql.org/docs/9.1/static/explicit-locking.html">официальной документации</a>. Для этой статьи достаточно понимать, что
эксклюзивная блокировка (ACCESS EXCLUSIVE LOCK) препятствует выполнению всех операций, включая <code>SELECT</code>, и она нужна для операции
<code>ALTER TABLE</code>.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%B4%D1%80/" class="link blue hover-black">
            Tag: др
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2020-09-30</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2020/09/30/39/" class="link black dim">
        39
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Сегодня мне исполнилось 39 лет, я стою на пороге вечности.</p>
<p>Шутка, конечно. Не знаю, смешная или нет, но мне нравится. Вообще, помню, раньше меня пугало, что я делаю еще один шаг на пути к смерти. А в 35 перестало. Не знаю, даже, с чем это связано. В 32 года в день рождения я разбил машину. В 33 года - за два дня до дня рождения. В 34 я специально за неделю до ДР не садился за руль.</p>
<p>Помню, когда мне исполнялось 24, я перепутал, что мне 25 и тоже перепугался - а чего я сделал к своим 25. А потом вспомнил, что мне только 24 и отпустило.</p>
<p>А вот в 35 как-то перестал бояться. Топаешь себе на пути к смерти и топаешь.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%B5%D0%B4%D0%B0/" class="link blue hover-black">
            Tag: еда
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2016-02-06</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2016/02/06/syrniki/" class="link black dim">
        Сырники
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Готовить я, по большому счету, не умею. Вот мой брат, или там, Саша с Пашей (вы их вряд ли знаете, но все равно) — это да, а я так, любитель. Но тем не менее, поскольку окружающая меня действительность несколько раз взывала к тому, чтобы я рассказал про сырники, то я не буду молчать.
Итак, сырники (про яичницу тоже напишу попозже, хотя что там писать).
Все секреты я почерпнул у мамы, шаг за шагом перенимая у нее секреты мастерства.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%B8%D0%BD%D0%B4%D0%B5%D0%BA%D1%81%D1%8B/" class="link blue hover-black">
            Tag: индексы
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-10-10</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/10/10/index-only-scan/" class="link black dim">
        Index Only Scan в Postgresql 9.2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Вообще, сам не узнаю себя, уже ровно месяц прошел с выпуска <a href="http://www.postgresql.org/docs/9.2/static/release-9-2.html">Postgresql 9.2</a>, даже вышло <a href="http://www.postgresql.org/docs/9.2/static/release-9-2-1.html">обновление 9.2.1</a>, исправляющее некоторые баги, а я все еще ничего не написал об этом.</p>
<p>Поэтому сегодня рассказ будет о Index Only Scan — самом заметном, по моему мнению, изменении в 9.2. Кстати, именно это
изменение стоит первым в <a href="http://www.postgresql.org/docs/9.2/static/release-9-2.html">Release Notes</a>, а значит я не
одинок.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-05-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/05/28/validates-uniqueness-of/" class="link black dim">
        Проблема с проверкой уникальности какого-то поля в rails
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Пусть в модели User у нас описана валидация для поля email
validates_uniqueness_of :email, :case_sensitive =&gt; false, :message =&gt; i18n_proxy(:email_already_registered) Следующий код генерирует вот такой запрос к базе данных:
SELECT * FROM users WHERE lower(email) = &#39;thmth&#39; LIMIT 1 А на таблице users у нас индекс по полю email. В postgresql запрос, что вверху, не будет использовать индекс. Представьте, что будет, когда в таблице users десятки тысяч записей, а на каждое изменение любого поля в users вызывается такой запрос.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-04-08</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/04/08/concurent-index/" class="link black dim">
        Конкурентное пересоздание индексов в postgresql
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      На таблице postgresql с большим количеством данных невозможно быстро создать либо пересоздать индекс. При создании индекса таблица блокируется для операций INSERT, UPDATE и DELETE. В таких случаях может помочь конкурентное создание индекса. Иногда на postgresql стоит пересоздавать индексы, чтобы уменьшить их фрагментацию (и увеличить скорость). Создание конкурентного индекса будет частным случаем его пересоздания.
Пусть имеется таблица orders с 1 миллионом записей (приблизительно) в которой хранятся заказы. И в этой таблице есть поля country_id, region_id, city_id, на которых создан индекс.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BA%D0%B8%D0%BD%D0%BE/" class="link blue hover-black">
            Tag: кино
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2020-08-11</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2020/08/14/movies-2019/" class="link black dim">
        Фильмы 2019 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Наконец-то я заканчиваю свою великую киноэпопею, и раздаю трехлетние долги просмотренных фильмов. Как обычно, в подборке из 74 фильмов и сериалов, которым я отдал свою жизнь в 2019 году, осталось только то, что я настоятельно бы рекомендовал к просмотру, а именно 26 фильмов и ни одного сериала (просто не повезло им в этот раз). Поскольку все они очень хороши, то место в списке ничего не значит.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2020-07-25</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2020/07/25/movies-2018/" class="link black dim">
        Фильмы 2018 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Ниже список фильмов и сериалов, которые я посмотрел в 2018 году. Я оставил в этом списке только фильмы, которые что-то
тронули в моем сердце и поэтому я помню их по прошествии двух лет. В современном мире с его изобилием информации
достаточно редко можно найти что-то, что заденет струны души так, чтобы легкий звон от этого касания был слышен в
течении такого долгого времени.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2020-07-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2020/07/23/movies-2017/" class="link black dim">
        Фильмы 2017 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Поскольку я решил возродить свой дневник, <a href="/life/2020/06/19/go-hugo/">заодно переведя его на Hugo</a>,
то начать хочется с того, чтобы закрыть все долги.</p>
<p>Ниже список фильмов, которые я посмотрел в 2017 году. Поскольку весь список — это фильмов 50,
то я оставил только то, что понравилось и достойно просмотра.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2019-01-15</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2019/01/15/movies/" class="link black dim">
        Фильмы второй половины 2016 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Я как-то забросил традицию писать про кино, хотя смотреть его не переставал. Сейчас я быстренько пройдусь по второму
полугодия 2016 (ага, сам в шоке) года, и буду продолжать. Как обычно, фильмы отсортированы в порядке убывания того, как
сильно они мне понравились.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2017-03-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2017/03/27/cinema-2016-2/" class="link black dim">
        Фильмы второго квартала 2016 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Что же, продолжу отдавать свой кинодолг обществу, которое меня окружает. Фильмы второго квартала 2016 года, долг
большой, каюсь.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2017-03-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2017/03/23/movies-2016-1/" class="link black dim">
        Фильмы первого квартала 2016 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Ого, уже больше года я ничего не писал про просмотренные фильмы. Что же, постараемся наверстать упущенное. Как обычно,
внизу список фильмов, которые я посмотрел на январь-март 2016 года, сверху самые интересные, на мой субъективный и
непрофессиональный взгляд. Всего получилось 13 наименование, часть из этого не совсем кино (есть и сериалы и
мультфильмы), поэтому объективно рассортировать было достаточно сложно.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2016-07-17</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2016/07/17/cinema-2015/" class="link black dim">
        Фильмы конца 2015 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В какой-то момент писать о фильмах стало совсем тяжело, но это не повод останавливаться.
Ниже привожу описание фильмов, которые посмотрел в сентябре-декабре 2015 года. Как обычно, сверху — самые интересные
фильмы с моей точки зрения.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2015-09-09</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2015/09/09/cinema-again/" class="link black dim">
        И снова кинофильмы
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>После мощнейшего кинозазыра в великий пост от кино прямо отвадило. Конечно, большое количество времени отнял (и
продолжает отнимать) мультфильм «Время приключений», но о нем я напишу после того, как досмотрю. На диске пылится под
десяток фильмов, которые давно хочу посмотреть, но, наверное, им надо, как хорошему вину, настояться, чтобы мне
захотелось их посмотреть.</p>
<p>Ниже привожу описание фильмов, которые посмотрел с апреля по август.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2015-05-20</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2015/05/20/march-movies2/" class="link black dim">
        Постные фильмы, часть вторая
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>А я продолжаю рассказывать про фильмы, которые посмотрел в Великий Пост. Хотя это и вторая половина фильмов, среди них
много достойных.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2015-05-07</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2015/05/07/march-movies/" class="link black dim">
        Постные фильмы, часть первая
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>За январь и февраль я посмотрел всего 4 фильма, а вот в марте во время поста я опять заболел, и за 5 дней я пересмотрел
такое количество фильмов, что самому от этого стало немного нехорошо. Вашему требовательному вкусу представляются 24
фильма, традиционно сверху самые яркие из них, по моему мнению.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2015-01-15</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2015/01/15/december-movies/" class="link black dim">
        Кинчег декабря
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В декабре я повалялся пару дней в больнице, а потом еще неделю дома, поэтому было много времени для просмотра
видеоматериалов. К несчастью, когда много смотришь кино, то через какое-то время, вообще, не хочется ничего смотреть,
поэтому в январе я отдыхаю. Итак, крайне субъективный рейтинг, самое вкусное вначале.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-12-20</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/12/20/november-movies/" class="link black dim">
        Ноябрьский кинопоказ
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Три недели в этом ноябре я провел в отпуске. Отпуск хорош тем, что появляется много свободного времени, которое надо
обязательно чем-то заполнить, ведь иначе образовавшаяся пустота может поглотить тебя и, не дай бог, перенести на новый
духовный уровень. Как обычно, вначале списка — самые хорошие фильмы.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-12-18</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/12/18/october-movies/" class="link black dim">
        Фильмы сентября-октября
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Так сложилось, что 25 августа у меня родился сын Никита, поэтому сентябрь в киноплане оказался скудным, посему я
объединил сентябрь и октябрь вместе, хотя сильно лучше от этого не стало.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-09-05</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/09/05/august-movies/" class="link black dim">
        Августовский кинопросмотр
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В смысле кино август оказался крайне бедным месяцем. Смешно сказать, всего четыре фильма. Но, тем не менее, и они стоят
того, чтобы о них рассказать.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-08-14</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/08/14/july-movies/" class="link black dim">
        Июльское кинцо
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Июль оказался богатым на кинонаходки. Некоторые фильмы были настолько хороши, что навсегда поселились в моем сердце. Что
же, начнем, как обычно лучшие фильмы находятся в самом начале списка.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-07-14</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/07/14/june-movies/" class="link black dim">
        Июньский кинопросмотр
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Надо сказать, что раньше я не очень часто смотрел кино. Но в последнее время эта забава затягивает меня все сильнее.
Правда, я стараюсь держаться подальше от мейнстрима, потому что там, на мой вкус, хорошего кино не снимают. Но где-то
рядом всегда есть работы, завораживающие дух и сердце, надо только их отыскать.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-06-01</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/06/01/may-movies/" class="link black dim">
        Майский кинозал
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>И снова, мои дорогие любители кино, мы возвращаемся к этому величайшему из искусств. И опять самое вкусное, на мой
субъективный взгляд, будет в самом начале.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-05-15</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/05/15/movies-again/" class="link black dim">
        И снова о фильмах
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Тут недавно был в отпуске, и чтобы заполнить время, смотрел различные фильмы. О них сегодня я вам и расскажу, на этот
раз в порядке убывания моего субъективного рейтинга, потому что вначале хочется рассказать о самом ярком и интересном.
В этот раз сделать это было гораздо сложнее, потому что плохих фильмов в этот список не попало, все они интересные, на
мой взгляд, и достойны просмотра.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-04-25</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/04/25/movies/" class="link black dim">
        Постные фильмы
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В пост я обещал посмотреть 7 новых хороших фильмов. Сказано — сделано, правда, не все их них были хорошими. В том
смысле, что даже начиная их смотреть, я прекрасно понимал, что часть из них — чистая развлекуха, и это совсем не кино.
Расскажу о них в порядке возрастания красоты.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BA%D0%BD%D0%B8%D0%B3%D0%B8/" class="link blue hover-black">
            Tag: книги
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2021-02-03</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2021/02/03/memories/" class="link black dim">
        Воспоминания о будущем
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Вчера закончил читать книга Михаила Хазина &ldquo;Воспоминания о будущем. Идеи современной экономики&rdquo;.</p>
<p>Я в последние годы стал мало читать именно книг, поэтому в этом году решил немножко этот пробел восполнить и даже
реанимировал свой Kindle, который пылился где-то в квартире. Я, конечно, читаю много статей по различной тематике, но
мне кажется, что книга — это возможность цельно посмотреть на какую-то проблематику, в отличии от мозайки различных
статей.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BA%D0%BE%D0%BD%D0%B2%D0%B5%D0%B9/" class="link blue hover-black">
            Tag: конвей
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2016-10-05</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2016/10/05/conways-law/" class="link black dim">
        Закон Конвея
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><a href="https://en.wikipedia.org/wiki/Melvin_Conway">Мелвин Конвей</a> в 1968 году (48 лет назад!) опубликовал свою работу, в
которой сформулировал следующую идею: «Организация, которая создает систему, ограничена дизайном, который копирует
структуру коммуникации в этой организации». Более просто эту идею перефразировал Эрик Реймонд: «Если над компилятором
работает четыре группы разработчиков, вы получите четырехпроходный компилятор». Желающие могут прочитать оригинал статьи
<a href="http://www.melconway.com/Home/Committees_Paper.html">здесь</a>.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BA%D0%BE%D0%BD%D1%84%D0%B5%D1%80%D0%B5%D0%BD%D1%86%D0%B8%D1%8F/" class="link blue hover-black">
            Tag: конференция
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2014-12-15</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2014/12/15/happydev-2014/" class="link black dim">
        О поездке на HappyDev&#39;2014 в Омск
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      6–7 декабря 2014 на базе отдыха им. Стрельникова под Омском состоялась очередная конференция HappyDev. Я давно не попадал на такую интересную и яркую конференцию.
Во-первых, место проведения. На базе под омском с общей столовой на второй день всех знаешь в лицо. После бани с открытым бассейном многих знаешь по именам. И такой формат снимает некоторую зажатость, которая традиционно бывает у русских айтишников. Опять же, именно это позволило докладам и бар-кэмпам проходить в дружеской и непринужденной атмосфере.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-09-04</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/09/04/breaking-news/" class="link black dim">
        Ближайшие события в Ruby и DevOps мире
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      До выхода PostgreSQL 9.3 еще 5 дней, поэтому самое время поговорить не о технических вещах.
28 сентября в Москве в «Цифровом Октябре» пройдет очередная конференция RailsClub. Как и в прошлом году, в этот раз будет много известных иностранных докладчиков, но лучше сходите на сайт, чтобы я не пересказывал здесь всю программу. После конференции, по традиции, будет after party, поэтому планируйте эту субботу так, чтобы у вас осталось хотя бы несколько часов после конференции.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-05-15</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/05/15/administrativnoie/" class="link black dim">
        Новый адрес блога, DevConf и HotCode
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Во-первых, я давно хотел это сделать, а сегодня сделал — теперь блог будет доступен по адресу http://evtuhovich.ru. По старому адресу он тоже будет доступен, но основным теперь будет этот. Дело в том, что этот блог — это единственное место, где я публикую хоть какие-то тексты, поэтому оставлять его на домене третьего уровня мне показалось неправильно.
Во-вторых, 14 июня в Москве пройдет конференция DevConf. На ней в очередной раз я в составе RailClub помогаю организовывать Ruby-секцию.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-12-18</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/12/18/railsclub-ulsk/" class="link black dim">
        Последствия выступления на Railsclub&#39;Ulsk
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В эту субботу 15 декабря я выступал в Ульяновске с докладом «Нетрадиционное использование Ruby и PostgreSQL». Несмотря
на несколько провокационное название, доклад был посвящен вполне обыденным вещам: о том, как использовать Ruby и
PostgreSQL не в web-проекте с Rails. Я рассказал о Ruby внутри Vim, hstore и PostgreSQL массивах внутри Rails (кстати,
hstore и ARRAY неоднократно упоминались на конференции, так что я был неоригинален), а самая забавная часть моего
доклада была посвящена несуществующей документоориентированной БД rmongo.rb. Видеозапись второго дня еще доступна на
<a href="http://railsclub.ru/stream">сайте Railsclub</a>, и я надеюсь, что и первый день скоро появится в общем доступе.</p>
<p>Исходные коды, которые связаны с докладом, я выложил на <a href="https://gist.github.com/4327395">Gist</a>, сам доклад я выложил на
<a href="http://www.slideshare.net/evtuhovich/ruby-postgresql">Slideshare</a>.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-09-08</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/09/08/railsclub-2012/" class="link black dim">
        Конференции
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Сегодня я хочу рассказать о пользе конференций в жизненной практике любого специалиста. Если вы просто работаете в своей
профессии и не хотите стать и быть Специалистом (именно так, с большой буквы), то дальше можете не читать.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-03-28</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/03/28/codefest/" class="link black dim">
        Буду выступать на CodeFest
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      31 марта буду выступать на конференции CodeFest. Мой доклад «Как мы делали Групон» будет в 17:05 во втором зале. А второго апреля я проведу мастер-класс «Устройство и оптимизация Postgresql».
Я хочу выразить большую благодарность организаторам конференции за их работу. Поскольку у меня есть опыт в этой области, я понимаю, какой объем работы надо проделать, чтобы привезти докладчиков со всех концов России в Новосибирск. Верю, что конференция пройдет продуктивно и на позитивной волне.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-02-06</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/02/06/toster/" class="link black dim">
        Конференция .toster
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В эту пятницу в Москве пройдет конференция .toster, посвященная языку программирования ruby. Меня удостоили большой чести выступать среди 6 известных во всем мире ruby-разработчиков. Если кто-то еще не успел купить билеты, самое время это сделать.
Мне переодически задают вопросы, зачем ходить на конференции, ведь все можно найти в интернете. Мое личное мнение, которое я никому не хочу навязывать, но все же поделюсь, следующее. Во-первых, сама по себе техническая информация — это просто техническая информация.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-12-21</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/12/21/railsclub/" class="link black dim">
        Railsclub: отчет о прошедшей конференции
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В субботу 17 декабря прошла конференция Railsclub, которую посетило приблизительно 170 человек. Я рад, что в этот раз нам удалось привезти иностранных коллег: Sven Fuchs, Konstantin Haase и Piotr Sarnacki.
Но помимо самой конференции, было еще несколько посиделок, где можно было поговорить со всеми в неформальной обстановке. Я старался о всех публичных мероприятиях сообщать в твиттере конференции @railsclub_ru.
Очень понравилось, что Свен остался специально на день подольше, чтобы потусоваться с русскими разработчиками, специально посетил «Злых Марсианах», чтобы посмотреть, что у нас делается.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BA%D1%83%D1%80%D0%B5%D0%BD%D0%B8%D0%B5/" class="link blue hover-black">
            Tag: курение
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2016-10-03</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2016/10/03/35-and-nikotin/" class="link black dim">
        35, 35, никотин умеет ждать
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Так случилось, что в этом году я снова закурил. Я никогда не делал секрета из того, что в молодости я курил с перерывом суммарно пять лет, а в 26 лет прочитал известную книгу Алена Карра и бросил курить.
В 2015 году я начал покуривать с друзьями трубку. В трубке было что-то волнительное и зажигательное, она требует ритуала, удобного места и компании, ее нельзя курить на лету. Но в конце-концов я скатился к тому, что стал курить трубку по быстренькому в одиночестве в подъезде.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BB%D0%B8%D1%82%D0%B2%D0%B0%D0%BA/" class="link blue hover-black">
            Tag: литвак
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2020-09-15</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2020/09/15/litvak/" class="link black dim">
        Михаил Ефимович Литвак
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>10 сентября умер Михаил Литвак, ему было 82 года. Он был популяризатором психологии, но не уверен, что многие знают это
имя, хотя суммарный тираж его книг более 5 миллионов.</p>
<p>Его книга попалась мне лет в 20, и тогда я начал смутно догадываться, что большинство человеческих поступков происходят,
как бы так сказать, сами собою, а мы потом придумываем им объяснение. Теперь я полностью в этом уверен 🙂</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BC%D0%B0%D1%81%D1%82%D0%B5%D1%80-%D0%BA%D0%BB%D0%B0%D1%81%D1%81/" class="link blue hover-black">
            Tag: мастер-класс
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2013-09-04</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2013/09/04/breaking-news/" class="link black dim">
        Ближайшие события в Ruby и DevOps мире
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      До выхода PostgreSQL 9.3 еще 5 дней, поэтому самое время поговорить не о технических вещах.
28 сентября в Москве в «Цифровом Октябре» пройдет очередная конференция RailsClub. Как и в прошлом году, в этот раз будет много известных иностранных докладчиков, но лучше сходите на сайт, чтобы я не пересказывал здесь всю программу. После конференции, по традиции, будет after party, поэтому планируйте эту субботу так, чтобы у вас осталось хотя бы несколько часов после конференции.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-06-17</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/06/17/brainwashing/" class="link black dim">
        Очередной Brainwashing 14 и 15 июля
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Спешу сообщить радостную весть — очередной мастер-класс Brainwashing, который проводит компания «Злые Марсиане», пройдет 14 и 15 июля. Мастер-класс посвящен разработке web-приложений на ruby on rails, и будет интересен программистам, руководителям разработки и техническим директорам. В интенсивном двухдневном курсе мы расскажем выжимку из нашего опыта и раскроем практически все темы, связанные с разработкой, начиная с систем контроля версий, устройства фреймворка rails, и заканчивая оптимизацией фронтенда, базами данных и выкаткой.
Как и раньше, Мастер-класс вместе со мною будут проводить Тимофей Цветков и Саша Косс.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-12-21</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/12/21/brainwashing/" class="link black dim">
        Мастер-класс: впечатления по прошествии 2 недель
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Две недели назад мы провели Мастер-Класс, в котором в сжатой форме попытались изложить самое важное, на наш взгляд, в web-разработке. За два достаточно напряженных дня мы рассказали обо всем, от Git, баз данных, до SASS, HAML и Rails 3. Все это перемежалось постоянными практическими заданиями.
В конце Мастре-Класса мы сделали анкетирования, из которого можно смело заявить, что в целом идея удалась. Более того, на конференции RailsClub я попросил некоторых из наших участников лично поделиться впечатлениями от посещения.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-11-10</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/11/10/master-class/" class="link black dim">
        Мастер-класс
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В современном мире хочется учиться быстро. И знать только то, что нужно знать, потому что все знать, к сожалению, невозможно. Мне всегда казалось, что можно иметь какую-то «фундаментальную» картинку мира, на которую просто наматываются подробности. Я всегда представляю себе дерево: если есть ствол, то к нему можно прицепить ветки и листья. Но только из веток и листьев дерево не получится. Поэтому мы в «Злых Марсианах» решили подготовить Мастер-Класс, в котором бы обобщили наши лучшие практики при разработке различных web-проектов.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BC%D0%B8%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D1%8F/" class="link blue hover-black">
            Tag: миграция
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2009-05-22</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2009/05/22/live-table-migration/" class="link black dim">
        Перенос таблицы в другую базу данных postgres без простоя приложения
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      В продолжении темы о нескольких базах данных в одном rails-приложении расскажу о том, как изящно перенести одну большую таблицу в другую БД postgresql.
Пусть у нас есть таблица messages с большим количеством данных (10 миллионов записей), которые мы решили перенести на другой сервер. Мы сделали, как написано в статье, указанной выше, а также создали в новой БД таблицу messages с такой же структурой.
Теперь с помощью londiste настраиваем репликацию из первой БД во вторую для таблицы messages (об этом я напишу подробнее попозже, пока же можно прочитать об этом у Андрея Стихеева в рассылке ror2ru).
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B/" class="link blue hover-black">
            Tag: микросервисы
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2017-03-09</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2017/03/09/service-discovery/" class="link black dim">
        Service Discovery
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Продолжая разговор о <a href="/blog/2017/01/25/microservices/">микросервисной архитектуре</a>, нельзя не упомянуть о Service
Discovery. К сожалению, в русском языке до сих пор так и не появилось адекватного перевода этого термина. Дословное
«обнаружение сервисов» звучит слишком топорно и неизящно, а «каталог сервисов» хоть и неплох, но имеет много других
значений.</p>
<p>Русская википедия про Service Discovery (далее — sd) <a href="https://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%BE%D0%B2">не знает ничего</a> и дает вместо этого список протоколов для sd, <a href="https://en.wikipedia.org/wiki/Service_discovery">английская, впрочем, тоже</a>.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2017-01-25</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2017/01/25/microservices/" class="link black dim">
        Микросервисная архитектура
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>О микросервисной архитектуре не говорит сейчас только ленивый, но если вы впервые встречаетесь с этим термином, то
прочитайте <a href="https://martinfowler.com/articles/microservices.html">статью Мартина Фаулера</a> или
<a href="https://habrahabr.ru/post/249183/">ее перевод на русский</a>.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BC%D1%83%D0%B7%D1%8B%D0%BA%D0%B0/" class="link blue hover-black">
            Tag: музыка
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-04-18</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/04/18/music/" class="link black dim">
        Постная музыка
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В пост я обещал послушать 7 новых для себя музыкальных альбомов. Сказано — сделано, правда, альбомов было больше, но
новых авторов было 7.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BC%D1%8B%D1%81%D0%BB%D0%B8/" class="link blue hover-black">
            Tag: мысли
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2014-02-13</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2014/02/13/bye-octopress/" class="link black dim">
        Прощай, Октопресс, здравствуй, Middleman
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Долгие годы этот блог велся на Octopress — платформе для ведения технических блогов. Он был первым и восхищал меня долгое время, я даже хотел написать о нем отдельный пост, но руки так и не дошли. Но были у октопресса и откровенные недостатки, как то:
медлительность — он реально подтупливает на генерации страниц; асинхронность — от внесения правки, до появления ее в браузере проходило значительное время, а это сильно раздражало; сложность — поменять что-то внутри не представляется возможным; отсутствие поддержки — с 2011 года официальный сайт не обновлялся; он, вообще, сломался с ruby 2.
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-08-27</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/08/27/command-player/" class="link black dim">
        Командный игрок
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Технологии, конечно, технологиями, но иногда хочется рассказать чего-то «про жизнь». А именно про то, как работают
хорошие команды. Собственно, этот рассказ тоже о технологиях, только о человеческих.</p>
<p>К несчастью, технологии работы с людьми формализуются достаточно плохо, и такой ясности, как при работе с компьютерами,
конечно же нет. Поэтому сказать точно, что такое «хорошая команда», практически невозможно. Параметров оценки этого
слишком много, да и каждый параметр даже не понятно, чем измерять. Поэтому я просто поделюсь своими соображениями на
этот счет, не претендую никоим образом на объективность и правоту.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-04-19</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/04/19/clear-view/" class="link black dim">
        Ясность
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Прежде всего, я хочу рассказать историю про стрижку быка (в английском варианте <a href="http://www.urbandictionary.com/define.php?term=yak%20shaving">Yak
Shaving</a>).</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2011-08-04</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2011/08/04/prostynya/" class="link black dim">
        Простыня
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Поскольку я поставил Octopress, то теперь сбылась моя мечта и я могу вести блог в своем любимом текстовом редакторе vim. Про octopress я напишу как-нибудь потом отдельно, потому что система для инженера программных систем просто необыкновенная: простая и удобная.
Но сегодня я хочу поговорить о «простыне» &mdash; так я шутя называют длинный последовательный кусок кода. Так вот, моя основная мысль &mdash; простыня является самым лучшим кодом. Это так по одной простой причине, что последовательный код гораздо проще читать и понимать.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BD%D0%B8%D0%BA%D0%B8%D1%82%D0%B0/" class="link blue hover-black">
            Tag: никита
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2016-08-24</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2016/08/24/bobitkoman/" class="link black dim">
        Бобиткомен
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Я вношу в список задач те темы, про которые я хочу написать, так вот про Никиту я хотел написать уже очень давно, но все как-то не доходили руки. А завтра ему уже два года. Тут, конечно, должны быть фраза: «Как время-то идет, как дети-то растут», но это было бы слишком банально, хотя и правда.
Как и все родители, мы придумывали Никите ласковые имена, и одно из них было Бобитка (Никтка-бобитка), которое и превратилось в Бобиткомен.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BF%D0%BE%D1%81%D1%82/" class="link blue hover-black">
            Tag: пост
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2017-04-19</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2017/04/19/post-2017-results/" class="link black dim">
        Результаты Великого Поста 2017 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Начнем с того, что на шестой неделе я сорвался. Поэтому результаты этого поста более чем скромные — всего лишь 40%. Это
на 8% меньше, чем в прошлом году. Из приятного — посетил Усачевские бани и тем самым закрыл великий банный гештальт —
посетил все общественные бани Москвы внутри третьего кольца.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2016-05-04</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2016/05/04/post-2016-results/" class="link black dim">
        Результаты Великого Поста 2016 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Пост был зафейлен. За неделю до конца поста был на конференции <a href="http://2016.secon.ru/">Secon</a>, где был смущен бесплатным
пивом и хорошей компанией. А потом как-то жизненные трудности навалились, что решил закончить я пост досрочно. Тем не
менее, что-то было сделано, об этом сейчас и напишу.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2016-03-14</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2016/03/14/post/" class="link black dim">
        Великий пост 2016
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Соблюдения поста перешло из эксперимента в обыденную реальность. Более того, ждал начала поста, как праздника, потому
что очень хотелось много чего в жизни испробовать, но силы воли нет вообще, а тут такая оказия, семь седьмиц на
опыты с собою.</p>
<p>Программа на этот пост, за некоторыми изменениями, повторяет прошлогоднюю.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2015-04-15</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2015/04/15/post-2015-results/" class="link black dim">
        Результаты Великого Поста 2015
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В очередной раз семь седмиц провел, много в чем себя ограничивая. И по результатам могу сказать, что мне понравилось.
Пост — это возможность на привычные повседневные вещи взглянуть свежим взглядом и глубже понять их ценность.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2015-02-23</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2015/02/23/post/" class="link black dim">
        Великий пост 2015
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В этом году я решил продолжить традицию соблюдать великий пост, и вот сегодня первый день первой недели из семи.</p>
<p>Программа на пост, за некоторыми изменениями, повторяет прошлогоднюю.</p>
<p>Некоторым интересно, зачем в чем-то себе отказывать семь недель. Короткий ответ — чтобы лучше узнать себя. Длинный ответ
я дать пока не готов.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-04-22</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/04/22/post-result/" class="link black dim">
        Результаты Великого Поста 2014
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Великий пост закончился, пора подводить итоги. Где-то планку я поставил себе сильно высоко, где-то — слишком низко, но, в
целом, эксперимент считаю удачным.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2014-03-15</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2014/03/15/post/" class="link black dim">
        Великий пост 2014
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>«Пост не прост» — говорили великие люди. До великих людей мне еще далеко (хотел написать «уже никогда», но как-то совсем
уж мрачно), но все же в этом году решил выдержать пост. Лет 6 назад я уже делал такой опыт, но пост ограничивался только
едой, в этом же году я хочу значительно усилить ограничения.</p>
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D1%81%D0%B5%D0%BC%D1%8C%D1%8F/" class="link blue hover-black">
            Tag: семья
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Life 2016-08-24</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/life/2016/08/24/bobitkoman/" class="link black dim">
        Бобиткомен
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      Я вношу в список задач те темы, про которые я хочу написать, так вот про Никиту я хотел написать уже очень давно, но все как-то не доходили руки. А завтра ему уже два года. Тут, конечно, должны быть фраза: «Как время-то идет, как дети-то растут», но это было бы слишком банально, хотя и правда.
Как и все родители, мы придумывали Никите ласковые имена, и одно из них было Бобитка (Никтка-бобитка), которое и превратилось в Бобиткомен.
    </div>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D1%83%D0%BB%D1%8C%D1%8F%D0%BD%D0%BE%D0%B2%D1%81%D0%BA/" class="link blue hover-black">
            Tag: ульяновск
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-12-18</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/12/18/railsclub-ulsk/" class="link black dim">
        Последствия выступления на Railsclub&#39;Ulsk
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В эту субботу 15 декабря я выступал в Ульяновске с докладом «Нетрадиционное использование Ruby и PostgreSQL». Несмотря
на несколько провокационное название, доклад был посвящен вполне обыденным вещам: о том, как использовать Ruby и
PostgreSQL не в web-проекте с Rails. Я рассказал о Ruby внутри Vim, hstore и PostgreSQL массивах внутри Rails (кстати,
hstore и ARRAY неоднократно упоминались на конференции, так что я был неоригинален), а самая забавная часть моего
доклада была посвящена несуществующей документоориентированной БД rmongo.rb. Видеозапись второго дня еще доступна на
<a href="http://railsclub.ru/stream">сайте Railsclub</a>, и я надеюсь, что и первый день скоро появится в общем доступе.</p>
<p>Исходные коды, которые связаны с докладом, я выложил на <a href="https://gist.github.com/4327395">Gist</a>, сам доклад я выложил на
<a href="http://www.slideshare.net/evtuhovich/ruby-postgresql">Slideshare</a>.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-07-01</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/07/01/ulsk-results/" class="link black dim">
        Посещение Ульяновска
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Прошла уже почти неделя, как я вернулся из <a href="/blog/2012/06/17/ulsk/">Ульяновска</a>, но все никак не добегали пальцы до
клавиатуры, чтобы поделиться впечатлениями.</p>
<p>Во-первых, я хочу выразить большую благодарность <a href="http://mokevnin.github.com/">Кириллу Мокевнину</a>, который встретил нас
на вокзале на машине, помог поселиться, показал город, показал мне свой офис, а также организовал небольшую Ульяновскую
ruby-тусовку. Кирилл организовал достаточно большой офис ruby-разработки, где много света, красиво, аккуратно и
стеклянные туалеты. Поначалу они пугают, но стекло матовое и в целом это скорее забавно, чем неуютно.</p>
    </div>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Blog 2012-06-17</span>
    <h1 class="f3 near-black">
      <a href="https://evtuhovich.ru/blog/2012/06/17/ulsk/" class="link black dim">
        Буду в Ульяновске 21-23 июня
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      По айкидошным делам посещу IT Мекку России — славный город Ульяновск. Сказания и легенды о необычайно плотности IT мысли в Ульяновске слышал я уже давно, вот теперь воочию смогу убедиться в том, что это правда.
Я планирую провести ruby/chef/rails пьянку 22 июня (в пятницу) вечером, но подробности можно будет прочитать в моем твиттере, потому что я их и сам не знаю. Так же у меня будут более-менее свободны все три дня: четверг, пятница и суббота.
    </div>
  </div>
</div>

        
      
    </section>
  </div>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://evtuhovich.ru/" >
    &copy;  Блог Ивана Евтуховича 2024
  </a>
    <div>


<a href="https://vk.com/ivan.evtuhovich" target="_blank" class="link-transition rss link dib z-999 pt3 pt0-l mr1" title="VK link" rel="noopener" aria-label="VK——Opens in a new window">
  <svg  height="32px"   version="1.1" viewBox="10 10 160 160" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
    <path d="M157.234 66.14622c.88956-2.96645 0-5.14622-4.23376-5.14622h-14c-3.55973 0-5.20082 1.883-6.09088 3.9594 0 0-7.11948 17.35354-17.20516 28.6258-3.26297 3.26297-4.74632 4.30116-6.5262 4.30116-.8898 0-2.178-1.0382-2.178-4.0044V66.14623C107 62.58648 105.96694 61 103.00024 61h-22c-2.22452 0-3.56237 1.65216-3.56237 3.21797 0 3.37456 5.04259 4.15278 5.56237 13.64542V98.4799c0 4.5201-.8163 5.3396-2.59617 5.3396-4.74607 0-16.2909-17.43106-23.13806-37.37676C55.92414 62.566 54.57825 61 51.00024 61h-14c-4 0-4.80004 1.883-4.80004 3.9594 0 3.70812 4.74631 22.09986 22.09961 46.42425C65.86859 127.99527 82.16824 137 97.00024 137c8.8991 0 10-2 10-5.445V119c0-4 .84305-4.79829 3.66112-4.79829 2.07639 0 5.63613 1.0382 13.94218 9.04749 9.4924 9.49239 11.05734 13.7508 16.3967 13.7508h14c4 0 6-2 4.84624-5.94689-1.26257-3.9337-5.79468-9.64097-11.80836-16.4065-3.26321-3.85625-8.15767-8.00904-9.64102-10.08592-2.07639-2.66943-1.4831-3.85626 0-6.22917 0 0 17.05702-24.02787 18.8369-32.1853z" id="path4"/>
</svg>
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>


<a href="https://t.me/evtuhovich" target="_blank" class="link-transition rss link dib z-999 pt3 pt0-l mr1" title="Telegram link" rel="noopener" aria-label="Telegram——Opens in a new window">
  <svg  height="32px"   version="1.1" viewBox="0 0 200 200" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<g id="Artboard">
	
	<path id="Path-3" fill-rule="evenodd" clip-rule="evenodd" d="M54.3,118.8c35-15.2,58.3-25.3,70-30.2   c33.3-13.9,40.3-16.3,44.8-16.4c1,0,3.2,0.2,4.7,1.4c1.2,1,1.5,2.3,1.7,3.3s0.4,3.1,0.2,4.7c-1.8,19-9.6,65.1-13.6,86.3   c-1.7,9-5,12-8.2,12.3c-7,0.6-12.3-4.6-19-9c-10.6-6.9-16.5-11.2-26.8-18c-11.9-7.8-4.2-12.1,2.6-19.1c1.8-1.8,32.5-29.8,33.1-32.3   c0.1-0.3,0.1-1.5-0.6-2.1c-0.7-0.6-1.7-0.4-2.5-0.2c-1.1,0.2-17.9,11.4-50.6,33.5c-4.8,3.3-9.1,4.9-13,4.8   c-4.3-0.1-12.5-2.4-18.7-4.4c-7.5-2.4-13.5-3.7-13-7.9C45.7,123.3,48.7,121.1,54.3,118.8z"/>
</g>
</svg>
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>








<a href="https://github.com/evtuhovich/" target="_blank" class="link-transition github link dib z-999 pt3 pt0-l mr1" title="Github link" rel="noopener" aria-label="follow on Github——Opens in a new window">
  <svg  height="32px"  style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512" width="32px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>

<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000" width="8px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;fill:;"/>
</svg>
</span></a>








</div>
  </div>
</footer>

  </body>
</html>
