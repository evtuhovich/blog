<!DOCTYPE html>
<html lang="ru-ru">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Блог Ивана Евтуховича</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Блог Ивана Евтуховича">
    <meta name="generator" content="Hugo 0.134.3">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



  
    <link rel="stylesheet" href="/css/custom.css">
  

    

    
      
<link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />


    

    
    
      <link href="/tags/index.xml" rel="alternate" type="application/rss+xml" title="Блог Ивана Евтуховича" />
      <link href="/tags/index.xml" rel="feed" type="application/rss+xml" title="Блог Ивана Евтуховича" />
      
    

    
      <link rel="canonical" href="https://evtuhovich.ru/tags/">
    

    <meta property="og:url" content="https://evtuhovich.ru/tags/">
  <meta property="og:site_name" content="Блог Ивана Евтуховича">
  <meta property="og:title" content="Tags">
  <meta property="og:description" content="Блог Ивана Евтуховича">
  <meta property="og:locale" content="ru_ru">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Tags">
  <meta itemprop="description" content="Блог Ивана Евтуховича">
  <meta itemprop="datePublished" content="2023-09-12T16:03:38+03:00">
  <meta itemprop="dateModified" content="2023-09-12T16:03:38+03:00">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Tags">
  <meta name="twitter:description" content="Блог Ивана Евтуховича">

	<meta name="yandex-verification" content="844263c66799f878" />

<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter40052600 = new Ya.Metrika({
                    id:40052600,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/40052600" style="position:absolute; left:-9999px;" alt="" /></div></noscript>



<script async src="https://www.googletagmanager.com/gtag/js?id=UA-28012309-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-28012309-1');
</script>

<script src="/js/jquery-3.6.4.min.js"></script>
<script src="/js/jquery.jplayer.min.js"></script>
<script src="/js/jplayer.playlist.min.js"></script>

  </head>

  <body class="ma0 avenir bg-near-white">

    

  <header>
    <div class="pb3-m pb6-l bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Блог Ивана Евтуховича
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/calendar/" title="Архив страница">
              Архив
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/blog/" title="Блог страница">
              Блог
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/life/" title="Жизнь страница">
              Жизнь
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="Обо мне страница">
              Обо мне
            </a>
          </li>
          
        </ul>
      
      
<div class="ananke-socials">
  
    
    <a href="https://github.com/evtuhovich/" target="_blank" rel="noopener" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://vk.com/ivan.evtuhovich" target="_blank" rel="noopener" class="vk ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="vk link" aria-label="follow on vk——Opens in a new window">
      
        <span class="icon"><svg {{ with .size }} height="{{ . }}" {{ end }}  version="1.1" viewBox="10 10 160 160" width="{{ .size }}" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
    <path d="M157.234 66.14622c.88956-2.96645 0-5.14622-4.23376-5.14622h-14c-3.55973 0-5.20082 1.883-6.09088 3.9594 0 0-7.11948 17.35354-17.20516 28.6258-3.26297 3.26297-4.74632 4.30116-6.5262 4.30116-.8898 0-2.178-1.0382-2.178-4.0044V66.14623C107 62.58648 105.96694 61 103.00024 61h-22c-2.22452 0-3.56237 1.65216-3.56237 3.21797 0 3.37456 5.04259 4.15278 5.56237 13.64542V98.4799c0 4.5201-.8163 5.3396-2.59617 5.3396-4.74607 0-16.2909-17.43106-23.13806-37.37676C55.92414 62.566 54.57825 61 51.00024 61h-14c-4 0-4.80004 1.883-4.80004 3.9594 0 3.70812 4.74631 22.09986 22.09961 46.42425C65.86859 127.99527 82.16824 137 97.00024 137c8.8991 0 10-2 10-5.445V119c0-4 .84305-4.79829 3.66112-4.79829 2.07639 0 5.63613 1.0382 13.94218 9.04749 9.4924 9.49239 11.05734 13.7508 16.3967 13.7508h14c4 0 6-2 4.84624-5.94689-1.26257-3.9337-5.79468-9.64097-11.80836-16.4065-3.26321-3.85625-8.15767-8.00904-9.64102-10.08592-2.07639-2.66943-1.4831-3.85626 0-6.22917 0 0 17.05702-24.02787 18.8369-32.1853z" id="path4"/>
</svg></span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://t.me/evtuhovich" target="_blank" rel="noopener" class="telegram ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="telegram link" aria-label="follow on telegram——Opens in a new window">
      
        <span class="icon"><svg {{ with .size }} height="{{ . }}" {{ end }}  version="1.1" viewBox="0 0 200 200" width="{{ .size }}" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<g id="Artboard">
	
	<path id="Path-3" fill-rule="evenodd" clip-rule="evenodd" d="M54.3,118.8c35-15.2,58.3-25.3,70-30.2   c33.3-13.9,40.3-16.3,44.8-16.4c1,0,3.2,0.2,4.7,1.4c1.2,1,1.5,2.3,1.7,3.3s0.4,3.1,0.2,4.7c-1.8,19-9.6,65.1-13.6,86.3   c-1.7,9-5,12-8.2,12.3c-7,0.6-12.3-4.6-19-9c-10.6-6.9-16.5-11.2-26.8-18c-11.9-7.8-4.2-12.1,2.6-19.1c1.8-1.8,32.5-29.8,33.1-32.3   c0.1-0.3,0.1-1.5-0.6-2.1c-0.7-0.6-1.7-0.4-2.5-0.2c-1.1,0.2-17.9,11.4-50.6,33.5c-4.8,3.3-9.1,4.9-13,4.8   c-4.3-0.1-12.5-2.4-18.7-4.4c-7.5-2.4-13.5-3.7-13-7.9C45.7,123.3,48.7,121.1,54.3,118.8z"/>
</g>
</svg></span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>

    </div>
  </div>
</nav>

      <div class="tc-l pv3 ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">
          Tags
        </h1>
        
      </div>
    </div>
  </header>


    <main class="pb7" role="main">
      
    
  <article class="cf pa3 pa4-m pa4-l">
    <div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links mid-gray">
      
    </div>
  </article>
  <div class="mw8 center">
    <section class="ph4">
      
        <h2 class="f1">
          <a href="/tags/%D0%B0%D0%B9%D0%BA%D0%B8%D0%B4%D0%BE/" class="link blue hover-black">
            Tag: Айкидо
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2023/09/12/20-years/" class="link black dim">
        20 лет
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Заглянул я тут в свой дневник, который я веду с пятого класса. К несчастью, та красная тетрадка, где я вел тогда дневник, потерялась при переездах, а так интересно, что я думал, когда мне было 12 лет, но я не об этом.</p>
<p>Заглянул я, значит, в дневник, и оказалось, что два дня назад исполнилось 20 лет, как я занимаюсь айкидо. Внушительная дата, это даже на три недели больше, чем я работаю в нашей уютной айтишечке.</p>
    </div>
    <a href="/life/2023/09/12/20-years/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/postgresql/" class="link blue hover-black">
            Tag: Записи с тегом: postgresql
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2022/04/21/postgres-internals/" class="link black dim">
        PostgreSQL изнутри
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Мой коллега Егор Рогов из <a href="https://postgrespro.ru/">ППГ</a> недавно издал книгу &ldquo;PostgreSQL изнутри&rdquo;. Книгу можно <a href="https://postgrespro.ru/education/books/internals">бесплатно скачать</a> в формате pdf на сайте Postgres Professional. Для любителей читать книги, сделанные из переработанных трупов зверски убитых деревьев, ее без труда можно найти на сайте &ldquo;ДМК Пресс&rdquo;.</p>
    </div>
    <a href="/blog/2022/04/21/postgres-internals/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/06/28/pg-stat-statements/" class="link black dim">
        Статистика запросов и pg_stat_statements
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Иногда при эксплуатации проекта возникает вопрос, какие запросы в БД выполняются дольше всего или потребляют наибольшее
количество времени или ресурсов.</p>
<p>До версии 9.2 неплохой ответ на этот вопрос можно было получить с помощью проекта <a href="http://dalibo.github.io/pgbadger/">pgBadger</a>.
Если прорваться через достаточно простую процедуру его настройки, описанную в
<a href="http://dalibo.github.io/pgbadger/documentation.html">документации</a>, то в результате можно получить достаточно <a href="http://dalibo.github.io/pgbadger/sample.html">красивый
отчет</a>. К сожалению, этот подход имеет достаточно много слабых сторон.
Во-первых, чтобы получить полную картину, необходимо писать логи всех запросов к БД, которые при значительной нагрузке
отъедают огромное количество дискового пространства, а также производительность дисковой подсистемы. Во-вторых, в сухом
остатке получается только суммарное время исполнения всех запросов и их количество. Это полезная информация, но хотелось
бы знать много чего еще.</p>
    </div>
    <a href="/blog/2013/06/28/pg-stat-statements/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/05/15/postgresql-9-dot-3/" class="link black dim">
        PostgreSQL 9.3 beta 1 на OSX
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Два дня назад, 13 мая, <a href="http://www.postgresql.org/about/news/1463/">вышла beta 1 PostgreSQL 9.3</a>. Во-первых, это хороший
знак, что уже пора обновляться на 9.2, либо выбирать 9.2 как основную БД. 9.3 планируется <a href="http://www.postgresql.org/developer/roadmap/">зарелизить в третьем квартале
2013 года</a>.</p>
<p>Обо всех новых возможностях 9.3 можно почитать на <a href="http://wiki.postgresql.org/wiki/What%27s_new_in_PostgreSQL_9.3">официальной wiki</a>.</p>
<p>Но чтобы не только почитать, но и попробовать, я напишу здесь, как поставить 9.3 beta 1 на OSX.</p>
    </div>
    <a href="/blog/2013/05/15/postgresql-9-dot-3/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/03/20/big-cache/" class="link black dim">
        БД — большой кэш
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В <a href="blog/2013/02/24/partitioning/">прошлый раз</a> я обещал написать о том, что в проектах с более менее серьезной нагрузкой
БД либо помещается в память, либо не работает. Ситуация в современном мире меняется в связи с появлением SSD дисков, но
пока что они стоят достаточно дорого, по сравнению со старыми добрыми вращающимися дисками. Чтобы «потрогать» это
руками, проделаем несложный тест.</p>
    </div>
    <a href="/blog/2013/03/20/big-cache/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/02/24/partitioning/" class="link black dim">
        Партиционирование
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Я долго считал партиционирование плохой практикой, а само слово не любил из-за кальки с английского, которую крайне
сложно выговорить с первого раза. И если слово «партиционирование» я так с первого раза и не выговариваю, то саму
практику пришлось признать как необходимое и неизбежное зло. Чтобы никто не подумал, что я делаю что-то плохое, я
использую для этого термин «инженерный компромисс», звучит умнее и не так обидно.</p>
    </div>
    <a href="/blog/2013/02/24/partitioning/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/01/27/locks/" class="link black dim">
        Блокировки в PostgreSQL
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Чтобы рассказать о тонких моментах <a href="/blog/2013/01/09/fix-db-on-fly/">pg_repack</a>, мне понадобится немного углубиться в
тему блокировок в PostgreSQL. Конечно, лучше всего начать читать про них в <a href="http://www.postgresql.org/docs/9.1/static/explicit-locking.html">официальной документации</a>. Для этой статьи достаточно понимать, что
эксклюзивная блокировка (ACCESS EXCLUSIVE LOCK) препятствует выполнению всех операций, включая <code>SELECT</code>, и она нужна для операции
<code>ALTER TABLE</code>.</p>
    </div>
    <a href="/blog/2013/01/27/locks/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/01/09/fix-db-on-fly/" class="link black dim">
        Ремонт БД на лету с помощью pg_repack
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Окончились новогодние праздники, а это значит, что пора с новыми силами кинуться в бой с ИТ-сложностью, ИТ-хаосом
и другими ИТ бедами.</p>
<p>Одной из бед всех версионных БД является разбухание таблиц. Все бы ничего, но если количество активно используемых
данных перестает влезать в оперативную память, то время обработки запросов к БД чрезвычайно сильно возрастает (об этом я
напишу в ближайшем будущем). И чтобы «впихнуть» размеры таблицы в нужный размер, иногда приходится делать некоторые нетрадиционные
трюки.</p>
    </div>
    <a href="/blog/2013/01/09/fix-db-on-fly/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/10/10/index-only-scan/" class="link black dim">
        Index Only Scan в Postgresql 9.2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Вообще, сам не узнаю себя, уже ровно месяц прошел с выпуска <a href="http://www.postgresql.org/docs/9.2/static/release-9-2.html">Postgresql 9.2</a>, даже вышло <a href="http://www.postgresql.org/docs/9.2/static/release-9-2-1.html">обновление 9.2.1</a>, исправляющее некоторые баги, а я все еще ничего не написал об этом.</p>
<p>Поэтому сегодня рассказ будет о Index Only Scan — самом заметном, по моему мнению, изменении в 9.2. Кстати, именно это
изменение стоит первым в <a href="http://www.postgresql.org/docs/9.2/static/release-9-2.html">Release Notes</a>, а значит я не
одинок.</p>
    </div>
    <a href="/blog/2012/10/10/index-only-scan/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/07/27/backup/" class="link black dim">
        Barman и WAL-E
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В postgresql есть замечательная возможность делать <a href="http://www.postgresql.org/docs/9.1/interactive/continuous-archiving.html">непрерывные бэкапы</a>,
то есть бэкапы, по которым можно восстановиться на любой момент времени.</p>
<p>Если вы делаете обычные бэкапы и запускаете в час ночи pg_dump, а в час дня ваш сервер БД умер, то вы потеряете данные за
12 часов и доверие ваших пользователей. Для многих web-сервисов такой сценарий неприемлем, и, чтобы минимизировать потери
данных, стоит использовать непрерывный бэкап.</p>
    </div>
    <a href="/blog/2012/07/27/backup/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/07/14/collate-osx-postgres/" class="link black dim">
        Проблема с сортировкой русских слов в Postgres на OSX
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Я давно мечтаю об Ubuntu, которая работает так же хорошо, как OSX. К несчастью, большинство пользовательских программ в
Ubuntu хуже, чем в OSX, а что касается серверной части - OSX очень сильно отстает от Ubuntu (Debian).</p>
<p>К примеру, по-умолчанию, в Postgresql в OSX сломана сортировка русских слов. Решение я нашел
<a href="http://chipiga.pp.ua/sql/kak-zastavit-postgresql-pravilno-sortirovat-utf8-kirillitsu-na-mac-os-x/">здесь</a>.</p>
    </div>
    <a href="/blog/2012/07/14/collate-osx-postgres/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/03/14/postgresql-json/" class="link black dim">
        Поддержка JSON в PostgreSql 9.2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В третьем квартале 2012 должна выйти версия <a href="http://www.postgresql.org/developer/roadmap/">PostgreSQL 9.2</a>, в которой
добавят много интересных возможностей. Среди них — базовая поддержка так полюбившегося всем web-разработчикам формата
JSON. На данном этапе появится только возможность <a href="http://www.postgresql.org/docs/devel/static/datatype-json.html">проверять JSON на валидность</a>,
но судя по списку рассылки, к версии 9.3 будет добавлена возможность строить индексы на JSON объектах подобно тому, как
это <a href="/blog/2012/01/23/hstore/">можно сделать на hstore</a>. Конечно, JSON объекты гораздо сложнее hstore, и как именно и в
каком объеме будет реализована поддержка индексов в JSON — пока не ясно.</p>
    </div>
    <a href="/blog/2012/03/14/postgresql-json/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/01/23/hstore/" class="link black dim">
        Hstore — key-value расширение для postgresql
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Наверное, не все знают, что для postgresql существует большое количество расширений, которые называются
<a href="http://www.postgresql.org/docs/9.1/static/contrib.html">contrib модулями</a>.</p>
<p>Рассмотрим один из таких модулей - <a href="http://www.postgresql.org/docs/9.1/static/hstore.html">hstore</a>. Этот модуль
нужен для того, чтобы в одном поле в БД хранить много значений key/value, фактически, просто какой-то хеш. При этом и
ключи и значения могут быть только строками. О том, чем это лучше, нежели просто хранить в текстовом поле сериализованный хеш,
я расскажу чуть-чуть попозже. Понадобится это может в том случае, если у вас есть модели с произвольным набором полей.</p>
    </div>
    <a href="/blog/2012/01/23/hstore/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/12/27/bible/" class="link black dim">
        Библия PostgreSQL
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><img src="/images/pg-book.jpg" alt="Библия"></p>
<p>Если вы работаете с postgresql и сталкиваетесь с затруднительными ситуациями, ответы на которые даже не ясно, как
гуглить, то, скорее всего, вам не хватает каких-то фундаментальных знаний этой БД.</p>
    </div>
    <a href="/blog/2011/12/27/bible/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/06/05/pgq-londiste-plugin/" class="link black dim">
        PgQ и Londiste
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Хотя я так и не написал толком, как пользоваться PgQ и Londiste, но уже написал плагин, который облегчает его
использование вместе с рельсами.</p>
<p><a href="http://github.com/evtuhovich/pgq/tree/master">http://github.com/evtuhovich/pgq/tree/master</a></p>
<p>В README всё написано на плохом английском (с хорошим английским у меня плохо).</p>
<p>Совсем скоро я добавлю туда возможность прогонять миграции на master и slave базах данных одновременно. Тогда при
очередной выкатке необходимо будет сделать только rake londiste:update в самом конце, после того, как все миграции
прогонятся.</p>
    </div>
    <a href="/blog/2009/06/05/pgq-londiste-plugin/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/05/22/live-table-migration/" class="link black dim">
        Перенос таблицы в другую базу данных postgres без простоя приложения
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В продолжении <a href="/blog/2009/05/19/two-databases/">темы о нескольких базах данных в одном rails-приложении</a> расскажу о том,
как изящно перенести одну большую таблицу в другую БД postgresql.</p>
<p>Пусть у нас есть таблица messages с большим количеством данных (10 миллионов записей), которые мы решили перенести на
другой сервер. Мы сделали, как написано в статье, указанной выше, а также создали в новой БД таблицу messages с такой же
структурой.</p>
<p>Теперь с помощью londiste настраиваем репликацию из первой БД во вторую для таблицы messages (об этом я напишу подробнее
попозже, пока же можно <a href="http://groups.google.com/group/ror2ru/msg/8d2a6b71375c3d5a?hl=ru">прочитать об этом у
Андрея Стихеева</a> в рассылке ror2ru).</p>
    </div>
    <a href="/blog/2009/05/22/live-table-migration/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/04/08/concurent-index/" class="link black dim">
        Конкурентное пересоздание индексов в postgresql
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>На таблице postgresql с большим количеством данных невозможно быстро создать либо пересоздать индекс. При создании
индекса таблица блокируется для операций INSERT, UPDATE и DELETE. В таких случаях может помочь конкурентное создание
индекса. Иногда на postgresql стоит пересоздавать индексы, чтобы уменьшить их фрагментацию (и увеличить скорость).
Создание конкурентного индекса будет частным случаем его пересоздания.</p>
<p>Пусть имеется таблица orders с 1 миллионом записей (приблизительно) в которой хранятся заказы. И в этой таблице есть
поля country_id, region_id, city_id, на которых создан индекс.</p>
    </div>
    <a href="/blog/2009/04/08/concurent-index/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/04/04/queue/" class="link black dim">
        Использование очередей в высоконагруженных проектах
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>При большом количестве запросов к приложению (в широком смысле этого слова) иногда целесообразно ``размазать&rsquo;&rsquo; пиковую
нагрузку во времени. Для этого удобно использовать очереди. То есть, если какое-то запрос наверняка должен быть
выполнен, но не имеет значение произойдет это прямо сейчас или чуть попозже, можно создать событие в очереди. И когда до
этого события дойдет очередь —&ndash; оно будет выполнено. Таким образом можно развести сложные запросы во времени.</p>
<p>Очереди подходят для таких задач, как, например, рассылка большого количества сообщений и обновление различных счетчиков
в БД (если их актуальность не очень критична). Использование такого подхода позволяет контролировать пиковую нагрузку,
за счет чего сделать систему более стабильной в работе и отказоустойчивой. Также это позволяет оставить приемлемое время
ответа сервиса, потому что он сможет отвечать что-то до фактического завершения длинной операции.</p>
    </div>
    <a href="/blog/2009/04/04/queue/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/03/20/big-tables/" class="link black dim">
        PosgtreSql, миграции и огромные таблицы
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Миграции в rails — это очень правильный инструмент. Правда, иногда случаются казусы, потому что конкретная БД перестает
быть «сферическим конем в вакууме», как только количество данных и нагрузка на нее становится существенной.</p>
<p>Пусть у нас есть таблица posts, в которой 10 миллионов записей. И мы решили добавить в нее поле is_searchable.</p>
<pre tabindex="0"><code>    $ script/generate migration add_is_searchable_to_posts
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AddIsSearchableToPosts</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">ActiveRecord</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Migration</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">.</span><span style="color:#a6e22e">up</span>
</span></span><span style="display:flex;"><span>        add_column <span style="color:#e6db74">:posts</span>, <span style="color:#e6db74">:is_searchable</span>, <span style="color:#e6db74">:boolean</span>, <span style="color:#e6db74">:default</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">true</span>, <span style="color:#e6db74">:null</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">.</span><span style="color:#a6e22e">down</span>
</span></span><span style="display:flex;"><span>        remove_column <span style="color:#e6db74">:posts</span>, <span style="color:#e6db74">:is_searchable</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>Если на базе development данных у вас немного, то миграция пройдет замечательно. На production базе она может занять
несколько часов, блокируя таблицу posts. Заглянув в документацию по postgresql и немного подумав, можно переписать эту
миграцию вот так:</p>
    </div>
    <a href="/blog/2009/03/20/big-tables/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BA%D0%BD%D0%B8%D0%B3%D0%B8/" class="link blue hover-black">
            Tag: Записи с тегом: книги
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2021/02/03/memories/" class="link black dim">
        Воспоминания о будущем
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Вчера закончил читать книга Михаила Хазина &ldquo;Воспоминания о будущем. Идеи современной экономики&rdquo;.</p>
<p>Я в последние годы стал мало читать именно книг, поэтому в этом году решил немножко этот пробел восполнить и даже
реанимировал свой Kindle, который пылился где-то в квартире. Я, конечно, читаю много статей по различной тематике, но
мне кажется, что книга — это возможность цельно посмотреть на какую-то проблематику, в отличии от мозайки различных
статей.</p>
    </div>
    <a href="/life/2021/02/03/memories/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%B4%D1%80/" class="link blue hover-black">
            Tag: Записи с тегом: др
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2020/09/30/39/" class="link black dim">
        39
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Сегодня мне исполнилось 39 лет, я стою на пороге вечности.</p>
<p>Шутка, конечно. Не знаю, смешная или нет, но мне нравится. Вообще, помню, раньше меня пугало, что я делаю еще один шаг на пути к смерти. А в 35 перестало. Не знаю, даже, с чем это связано. В 32 года в день рождения я разбил машину. В 33 года - за два дня до дня рождения. В 34 я специально за неделю до ДР не садился за руль.</p>
<p>Помню, когда мне исполнялось 24, я перепутал, что мне 25 и тоже перепугался - а чего я сделал к своим 25. А потом вспомнил, что мне только 24 и отпустило.</p>
<p>А вот в 35 как-то перестал бояться. Топаешь себе на пути к смерти и топаешь.</p>
    </div>
    <a href="/life/2020/09/30/39/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BB%D0%B8%D1%82%D0%B2%D0%B0%D0%BA/" class="link blue hover-black">
            Tag: Записи с тегом: литвак
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2020/09/15/litvak/" class="link black dim">
        Михаил Ефимович Литвак
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>10 сентября умер Михаил Литвак, ему было 82 года. Он был популяризатором психологии, но не уверен, что многие знают это
имя, хотя суммарный тираж его книг более 5 миллионов.</p>
<p>Его книга попалась мне лет в 20, и тогда я начал смутно догадываться, что большинство человеческих поступков происходят,
как бы так сказать, сами собою, а мы потом придумываем им объяснение. Теперь я полностью в этом уверен 🙂</p>
    </div>
    <a href="/life/2020/09/15/litvak/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BA%D0%B8%D0%BD%D0%BE/" class="link blue hover-black">
            Tag: Записи с тегом: кино
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2020/08/14/movies-2019/" class="link black dim">
        Фильмы 2019 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Наконец-то я заканчиваю свою великую киноэпопею, и раздаю трехлетние долги просмотренных фильмов. Как обычно, в подборке из 74 фильмов и сериалов, которым я отдал свою жизнь в 2019 году, осталось только то, что я настоятельно бы рекомендовал к просмотру, а именно 26 фильмов и ни одного сериала (просто не повезло им в этот раз). Поскольку все они очень хороши, то место в списке ничего не значит.</p>
    </div>
    <a href="/life/2020/08/14/movies-2019/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2020/07/25/movies-2018/" class="link black dim">
        Фильмы 2018 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Ниже список фильмов и сериалов, которые я посмотрел в 2018 году. Я оставил в этом списке только фильмы, которые что-то
тронули в моем сердце и поэтому я помню их по прошествии двух лет. В современном мире с его изобилием информации
достаточно редко можно найти что-то, что заденет струны души так, чтобы легкий звон от этого касания был слышен в
течении такого долгого времени.</p>
    </div>
    <a href="/life/2020/07/25/movies-2018/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2020/07/23/movies-2017/" class="link black dim">
        Фильмы 2017 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Поскольку я решил возродить свой дневник, <a href="/life/2020/06/19/go-hugo/">заодно переведя его на Hugo</a>,
то начать хочется с того, чтобы закрыть все долги.</p>
<p>Ниже список фильмов, которые я посмотрел в 2017 году. Поскольку весь список — это фильмов 50,
то я оставил только то, что понравилось и достойно просмотра.</p>
    </div>
    <a href="/life/2020/07/23/movies-2017/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2019/01/15/movies/" class="link black dim">
        Фильмы второй половины 2016 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Я как-то забросил традицию писать про кино, хотя смотреть его не переставал. Сейчас я быстренько пройдусь по второму
полугодия 2016 (ага, сам в шоке) года, и буду продолжать. Как обычно, фильмы отсортированы в порядке убывания того, как
сильно они мне понравились.</p>
    </div>
    <a href="/life/2019/01/15/movies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2017/03/27/cinema-2016-2/" class="link black dim">
        Фильмы второго квартала 2016 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Что же, продолжу отдавать свой кинодолг обществу, которое меня окружает. Фильмы второго квартала 2016 года, долг
большой, каюсь.</p>
    </div>
    <a href="/life/2017/03/27/cinema-2016-2/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2017/03/23/movies-2016-1/" class="link black dim">
        Фильмы первого квартала 2016 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Ого, уже больше года я ничего не писал про просмотренные фильмы. Что же, постараемся наверстать упущенное. Как обычно,
внизу список фильмов, которые я посмотрел на январь-март 2016 года, сверху самые интересные, на мой субъективный и
непрофессиональный взгляд. Всего получилось 13 наименование, часть из этого не совсем кино (есть и сериалы и
мультфильмы), поэтому объективно рассортировать было достаточно сложно.</p>
    </div>
    <a href="/life/2017/03/23/movies-2016-1/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2016/07/17/cinema-2015/" class="link black dim">
        Фильмы конца 2015 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В какой-то момент писать о фильмах стало совсем тяжело, но это не повод останавливаться.
Ниже привожу описание фильмов, которые посмотрел в сентябре-декабре 2015 года. Как обычно, сверху — самые интересные
фильмы с моей точки зрения.</p>
    </div>
    <a href="/life/2016/07/17/cinema-2015/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2015/09/09/cinema-again/" class="link black dim">
        И снова кинофильмы
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>После мощнейшего кинозазыра в великий пост от кино прямо отвадило. Конечно, большое количество времени отнял (и
продолжает отнимать) мультфильм «Время приключений», но о нем я напишу после того, как досмотрю. На диске пылится под
десяток фильмов, которые давно хочу посмотреть, но, наверное, им надо, как хорошему вину, настояться, чтобы мне
захотелось их посмотреть.</p>
<p>Ниже привожу описание фильмов, которые посмотрел с апреля по август.</p>
    </div>
    <a href="/life/2015/09/09/cinema-again/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2015/05/20/march-movies2/" class="link black dim">
        Постные фильмы, часть вторая
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>А я продолжаю рассказывать про фильмы, которые посмотрел в Великий Пост. Хотя это и вторая половина фильмов, среди них
много достойных.</p>
    </div>
    <a href="/life/2015/05/20/march-movies2/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2015/05/07/march-movies/" class="link black dim">
        Постные фильмы, часть первая
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>За январь и февраль я посмотрел всего 4 фильма, а вот в марте во время поста я опять заболел, и за 5 дней я пересмотрел
такое количество фильмов, что самому от этого стало немного нехорошо. Вашему требовательному вкусу представляются 24
фильма, традиционно сверху самые яркие из них, по моему мнению.</p>
    </div>
    <a href="/life/2015/05/07/march-movies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2015/01/15/december-movies/" class="link black dim">
        Кинчег декабря
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В декабре я повалялся пару дней в больнице, а потом еще неделю дома, поэтому было много времени для просмотра
видеоматериалов. К несчастью, когда много смотришь кино, то через какое-то время, вообще, не хочется ничего смотреть,
поэтому в январе я отдыхаю. Итак, крайне субъективный рейтинг, самое вкусное вначале.</p>
    </div>
    <a href="/life/2015/01/15/december-movies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/12/20/november-movies/" class="link black dim">
        Ноябрьский кинопоказ
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Три недели в этом ноябре я провел в отпуске. Отпуск хорош тем, что появляется много свободного времени, которое надо
обязательно чем-то заполнить, ведь иначе образовавшаяся пустота может поглотить тебя и, не дай бог, перенести на новый
духовный уровень. Как обычно, вначале списка — самые хорошие фильмы.</p>
    </div>
    <a href="/life/2014/12/20/november-movies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/12/18/october-movies/" class="link black dim">
        Фильмы сентября-октября
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Так сложилось, что 25 августа у меня родился сын Никита, поэтому сентябрь в киноплане оказался скудным, посему я
объединил сентябрь и октябрь вместе, хотя сильно лучше от этого не стало.</p>
    </div>
    <a href="/life/2014/12/18/october-movies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/09/05/august-movies/" class="link black dim">
        Августовский кинопросмотр
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В смысле кино август оказался крайне бедным месяцем. Смешно сказать, всего четыре фильма. Но, тем не менее, и они стоят
того, чтобы о них рассказать.</p>
    </div>
    <a href="/life/2014/09/05/august-movies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/08/14/july-movies/" class="link black dim">
        Июльское кинцо
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Июль оказался богатым на кинонаходки. Некоторые фильмы были настолько хороши, что навсегда поселились в моем сердце. Что
же, начнем, как обычно лучшие фильмы находятся в самом начале списка.</p>
    </div>
    <a href="/life/2014/08/14/july-movies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/07/14/june-movies/" class="link black dim">
        Июньский кинопросмотр
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Надо сказать, что раньше я не очень часто смотрел кино. Но в последнее время эта забава затягивает меня все сильнее.
Правда, я стараюсь держаться подальше от мейнстрима, потому что там, на мой вкус, хорошего кино не снимают. Но где-то
рядом всегда есть работы, завораживающие дух и сердце, надо только их отыскать.</p>
    </div>
    <a href="/life/2014/07/14/june-movies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/06/01/may-movies/" class="link black dim">
        Майский кинозал
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>И снова, мои дорогие любители кино, мы возвращаемся к этому величайшему из искусств. И опять самое вкусное, на мой
субъективный взгляд, будет в самом начале.</p>
    </div>
    <a href="/life/2014/06/01/may-movies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/05/15/movies-again/" class="link black dim">
        И снова о фильмах
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Тут недавно был в отпуске, и чтобы заполнить время, смотрел различные фильмы. О них сегодня я вам и расскажу, на этот
раз в порядке убывания моего субъективного рейтинга, потому что вначале хочется рассказать о самом ярком и интересном.
В этот раз сделать это было гораздо сложнее, потому что плохих фильмов в этот список не попало, все они интересные, на
мой взгляд, и достойны просмотра.</p>
    </div>
    <a href="/life/2014/05/15/movies-again/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/04/25/movies/" class="link black dim">
        Постные фильмы
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В пост я обещал посмотреть 7 новых хороших фильмов. Сказано — сделано, правда, не все их них были хорошими. В том
смысле, что даже начиная их смотреть, я прекрасно понимал, что часть из них — чистая развлекуха, и это совсем не кино.
Расскажу о них в порядке возрастания красоты.</p>
    </div>
    <a href="/life/2014/04/25/movies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/state-of-devops/" class="link blue hover-black">
            Tag: Записи с тегом: state-of-devops
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2017/08/29/state-of-devops-2017/" class="link black dim">
        Состояние DevOps на 2017 год
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В очередной раз компания <a href="https://puppet.com/">Puppet</a> совместно с <a href="https://devops-research.com/">DORA</a> ( DevOps Research and Assessment — компания, которая решила активно продавать DevOps, что бы это не значило) опубликовали отчет о состоянии DevOps, который называется «<a href="https://puppet.com/resources/whitepaper/state-of-devops-report">2017 State of DevOps Report</a>». Скачать его можно бесплатно, если оставить свою почту. Насколько я знаю, это единственное регулярное исследование ИТ-рынка на предмет проникновения DevOps практик.</p>
<p>Поскольку я уверен, что читать пятидесятистраничный документ на английском многим будет лень, я напишу здесь краткую выжимку из него, расскажу о том, что мне показалось там важным.</p>
    </div>
    <a href="/blog/2017/08/29/state-of-devops-2017/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2016/09/28/state-of-devops-2016/" class="link black dim">
        Состояние DevOps на 2016 год
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Компания Puppet (как ни удивительно — это разработчики одноименной системы управления конфигурацией) опубликовали свой
очередной ежегодный <a href="https://puppet.com/resources/white-paper/2016-state-of-devops-report">отчет о состоянии DevOps</a>.</p>
<p>Они опросили 4600 инженеров со всего мира и по результатам этого опроса составили отчет на 55 страниц. Я кратко
резюмирую здесь их результаты для тех, кому лень читать оригинальный отчет.</p>
    </div>
    <a href="/blog/2016/09/28/state-of-devops-2016/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BF%D0%BE%D1%81%D1%82/" class="link blue hover-black">
            Tag: Записи с тегом: пост
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2017/04/19/post-2017-results/" class="link black dim">
        Результаты Великого Поста 2017 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Начнем с того, что на шестой неделе я сорвался. Поэтому результаты этого поста более чем скромные — всего лишь 40%. Это
на 8% меньше, чем в прошлом году. Из приятного — посетил Усачевские бани и тем самым закрыл великий банный гештальт —
посетил все общественные бани Москвы внутри третьего кольца.</p>
    </div>
    <a href="/life/2017/04/19/post-2017-results/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2016/05/04/post-2016-results/" class="link black dim">
        Результаты Великого Поста 2016 года
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Пост был зафейлен. За неделю до конца поста был на конференции <a href="http://2016.secon.ru/">Secon</a>, где был смущен бесплатным
пивом и хорошей компанией. А потом как-то жизненные трудности навалились, что решил закончить я пост досрочно. Тем не
менее, что-то было сделано, об этом сейчас и напишу.</p>
    </div>
    <a href="/life/2016/05/04/post-2016-results/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2016/03/14/post/" class="link black dim">
        Великий пост 2016
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Соблюдения поста перешло из эксперимента в обыденную реальность. Более того, ждал начала поста, как праздника, потому
что очень хотелось много чего в жизни испробовать, но силы воли нет вообще, а тут такая оказия, семь седьмиц на
опыты с собою.</p>
<p>Программа на этот пост, за некоторыми изменениями, повторяет прошлогоднюю.</p>
    </div>
    <a href="/life/2016/03/14/post/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2015/04/15/post-2015-results/" class="link black dim">
        Результаты Великого Поста 2015
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В очередной раз семь седмиц провел, много в чем себя ограничивая. И по результатам могу сказать, что мне понравилось.
Пост — это возможность на привычные повседневные вещи взглянуть свежим взглядом и глубже понять их ценность.</p>
    </div>
    <a href="/life/2015/04/15/post-2015-results/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2015/02/23/post/" class="link black dim">
        Великий пост 2015
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В этом году я решил продолжить традицию соблюдать великий пост, и вот сегодня первый день первой недели из семи.</p>
<p>Программа на пост, за некоторыми изменениями, повторяет прошлогоднюю.</p>
<p>Некоторым интересно, зачем в чем-то себе отказывать семь недель. Короткий ответ — чтобы лучше узнать себя. Длинный ответ
я дать пока не готов.</p>
    </div>
    <a href="/life/2015/02/23/post/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/04/22/post-result/" class="link black dim">
        Результаты Великого Поста 2014
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Великий пост закончился, пора подводить итоги. Где-то планку я поставил себе сильно высоко, где-то — слишком низко, но, в
целом, эксперимент считаю удачным.</p>
    </div>
    <a href="/life/2014/04/22/post-result/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/03/15/post/" class="link black dim">
        Великий пост 2014
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>«Пост не прост» — говорили великие люди. До великих людей мне еще далеко (хотел написать «уже никогда», но как-то совсем
уж мрачно), но все же в этом году решил выдержать пост. Лет 6 назад я уже делал такой опыт, но пост ограничивался только
едой, в этом же году я хочу значительно усилить ограничения.</p>
    </div>
    <a href="/life/2014/03/15/post/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D1%8B/" class="link blue hover-black">
            Tag: Записи с тегом: микросервисы
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2017/03/09/service-discovery/" class="link black dim">
        Service Discovery
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Продолжая разговор о <a href="/blog/2017/01/25/microservices/">микросервисной архитектуре</a>, нельзя не упомянуть о Service
Discovery. К сожалению, в русском языке до сих пор так и не появилось адекватного перевода этого термина. Дословное
«обнаружение сервисов» звучит слишком топорно и неизящно, а «каталог сервисов» хоть и неплох, но имеет много других
значений.</p>
<p>Русская википедия про Service Discovery (далее — sd) <a href="https://ru.wikipedia.org/wiki/%D0%9E%D0%B1%D0%BD%D0%B0%D1%80%D1%83%D0%B6%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%B5%D1%80%D0%B2%D0%B8%D1%81%D0%BE%D0%B2">не знает ничего</a> и дает вместо этого список протоколов для sd, <a href="https://en.wikipedia.org/wiki/Service_discovery">английская, впрочем, тоже</a>.</p>
    </div>
    <a href="/blog/2017/03/09/service-discovery/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2017/01/25/microservices/" class="link black dim">
        Микросервисная архитектура
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>О микросервисной архитектуре не говорит сейчас только ленивый, но если вы впервые встречаетесь с этим термином, то
прочитайте <a href="https://martinfowler.com/articles/microservices.html">статью Мартина Фаулера</a> или
<a href="https://habrahabr.ru/post/249183/">ее перевод на русский</a>.</p>
    </div>
    <a href="/blog/2017/01/25/microservices/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BA%D0%BE%D0%BD%D0%B2%D0%B5%D0%B9/" class="link blue hover-black">
            Tag: Записи с тегом: конвей
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2016/10/05/conways-law/" class="link black dim">
        Закон Конвея
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><a href="https://en.wikipedia.org/wiki/Melvin_Conway">Мелвин Конвей</a> в 1968 году (48 лет назад!) опубликовал свою работу, в
которой сформулировал следующую идею: «Организация, которая создает систему, ограничена дизайном, который копирует
структуру коммуникации в этой организации». Более просто эту идею перефразировал Эрик Реймонд: «Если над компилятором
работает четыре группы разработчиков, вы получите четырехпроходный компилятор». Желающие могут прочитать оригинал статьи
<a href="http://www.melconway.com/Home/Committees_Paper.html">здесь</a>.</p>
    </div>
    <a href="/blog/2016/10/05/conways-law/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BA%D1%83%D1%80%D0%B5%D0%BD%D0%B8%D0%B5/" class="link blue hover-black">
            Tag: Записи с тегом: курение
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2016/10/03/35-and-nikotin/" class="link black dim">
        35, 35, никотин умеет ждать
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Так случилось, что в этом году я снова закурил. Я никогда не делал секрета из того, что в молодости я курил с перерывом
суммарно пять лет, а в 26 лет прочитал известную книгу <a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%B0%D1%80%D1%80,_%D0%90%D0%BB%D0%BB%D0%B5%D0%BD">Алена Карра</a> и бросил курить.</p>
<p>В 2015 году я начал покуривать с друзьями трубку. В трубке было что-то волнительное и зажигательное, она требует
ритуала, удобного места и компании, ее нельзя курить на лету. Но в конце-концов я скатился к тому, что стал курить
трубку по быстренькому в одиночестве в подъезде.</p>
    </div>
    <a href="/life/2016/10/03/35-and-nikotin/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BD%D0%B8%D0%BA%D0%B8%D1%82%D0%B0/" class="link blue hover-black">
            Tag: Записи с тегом: никита
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2016/08/24/bobitkoman/" class="link black dim">
        Бобиткомен
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><img src="/images/nikita.jpg" alt="Никитка"></p>
<p>Я вношу в список задач те темы, про которые я хочу написать, так вот про Никиту я хотел написать уже очень давно, но все
как-то не доходили руки. А завтра ему уже два года. Тут, конечно, должны быть фраза: «Как время-то идет, как дети-то
растут», но это было бы слишком банально, хотя и правда.</p>
<p>Как и все родители, мы придумывали Никите ласковые имена, и одно из них было Бобитка (Никтка-бобитка), которое и
превратилось в Бобиткомен.</p>
    </div>
    <a href="/life/2016/08/24/bobitkoman/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D1%81%D0%B5%D0%BC%D1%8C%D1%8F/" class="link blue hover-black">
            Tag: Записи с тегом: семья
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2016/08/24/bobitkoman/" class="link black dim">
        Бобиткомен
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><img src="/images/nikita.jpg" alt="Никитка"></p>
<p>Я вношу в список задач те темы, про которые я хочу написать, так вот про Никиту я хотел написать уже очень давно, но все
как-то не доходили руки. А завтра ему уже два года. Тут, конечно, должны быть фраза: «Как время-то идет, как дети-то
растут», но это было бы слишком банально, хотя и правда.</p>
<p>Как и все родители, мы придумывали Никите ласковые имена, и одно из них было Бобитка (Никтка-бобитка), которое и
превратилось в Бобиткомен.</p>
    </div>
    <a href="/life/2016/08/24/bobitkoman/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%B5%D0%B4%D0%B0/" class="link blue hover-black">
            Tag: Записи с тегом: еда
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2016/02/06/syrniki/" class="link black dim">
        Сырники
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Готовить я, по большому счету, не умею. Вот мой брат, или там, Саша с Пашей (вы их вряд ли знаете, но все равно) — это
да, а я так, любитель. Но тем не менее, поскольку окружающая меня действительность несколько раз взывала к тому, чтобы я
рассказал про сырники, то я не буду молчать.</p>
<p>Итак, сырники (про яичницу тоже напишу попозже, хотя что там писать).</p>
<p>Все секреты я почерпнул у мамы, шаг за шагом перенимая у нее секреты мастерства. На этой неделе даже жена сказала, что у
меня стало получаться почти, как у нее, вряд ли есть большая похвала.</p>
    </div>
    <a href="/life/2016/02/06/syrniki/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/continuous-delivery/" class="link blue hover-black">
            Tag: Записи с тегом: continuous-delivery
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2015/03/11/continuous-delivery/" class="link black dim">
        Непрерывная поставка ПО
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Термин «Непрерывная поставка ПО» (Continuous Delivery, CD) прочно вошел в обиход в конце 2010 году, после выпуска
<a href="http://continuousdelivery.com/">одноименной книги</a>.</p>
<p>В книге описываются достаточно простые идеи о том, как сделать процесс поставки ПО таким, чтобы его можно было
выкатывать после каждого комита. И, хотя прошло уже больше четырех лет, до сих пор такой подход к поставке ПО не стал
стандартом. По вполне понятным причинам множество компаний продолжает использовать кустарное либо мануфактурное
производство, вместо перехода к конвейеру. Кто-то ведь должен оставаться на задворках прогресса, кого-то ведь должны
поглощать победившие конкуренты.</p>
    </div>
    <a href="/blog/2015/03/11/continuous-delivery/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BA%D0%BE%D0%BD%D1%84%D0%B5%D1%80%D0%B5%D0%BD%D1%86%D0%B8%D1%8F/" class="link blue hover-black">
            Tag: Записи с тегом: конференция
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2014/12/15/happydev-2014/" class="link black dim">
        О поездке на HappyDev&#39;2014 в Омск
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>6–7 декабря 2014 на базе отдыха им. Стрельникова под Омском состоялась очередная конференция
<a href="http://happydev.ru">HappyDev</a>. Я давно не попадал на такую интересную и яркую конференцию.</p>
<p>Во-первых, место проведения. На базе под омском с общей столовой на второй день всех знаешь в лицо. После бани с
открытым бассейном многих знаешь по именам. И такой формат снимает некоторую зажатость, которая традиционно бывает у
русских айтишников. Опять же, именно это позволило докладам и бар-кэмпам проходить в дружеской и непринужденной атмосфере.
По возвращении в Москву, я рассказал коллегам, что никогда подобной атмосферы нигде не наблюдал, на что мне резонно
порекомендовали Улькэмп. Судя по всему, надо ехать.</p>
    </div>
    <a href="/blog/2014/12/15/happydev-2014/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/09/04/breaking-news/" class="link black dim">
        Ближайшие события в Ruby и DevOps мире
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>До выхода PostgreSQL 9.3 еще 5 дней, поэтому самое время поговорить не о технических вещах.</p>
<p>28 сентября в Москве в «Цифровом Октябре» пройдет очередная конференция <a href="http://railsclub.ru/">RailsClub</a>. Как и в
прошлом году, в этот раз будет много известных иностранных докладчиков, но лучше сходите на сайт, чтобы я не
пересказывал здесь всю программу. После конференции, по традиции, будет after party, поэтому планируйте эту субботу так,
чтобы у вас осталось хотя бы несколько часов после конференции. Как всегда, я рад буду познакомиться со всеми, кого знаю
виртуально или, вообще, не знаю, ведь именно для этого и существуют оффлайновые мероприятия.</p>
    </div>
    <a href="/blog/2013/09/04/breaking-news/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/05/15/administrativnoie/" class="link black dim">
        Новый адрес блога, DevConf и HotCode
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Во-первых, я давно хотел это сделать, а сегодня сделал — теперь блог будет доступен по адресу
<a href="http://evtuhovich.ru">http://evtuhovich.ru</a>. По старому адресу он тоже будет доступен, но основным теперь будет этот.
Дело в том, что этот блог — это единственное место, где я публикую хоть какие-то тексты, поэтому оставлять его
на домене третьего уровня мне показалось неправильно.</p>
<p>Во-вторых, 14 июня в Москве пройдет <a href="http://devconf.ru/">конференция DevConf</a>. На ней в очередной раз я в составе
<a href="http://railsclub.ru">RailClub</a> помогаю организовывать <a href="http://devconf.ru/offers/ruby">Ruby-секцию</a>. Пока заявок на
доклады немного, всего 5, но мы уже работаем над тем, чтобы это была достойная локальная Ruby тусовка, так что приглашаю
прийти всех желающих. О докладах я напишу подробнее попозже, когда список окончательно сформируется.</p>
    </div>
    <a href="/blog/2013/05/15/administrativnoie/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/12/18/railsclub-ulsk/" class="link black dim">
        Последствия выступления на Railsclub&#39;Ulsk
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В эту субботу 15 декабря я выступал в Ульяновске с докладом «Нетрадиционное использование Ruby и PostgreSQL». Несмотря
на несколько провокационное название, доклад был посвящен вполне обыденным вещам: о том, как использовать Ruby и
PostgreSQL не в web-проекте с Rails. Я рассказал о Ruby внутри Vim, hstore и PostgreSQL массивах внутри Rails (кстати,
hstore и ARRAY неоднократно упоминались на конференции, так что я был неоригинален), а самая забавная часть моего
доклада была посвящена несуществующей документоориентированной БД rmongo.rb. Видеозапись второго дня еще доступна на
<a href="http://railsclub.ru/stream">сайте Railsclub</a>, и я надеюсь, что и первый день скоро появится в общем доступе.</p>
<p>Исходные коды, которые связаны с докладом, я выложил на <a href="https://gist.github.com/4327395">Gist</a>, сам доклад я выложил на
<a href="http://www.slideshare.net/evtuhovich/ruby-postgresql">Slideshare</a>.</p>
    </div>
    <a href="/blog/2012/12/18/railsclub-ulsk/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/09/08/railsclub-2012/" class="link black dim">
        Конференции
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Сегодня я хочу рассказать о пользе конференций в жизненной практике любого специалиста. Если вы просто работаете в своей
профессии и не хотите стать и быть Специалистом (именно так, с большой буквы), то дальше можете не читать.</p>
    </div>
    <a href="/blog/2012/09/08/railsclub-2012/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/03/28/codefest/" class="link black dim">
        Буду выступать на CodeFest
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>31 марта буду выступать на конференции <a href="http://codefest.ru/">CodeFest</a>. Мой доклад
«<a href="http://codefest.ru/program/2012-03/groupon/">Как мы делали Групон</a>» будет в 17:05 во втором зале. А
второго апреля я проведу мастер-класс «<a href="http://codefest.ru/training-2012-03/evtuhovich">Устройство и оптимизация Postgresql</a>».</p>
<p>Я хочу выразить большую благодарность организаторам конференции за их работу. Поскольку у меня есть опыт в этой области,
я понимаю, какой объем работы надо проделать, чтобы привезти докладчиков со всех концов России в Новосибирск. Верю, что
конференция пройдет продуктивно и на позитивной волне.</p>
    </div>
    <a href="/blog/2012/03/28/codefest/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/02/06/toster/" class="link black dim">
        Конференция .toster
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В эту пятницу в Москве пройдет конференция <a href="http://toster.ru">.toster</a>, посвященная языку программирования ruby. Меня
удостоили большой чести выступать среди 6 известных во всем мире ruby-разработчиков. Если кто-то еще не успел купить
билеты, самое время это сделать.</p>
<p>Мне переодически задают вопросы, зачем ходить на конференции, ведь все можно найти в интернете. Мое личное мнение,
которое я никому не хочу навязывать, но все же поделюсь, следующее. Во-первых, сама по себе техническая информация — это
просто техническая информация. Только поняв интерпретации и взлягды других людей на эту технологию, можно сложить
какое-то более объективное мнение о ней. Во-вторых, мы обычно ищем только то, что находится в нашем «поле зрения». И
конференция — это способ заглянуть за границы привычного. В-третьих, конференция дает возможность познакомиться живьем и
пообщаться с людьми из-за рубежа в расслабленной обстановке. Для меня это, пожалуй, самое интересное. Ну, и конечно, это
возможность встетиться с коллегами и друзьями, которые работали раньше вместе с тобою.</p>
    </div>
    <a href="/blog/2012/02/06/toster/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/12/21/railsclub/" class="link black dim">
        Railsclub: отчет о прошедшей конференции
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В субботу 17 декабря прошла конференция <a href="http://railsclub.ru">Railsclub</a>, которую посетило приблизительно 170 человек. Я
рад, что в этот раз нам удалось привезти иностранных коллег: <a href="http://svenfuchs.com/">Sven Fuchs</a>, <a href="http://rkh.im/">Konstantin Haase</a> и
<a href="http://piotrsarnacki.com/">Piotr Sarnacki</a>.</p>
<p>Но помимо самой конференции, было еще несколько посиделок, где можно было поговорить со всеми в неформальной обстановке.
Я старался о всех публичных мероприятиях сообщать в твиттере конференции <a href="http://twitter.com/#!/railsclub_ru">@railsclub_ru</a>.</p>
<p>Очень понравилось, что Свен остался специально на день подольше, чтобы потусоваться с русскими разработчиками,
специально посетил «<a href="http://evilmartians.ru/">Злых Марсианах</a>», чтобы посмотреть, что у нас делается. Мне показалось,
что эта неформальная часть получилась не менее интересной и насыщенной, чем сама конференция. И хотелось бы, чтобы в
дальнейшем, такие неформальные тусовки посещало больше моих коллег из Москвы и других городов России.</p>
    </div>
    <a href="/blog/2011/12/21/railsclub/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/powershell/" class="link blue hover-black">
            Tag: Записи с тегом: powershell
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2014/10/23/powershell/" class="link black dim">
        Могущественная скорлупа
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Могущественная скорлупа — это, конечно же, шуточный перевод
<a href="http://en.wikipedia.org/wiki/Windows_PowerShell">PowerShell</a>. Обратиться к этой теме старого любителя Linux заставило
не праздное любопытство, а насущная производственная необходимость. Конечно же, в мире Linux принято весело хохотать и
поливать грязью все, что относится к Windows. Но, надо сказать, что многое изменилось в мире Windows, за последнее
время.</p>
<p>Во-первых, появился аналог ssh. По протоколу WinRM с помощью PowerShell можно ходить по другим машинкам не хуже, чем по
ssh.</p>
    </div>
    <a href="/blog/2014/10/23/powershell/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BC%D1%83%D0%B7%D1%8B%D0%BA%D0%B0/" class="link blue hover-black">
            Tag: Записи с тегом: музыка
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Жизнь</span>
    <h1 class="f3 near-black">
      <a href="/life/2014/04/18/music/" class="link black dim">
        Постная музыка
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В пост я обещал послушать 7 новых для себя музыкальных альбомов. Сказано — сделано, правда, альбомов было больше, но
новых авторов было 7.</p>
    </div>
    <a href="/life/2014/04/18/music/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/chef/" class="link blue hover-black">
            Tag: Записи с тегом: chef
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2014/03/28/knife-solo/" class="link black dim">
        Соло на ноже
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Очень часто для небольших проектов нет необходимости усложнять инфраструктуру с использованием chef-server. Существует
мнение, что chef server, вообще, не нужен, и многие аргументы в пользу этой идеи кажутся мне вполне убедительными.</p>
<p>Для людей, которым нравится DSL chef и не нужен chef server, есть <a href="http://docs.opscode.com/chef_solo.html">chef-solo</a>.
Чтобы готовить с его помощью, нужен специальный нож — <a href="http://matschaffer.github.io/knife-solo/">knife-solo</a>. Это
инструмент, который значительно упрощает использование chef-solo.</p>
<p>Для начала поставить knife-solo</p>
<pre tabindex="0"><code>gem install knife-solo
</code></pre><p>Если у вас есть уже готовый репозитарий для chef, как, например, наше <a href="https://github.com/express42-cookbooks/testo">тесто</a>,
то следующий шаг можно пропустить. В противном случае сделайте начальный репозитарий.</p>
    </div>
    <a href="/blog/2014/03/28/knife-solo/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2014/02/14/deep_merge/" class="link black dim">
        Атрибуты в шефе и DeepMerge
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Многие знают, что в шефе есть большое количество типов атрибутов, необходимые, чтобы гибко управлять инфраструктурой.
Для того, чтобы эти атрибуты работали вместе, есть разные правила их объединения. О них мы сегодня и поговорим.</p>
    </div>
    <a href="/blog/2014/02/14/deep_merge/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/09/03/configuration-management/" class="link black dim">
        Управление конфигурацией и Chef
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Расскажу одну очень поучительную и одновременно типичную историю, которая случилась со мною года 3 назад. Однажды один
из наших серверов вышел из строя. Казалось бы, обычная ситуация, но беда была в том, что работа приложения была
сильно завязано на 10-15 различных cron-задач, которые были прописаны на этой машине. Еще большая проблема была в том,
что писались скрипты, которые вызывались по cron, различными людьми, многие их которых к тому времени не работали в
компании.</p>
    </div>
    <a href="/blog/2011/09/03/configuration-management/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/knife/" class="link blue hover-black">
            Tag: Записи с тегом: knife
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2014/03/28/knife-solo/" class="link black dim">
        Соло на ноже
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Очень часто для небольших проектов нет необходимости усложнять инфраструктуру с использованием chef-server. Существует
мнение, что chef server, вообще, не нужен, и многие аргументы в пользу этой идеи кажутся мне вполне убедительными.</p>
<p>Для людей, которым нравится DSL chef и не нужен chef server, есть <a href="http://docs.opscode.com/chef_solo.html">chef-solo</a>.
Чтобы готовить с его помощью, нужен специальный нож — <a href="http://matschaffer.github.io/knife-solo/">knife-solo</a>. Это
инструмент, который значительно упрощает использование chef-solo.</p>
<p>Для начала поставить knife-solo</p>
<pre tabindex="0"><code>gem install knife-solo
</code></pre><p>Если у вас есть уже готовый репозитарий для chef, как, например, наше <a href="https://github.com/express42-cookbooks/testo">тесто</a>,
то следующий шаг можно пропустить. В противном случае сделайте начальный репозитарий.</p>
    </div>
    <a href="/blog/2014/03/28/knife-solo/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BC%D1%8B%D1%81%D0%BB%D0%B8/" class="link blue hover-black">
            Tag: Записи с тегом: мысли
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2014/02/13/bye-octopress/" class="link black dim">
        Прощай, Октопресс, здравствуй, Middleman
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Долгие годы этот блог велся на <a href="http://octopress.org/">Octopress</a> — платформе для ведения технических блогов. Он был
первым и восхищал меня долгое время, я даже хотел написать о нем отдельный пост, но руки так и не дошли. Но были у
октопресса и откровенные недостатки, как то:</p>
<ul>
<li>медлительность — он реально подтупливает на генерации страниц;</li>
<li>асинхронность — от внесения правки, до появления ее в браузере проходило значительное время, а это сильно раздражало;</li>
<li>сложность — поменять что-то внутри не представляется возможным;</li>
<li>отсутствие поддержки — с 2011 года официальный сайт не обновлялся;</li>
<li>он, вообще, сломался с ruby 2.0.</li>
</ul>
<p>Волею судеб я поддерживаю сейчас 3 блога: <a href="http://express42.com/blog.html">на сайте нашей компании</a>, <a href="http://devopsdeflope.ru/">на сайте подкаста
Девопс Дефлопе</a> и этот, а до этого я поддерживал еще <a href="http://rubynoname.ru/">сайт подкаста
rubynoname</a>. И везде, кроме этого блога, я использовал <a href="http://middlemanapp.com/">Middleman</a>. Я
видел, как он развивается, как просто к нему что-то дописать, как постоянно появляются классные сторонние библиотеки. А
недавно я захотел вести сразу 2 блога на одном сайте, просто по очень разной тематике. А Middleman позволяет делать и
это с недавних пор.</p>
    </div>
    <a href="/blog/2014/02/13/bye-octopress/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/08/27/command-player/" class="link black dim">
        Командный игрок
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Технологии, конечно, технологиями, но иногда хочется рассказать чего-то «про жизнь». А именно про то, как работают
хорошие команды. Собственно, этот рассказ тоже о технологиях, только о человеческих.</p>
<p>К несчастью, технологии работы с людьми формализуются достаточно плохо, и такой ясности, как при работе с компьютерами,
конечно же нет. Поэтому сказать точно, что такое «хорошая команда», практически невозможно. Параметров оценки этого
слишком много, да и каждый параметр даже не понятно, чем измерять. Поэтому я просто поделюсь своими соображениями на
этот счет, не претендую никоим образом на объективность и правоту.</p>
    </div>
    <a href="/blog/2012/08/27/command-player/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/04/19/clear-view/" class="link black dim">
        Ясность
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Прежде всего, я хочу рассказать историю про стрижку быка (в английском варианте <a href="http://www.urbandictionary.com/define.php?term=yak%20shaving">Yak
Shaving</a>).</p>
    </div>
    <a href="/blog/2012/04/19/clear-view/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/08/04/prostynya/" class="link black dim">
        Простыня
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Поскольку я поставил <a href="http://octopress.org">Octopress</a>, то теперь сбылась моя мечта и я могу вести блог в своем любимом
текстовом редакторе <a href="http://www.vim.org">vim</a>. Про octopress я напишу как-нибудь потом отдельно, потому что система для
инженера программных систем просто необыкновенная: простая и удобная.</p>
<p>Но сегодня я хочу поговорить о «простыне» &mdash; так я шутя называют длинный последовательный кусок кода. Так вот, моя
основная мысль &mdash; простыня является самым лучшим кодом. Это так по одной простой причине, что последовательный
код гораздо проще читать и понимать. Конечно, если при этом не происходит нарушения правила
<a href="http://en.wikipedia.org/wiki/Once_and_only_once">OOO</a> (Once and Only Once), то есть нет ненужного дублирования кода.
Простыня &mdash; это способ выполнять правило <a href="http://en.wikipedia.org/wiki/KISS_principle">KISS</a> (Keep It Simple, Stupid),
то есть правила держать систему максимально простой.</p>
    </div>
    <a href="/blog/2011/08/04/prostynya/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/podcast/" class="link blue hover-black">
            Tag: Записи с тегом: podcast
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2014/01/04/podcasts/" class="link black dim">
        Итоги года: подкасты, мастер-классы и митап
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><a href="http://rubynoname.ru">RubyNoName подкаст</a> нашел постоянных новых ведущих — это Кирилл Шатров и Андрей Дерябин. Они уже
выпустили <a href="http://rubynoname.ru/posts/2013/S05E21.html">первый выпуск</a>, а также <a href="http://rubynoname.ru/about.html">обновили страницу о подкасте</a>,
на которой вы можете узнать о них немного больше.</p>
<p>Пока мой коллега Никита Борзых отдыхал в Париже, я записал <a href="http://devopsdeflope.ru/posts/2013/004.html">интервью</a> с
<a href="https://twitter.com/osminog">Локомотивом DevOps Движения России Александром Титовым</a> для нашего нового подкаста <a href="http://devopsdeflope.ru/">Девопс
Дефлопе</a>.</p>
<p>Мы организовали очередную <a href="http://www.meetup.com/DevOps-Moscow-in-Russian/events/157003432/">встречу DevOps митапа в
Яндексе</a>, она будет бесплатная, пройдет 25 января в
офисе Яндекса на улице Льва Толстого. Если вам интересно узнать Chef, Docker и другие инструменты, а также увидеть, как
живут инженеры в Яндексе — приходите на митап.</p>
    </div>
    <a href="/blog/2014/01/04/podcasts/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/11/13/deflope/" class="link black dim">
        Закат безымянного подкаста, Дефлопе и предложение о работе
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В суете и быстротечности нашей жизни нет ничего неизменного, лишь непостоянство — верный признак того, что жизнь
продолжается. Почти два года мы с Иваном Самсоновым бесперебойно раз в две недели выпускали свежий и сочный выпуск
<a href="http://rubynoname.ru">RubyNoName подкаста</a>, но в какой-то момент эта деятельность перестала приносить нам обоим радость
и счастье. А что есть жизнь, как не попытка успеть за отведенный нам на земле срок испытать как можно больше счастья?
Моя жизнь тесно переплелась с Chef, Vagrant и автоматическим управлением инфраструктурой, и это был вопрос времени,
когда разработка с помощью Ruby, Rails и их друзей перестанет меня интересовать.</p>
    </div>
    <a href="/blog/2013/11/13/deflope/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/02/08/rubynoname/" class="link black dim">
        RubyNoName подкаст
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Сегодня я выложил наш первый совместный с <a href="https://twitter.com/#!/kronos_vano">Иваном Самсоновым</a> <a href="http://ruby.rpod.ru/262745.html">эпизод RubyNoName
подкаста</a> (<a href="http://habrahabr.ru/blogs/ruby/137853/">плюсуйте анонс на Хабре</a>).</p>
<p>Хочу сразу сказать, что дело это оказалось далеко не такое простое, как я думал раньше. Начиная с того, что
непринужденно рассказывать о новостях в ruby-мире без мыканья, эканья, запинок, фраз «ну» и «как бы» получается у нас
гораздо хуже, чем писать код на ruby. И заканчивая тем, что свести две дорожки в редакторе, а потом сделать из этого
что-то, что хорошо слушается, вообще для меня пока что очень сложная задача, которая к тому же занимает очень много
времени.</p>
    </div>
    <a href="/blog/2012/02/08/rubynoname/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/03/10/vim/" class="link black dim">
        О редакторе Vim, рассказ ссылками
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><a href="http://www.vim.org">Vim</a> — прекрасный редактор, который я использую для разработки на Ruby и Rails. Его можно
использовать в чистом виде, но если добавить немного плагинов, то удобство работы значительно возрастает. Об этом я и
хочу рассказать, правда рассказ получится длинным.</p>
<p>Я выступал на последнем RailsClub&rsquo;е с докладом Vim Or Die (<a href="http://www.univertv.ru/video/informatika/programmirovanie/ruby_on_rails_moscow/vim_or_die/">посмотреть его можно на
univertv.ru</a>), в котором
неплохо раскрыл тему Vim и полезных плагинов. Cами слайды, которые малополезны без видео, можно найти на <a href="http://www.slideshare.net/evtuhovich/vim-or-die">slideshare.net</a>.</p>
    </div>
    <a href="/blog/2011/03/10/vim/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2010/07/28/podcasts/" class="link black dim">
        Англоязычные подкасты про ruby и rails
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Так сложилось, что я управляю транспортным средством больше, чем час в день (на работу, на тренировку, домой). И я давно
уже хотел слушать английские тексты в это время, потому что музыка часто надоедает.</p>
<p>Я пробовал слушать «обычные» тексты, но потом подумал, что гораздо интереснее слушать то, что тебя волнует. Поэтому я
порылся в дебрях интернета и нашел следующие подкасты, которые я регулярно слушаю.</p>
<p><a href="http://5by5.tv/rubyshow">The Ruby Show</a> — выходит по вторникам, длится минут 15-20. Две веселых чувака
рассказывают про новости в мире ruby и rails, при этом периодически достаточно весело шутят.</p>
    </div>
    <a href="/blog/2010/07/28/podcasts/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BC%D0%B0%D1%81%D1%82%D0%B5%D1%80-%D0%BA%D0%BB%D0%B0%D1%81%D1%81/" class="link blue hover-black">
            Tag: Записи с тегом: Мастер-класс
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/09/04/breaking-news/" class="link black dim">
        Ближайшие события в Ruby и DevOps мире
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>До выхода PostgreSQL 9.3 еще 5 дней, поэтому самое время поговорить не о технических вещах.</p>
<p>28 сентября в Москве в «Цифровом Октябре» пройдет очередная конференция <a href="http://railsclub.ru/">RailsClub</a>. Как и в
прошлом году, в этот раз будет много известных иностранных докладчиков, но лучше сходите на сайт, чтобы я не
пересказывал здесь всю программу. После конференции, по традиции, будет after party, поэтому планируйте эту субботу так,
чтобы у вас осталось хотя бы несколько часов после конференции. Как всегда, я рад буду познакомиться со всеми, кого знаю
виртуально или, вообще, не знаю, ведь именно для этого и существуют оффлайновые мероприятия.</p>
    </div>
    <a href="/blog/2013/09/04/breaking-news/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/06/17/brainwashing/" class="link black dim">
        Очередной Brainwashing 14 и 15 июля
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Спешу сообщить радостную весть — очередной мастер-класс <a href="http://brainwashing.pro/rails">Brainwashing</a>, который проводит
компания «<a href="http://evilmartians.ru/">Злые Марсиане</a>», пройдет 14 и 15 июля. Мастер-класс посвящен разработке
web-приложений на ruby on rails, и будет интересен программистам, руководителям разработки и техническим директорам. В
интенсивном двухдневном курсе мы расскажем выжимку из нашего опыта и раскроем практически все темы, связанные с
разработкой, начиная с систем контроля версий, устройства фреймворка rails, и заканчивая оптимизацией фронтенда, базами
данных и выкаткой.</p>
<p>Как и раньше, Мастер-класс вместе со мною будут проводить <a href="http://twitter.com/#!/2kan">Тимофей Цветков</a> и
<a href="http://twitter.com/#!/kossnocorp">Саша Косс</a>.</p>
    </div>
    <a href="/blog/2012/06/17/brainwashing/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/12/21/brainwashing/" class="link black dim">
        Мастер-класс: впечатления по прошествии 2 недель
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Две недели назад мы провели <a href="/blog/2011/11/13/master-class/">Мастер-Класс</a>, в котором в сжатой форме попытались изложить
самое важное, на наш взгляд, в web-разработке. За два достаточно напряженных дня мы рассказали обо всем, от Git, баз
данных, до SASS, HAML и Rails 3. Все это перемежалось постоянными практическими заданиями.</p>
<p>В конце Мастре-Класса мы сделали анкетирования, из которого можно смело заявить, что в целом идея удалась. Более того,
на <a href="http://railsclub.ru">конференции RailsClub</a> я попросил некоторых из наших участников лично поделиться впечатлениями
от посещения. Было очень лестно услышать хорошую оценку нашей работе. Более того, на этой же конференции ко мне
подошли несколько людей с вопросом, когда будет следующий Мастер-Класс и будет ли он проводиться в будние дни.
Меня конечно же порадовал интерес к нашей работе. Безусловно, мы будем еще проводить Мастер-Классы, в том числе и в
будние дни. Ориентировочно следующий Мастер-Класс пройдет в феврале-марте 2012 года.</p>
    </div>
    <a href="/blog/2011/12/21/brainwashing/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/11/10/master-class/" class="link black dim">
        Мастер-класс
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В современном мире хочется учиться быстро. И знать только то, что нужно знать, потому что все знать, к сожалению,
невозможно. Мне всегда казалось, что можно иметь какую-то «фундаментальную» картинку мира, на которую просто
наматываются подробности. Я всегда представляю себе дерево: если есть ствол, то к нему можно прицепить ветки и листья.
Но только из веток и листьев дерево не получится. Поэтому мы в «<a href="http://evilmartians.ru/">Злых Марсианах</a>» решили
подготовить <a href="http://brainwashing.pro/rails">Мастер-Класс</a>, в котором бы обобщили наши лучшие практики при разработке
различных web-проектов.</p>
    </div>
    <a href="/blog/2011/11/10/master-class/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/performance/" class="link blue hover-black">
            Tag: Записи с тегом: performance
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/06/28/pg-stat-statements/" class="link black dim">
        Статистика запросов и pg_stat_statements
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Иногда при эксплуатации проекта возникает вопрос, какие запросы в БД выполняются дольше всего или потребляют наибольшее
количество времени или ресурсов.</p>
<p>До версии 9.2 неплохой ответ на этот вопрос можно было получить с помощью проекта <a href="http://dalibo.github.io/pgbadger/">pgBadger</a>.
Если прорваться через достаточно простую процедуру его настройки, описанную в
<a href="http://dalibo.github.io/pgbadger/documentation.html">документации</a>, то в результате можно получить достаточно <a href="http://dalibo.github.io/pgbadger/sample.html">красивый
отчет</a>. К сожалению, этот подход имеет достаточно много слабых сторон.
Во-первых, чтобы получить полную картину, необходимо писать логи всех запросов к БД, которые при значительной нагрузке
отъедают огромное количество дискового пространства, а также производительность дисковой подсистемы. Во-вторых, в сухом
остатке получается только суммарное время исполнения всех запросов и их количество. Это полезная информация, но хотелось
бы знать много чего еще.</p>
    </div>
    <a href="/blog/2013/06/28/pg-stat-statements/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/02/19/local-data/" class="link black dim">
        Фильтрация данных на клиенте
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Давече у нас на Групоне возникла следующая проблема — начала тормозить одна страница в админке. Причем до того сильно,
что ее sql запрос стал регулярно появляться в списке медленных запросов в newrelic. Для большей понятности я поменяю
название моделей на книги (Book) и авторы (Author), при этом, очевидно, «авторы имеют много книг», то есть связь один ко
многим.</p>
    </div>
    <a href="/blog/2012/02/19/local-data/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pgbadger/" class="link blue hover-black">
            Tag: Записи с тегом: pgbadger
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/06/28/pg-stat-statements/" class="link black dim">
        Статистика запросов и pg_stat_statements
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Иногда при эксплуатации проекта возникает вопрос, какие запросы в БД выполняются дольше всего или потребляют наибольшее
количество времени или ресурсов.</p>
<p>До версии 9.2 неплохой ответ на этот вопрос можно было получить с помощью проекта <a href="http://dalibo.github.io/pgbadger/">pgBadger</a>.
Если прорваться через достаточно простую процедуру его настройки, описанную в
<a href="http://dalibo.github.io/pgbadger/documentation.html">документации</a>, то в результате можно получить достаточно <a href="http://dalibo.github.io/pgbadger/sample.html">красивый
отчет</a>. К сожалению, этот подход имеет достаточно много слабых сторон.
Во-первых, чтобы получить полную картину, необходимо писать логи всех запросов к БД, которые при значительной нагрузке
отъедают огромное количество дискового пространства, а также производительность дисковой подсистемы. Во-вторых, в сухом
остатке получается только суммарное время исполнения всех запросов и их количество. Это полезная информация, но хотелось
бы знать много чего еще.</p>
    </div>
    <a href="/blog/2013/06/28/pg-stat-statements/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pgbench/" class="link blue hover-black">
            Tag: Записи с тегом: pgbench
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/03/20/big-cache/" class="link black dim">
        БД — большой кэш
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В <a href="blog/2013/02/24/partitioning/">прошлый раз</a> я обещал написать о том, что в проектах с более менее серьезной нагрузкой
БД либо помещается в память, либо не работает. Ситуация в современном мире меняется в связи с появлением SSD дисков, но
пока что они стоят достаточно дорого, по сравнению со старыми добрыми вращающимися дисками. Чтобы «потрогать» это
руками, проделаем несложный тест.</p>
    </div>
    <a href="/blog/2013/03/20/big-cache/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/partitioning/" class="link blue hover-black">
            Tag: Записи с тегом: partitioning
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/02/24/partitioning/" class="link black dim">
        Партиционирование
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Я долго считал партиционирование плохой практикой, а само слово не любил из-за кальки с английского, которую крайне
сложно выговорить с первого раза. И если слово «партиционирование» я так с первого раза и не выговариваю, то саму
практику пришлось признать как необходимое и неизбежное зло. Чтобы никто не подумал, что я делаю что-то плохое, я
использую для этого термин «инженерный компромисс», звучит умнее и не так обидно.</p>
    </div>
    <a href="/blog/2013/02/24/partitioning/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/rspec/" class="link blue hover-black">
            Tag: Записи с тегом: rspec
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/02/22/transactions-on-multiple-db/" class="link black dim">
        Транзакции и несколько БД
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Иногда так случается, что на проекте необходимо использовать более одного сервера баз данных. Оказывается, в rails можно
достаточно удобно поддерживать актуальность нескольких БД с помощью миграций.</p>
    </div>
    <a href="/blog/2013/02/22/transactions-on-multiple-db/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/05/19/two-databases/" class="link black dim">
        Несколько баз данных
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В некоторых ситуациях необходимо использовать более чем одну базу данных в проекте. Например, статистику и большие
таблицы хранить на другом сервере, у которого большой и медленный диск, а данные, которые нужны постоянно, хранить на
основном сервере с маленьким и быстрым диском.</p>
<p>В нашем случае хотелось унести большие таблицы на другой сервер, чтобы в дисковом кэше (а у главного сервера БД 32 Гб
оперативной памяти) хранились все рабочие таблицы и никогда оттуда не убегали.</p>
    </div>
    <a href="/blog/2009/05/19/two-databases/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/03/23/test-and-testing/" class="link black dim">
        Тесты и тестирование
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Возможно, в сайте из 3 контроллеров и 15 страниц, тесты и не нужны. Я обычно не делаю тесты на маленьких проектах,
которые пишу один.</p>
<p>В случае, если проект собирается быть большим, длиться долго, а команда состоит больше чем из одного человека, то
тесты — крайне желательный инструмент для того, чтобы разработка не вышла из под контроля. Без тестов в какой-то момент
невозможно внести серьезное изменение в код, потому что знаешь, что такое изменение заденет еще некоторые части и точно
знаешь, что все зависимости точно не учтешь. В этот момент разработка превращается в постоянное исправление ошибок, при
которых снова вносятся ошибки и так до бесконечности.</p>
    </div>
    <a href="/blog/2009/03/23/test-and-testing/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%B1%D0%BB%D0%BE%D0%BA%D0%B8%D1%80%D0%B2%D0%BE%D0%BA%D0%B8/" class="link blue hover-black">
            Tag: Записи с тегом: блокирвоки
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/01/27/locks/" class="link black dim">
        Блокировки в PostgreSQL
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Чтобы рассказать о тонких моментах <a href="/blog/2013/01/09/fix-db-on-fly/">pg_repack</a>, мне понадобится немного углубиться в
тему блокировок в PostgreSQL. Конечно, лучше всего начать читать про них в <a href="http://www.postgresql.org/docs/9.1/static/explicit-locking.html">официальной документации</a>. Для этой статьи достаточно понимать, что
эксклюзивная блокировка (ACCESS EXCLUSIVE LOCK) препятствует выполнению всех операций, включая <code>SELECT</code>, и она нужна для операции
<code>ALTER TABLE</code>.</p>
    </div>
    <a href="/blog/2013/01/27/locks/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pg_reorg/" class="link blue hover-black">
            Tag: Записи с тегом: pg_reorg
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/01/09/fix-db-on-fly/" class="link black dim">
        Ремонт БД на лету с помощью pg_repack
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Окончились новогодние праздники, а это значит, что пора с новыми силами кинуться в бой с ИТ-сложностью, ИТ-хаосом
и другими ИТ бедами.</p>
<p>Одной из бед всех версионных БД является разбухание таблиц. Все бы ничего, но если количество активно используемых
данных перестает влезать в оперативную память, то время обработки запросов к БД чрезвычайно сильно возрастает (об этом я
напишу в ближайшем будущем). И чтобы «впихнуть» размеры таблицы в нужный размер, иногда приходится делать некоторые нетрадиционные
трюки.</p>
    </div>
    <a href="/blog/2013/01/09/fix-db-on-fly/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pg_repack/" class="link blue hover-black">
            Tag: Записи с тегом: pg_repack
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2013/01/09/fix-db-on-fly/" class="link black dim">
        Ремонт БД на лету с помощью pg_repack
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Окончились новогодние праздники, а это значит, что пора с новыми силами кинуться в бой с ИТ-сложностью, ИТ-хаосом
и другими ИТ бедами.</p>
<p>Одной из бед всех версионных БД является разбухание таблиц. Все бы ничего, но если количество активно используемых
данных перестает влезать в оперативную память, то время обработки запросов к БД чрезвычайно сильно возрастает (об этом я
напишу в ближайшем будущем). И чтобы «впихнуть» размеры таблицы в нужный размер, иногда приходится делать некоторые нетрадиционные
трюки.</p>
    </div>
    <a href="/blog/2013/01/09/fix-db-on-fly/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D1%83%D0%BB%D1%8C%D1%8F%D0%BD%D0%BE%D0%B2%D1%81%D0%BA/" class="link blue hover-black">
            Tag: Записи с тегом: Ульяновск
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/12/18/railsclub-ulsk/" class="link black dim">
        Последствия выступления на Railsclub&#39;Ulsk
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В эту субботу 15 декабря я выступал в Ульяновске с докладом «Нетрадиционное использование Ruby и PostgreSQL». Несмотря
на несколько провокационное название, доклад был посвящен вполне обыденным вещам: о том, как использовать Ruby и
PostgreSQL не в web-проекте с Rails. Я рассказал о Ruby внутри Vim, hstore и PostgreSQL массивах внутри Rails (кстати,
hstore и ARRAY неоднократно упоминались на конференции, так что я был неоригинален), а самая забавная часть моего
доклада была посвящена несуществующей документоориентированной БД rmongo.rb. Видеозапись второго дня еще доступна на
<a href="http://railsclub.ru/stream">сайте Railsclub</a>, и я надеюсь, что и первый день скоро появится в общем доступе.</p>
<p>Исходные коды, которые связаны с докладом, я выложил на <a href="https://gist.github.com/4327395">Gist</a>, сам доклад я выложил на
<a href="http://www.slideshare.net/evtuhovich/ruby-postgresql">Slideshare</a>.</p>
    </div>
    <a href="/blog/2012/12/18/railsclub-ulsk/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/07/01/ulsk-results/" class="link black dim">
        Посещение Ульяновска
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Прошла уже почти неделя, как я вернулся из <a href="/blog/2012/06/17/ulsk/">Ульяновска</a>, но все никак не добегали пальцы до
клавиатуры, чтобы поделиться впечатлениями.</p>
<p>Во-первых, я хочу выразить большую благодарность <a href="http://mokevnin.github.com/">Кириллу Мокевнину</a>, который встретил нас
на вокзале на машине, помог поселиться, показал город, показал мне свой офис, а также организовал небольшую Ульяновскую
ruby-тусовку. Кирилл организовал достаточно большой офис ruby-разработки, где много света, красиво, аккуратно и
стеклянные туалеты. Поначалу они пугают, но стекло матовое и в целом это скорее забавно, чем неуютно.</p>
    </div>
    <a href="/blog/2012/07/01/ulsk-results/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/06/17/ulsk/" class="link black dim">
        Буду в Ульяновске 21-23 июня
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>По айкидошным делам посещу IT Мекку России — славный город Ульяновск. Сказания и легенды о необычайно плотности IT мысли в
Ульяновске слышал я уже давно, вот теперь воочию смогу убедиться в том, что это правда.</p>
<p>Я планирую провести ruby/chef/rails пьянку 22 июня (в пятницу) вечером, но подробности можно будет прочитать в моем
<a href="https://twitter.com/#!/evtuhovich">твиттере</a>, потому что я их и сам не знаю. Так же у меня будут более-менее свободны
все три дня: четверг, пятница и суббота. Я буду свободен днем между тренировками и вечером. Если кто-то хочет
встретиться и поговорить — напишите мне об этом.</p>
    </div>
    <a href="/blog/2012/06/17/ulsk/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%B8%D0%BD%D0%B4%D0%B5%D0%BA%D1%81%D1%8B/" class="link blue hover-black">
            Tag: Записи с тегом: индексы
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/10/10/index-only-scan/" class="link black dim">
        Index Only Scan в Postgresql 9.2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Вообще, сам не узнаю себя, уже ровно месяц прошел с выпуска <a href="http://www.postgresql.org/docs/9.2/static/release-9-2.html">Postgresql 9.2</a>, даже вышло <a href="http://www.postgresql.org/docs/9.2/static/release-9-2-1.html">обновление 9.2.1</a>, исправляющее некоторые баги, а я все еще ничего не написал об этом.</p>
<p>Поэтому сегодня рассказ будет о Index Only Scan — самом заметном, по моему мнению, изменении в 9.2. Кстати, именно это
изменение стоит первым в <a href="http://www.postgresql.org/docs/9.2/static/release-9-2.html">Release Notes</a>, а значит я не
одинок.</p>
    </div>
    <a href="/blog/2012/10/10/index-only-scan/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/05/28/validates-uniqueness-of/" class="link black dim">
        Проблема с проверкой уникальности какого-то поля в rails
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Пусть в модели User у нас описана валидация для поля email</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>    validates_uniqueness_of <span style="color:#e6db74">:email</span>, <span style="color:#e6db74">:case_sensitive</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">false</span>, 
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">:message</span> <span style="color:#f92672">=&gt;</span> i18n_proxy(<span style="color:#e6db74">:email_already_registered</span>)
</span></span></code></pre></div><p>Следующий код генерирует вот такой запрос к базе данных:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> users <span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">lower</span>(email) <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;thmth&#39;</span> <span style="color:#66d9ef">LIMIT</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>А на таблице users у нас индекс по полю email. В postgresql запрос, что вверху,
не будет использовать индекс. Представьте, что будет, когда в таблице users
десятки тысяч записей, а на каждое изменение любого поля в users вызывается
такой запрос.</p>
<p>Именно это я наблюдал совсем недавно на нашей живой базе. Проблема решается
просто, например, убрать <code>:case_sensetive</code>, а email всегда
предварительно переводить в нижние буквы.</p>
    </div>
    <a href="/blog/2009/05/28/validates-uniqueness-of/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/04/08/concurent-index/" class="link black dim">
        Конкурентное пересоздание индексов в postgresql
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>На таблице postgresql с большим количеством данных невозможно быстро создать либо пересоздать индекс. При создании
индекса таблица блокируется для операций INSERT, UPDATE и DELETE. В таких случаях может помочь конкурентное создание
индекса. Иногда на postgresql стоит пересоздавать индексы, чтобы уменьшить их фрагментацию (и увеличить скорость).
Создание конкурентного индекса будет частным случаем его пересоздания.</p>
<p>Пусть имеется таблица orders с 1 миллионом записей (приблизительно) в которой хранятся заказы. И в этой таблице есть
поля country_id, region_id, city_id, на которых создан индекс.</p>
    </div>
    <a href="/blog/2009/04/08/concurent-index/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/railsclub/" class="link blue hover-black">
            Tag: Записи с тегом: railsclub
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/09/08/railsclub-2012/" class="link black dim">
        Конференции
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Сегодня я хочу рассказать о пользе конференций в жизненной практике любого специалиста. Если вы просто работаете в своей
профессии и не хотите стать и быть Специалистом (именно так, с большой буквы), то дальше можете не читать.</p>
    </div>
    <a href="/blog/2012/09/08/railsclub-2012/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/12/21/railsclub/" class="link black dim">
        Railsclub: отчет о прошедшей конференции
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В субботу 17 декабря прошла конференция <a href="http://railsclub.ru">Railsclub</a>, которую посетило приблизительно 170 человек. Я
рад, что в этот раз нам удалось привезти иностранных коллег: <a href="http://svenfuchs.com/">Sven Fuchs</a>, <a href="http://rkh.im/">Konstantin Haase</a> и
<a href="http://piotrsarnacki.com/">Piotr Sarnacki</a>.</p>
<p>Но помимо самой конференции, было еще несколько посиделок, где можно было поговорить со всеми в неформальной обстановке.
Я старался о всех публичных мероприятиях сообщать в твиттере конференции <a href="http://twitter.com/#!/railsclub_ru">@railsclub_ru</a>.</p>
<p>Очень понравилось, что Свен остался специально на день подольше, чтобы потусоваться с русскими разработчиками,
специально посетил «<a href="http://evilmartians.ru/">Злых Марсианах</a>», чтобы посмотреть, что у нас делается. Мне показалось,
что эта неформальная часть получилась не менее интересной и насыщенной, чем сама конференция. И хотелось бы, чтобы в
дальнейшем, такие неформальные тусовки посещало больше моих коллег из Москвы и других городов России.</p>
    </div>
    <a href="/blog/2011/12/21/railsclub/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/backup/" class="link blue hover-black">
            Tag: Записи с тегом: backup
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/07/27/backup/" class="link black dim">
        Barman и WAL-E
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В postgresql есть замечательная возможность делать <a href="http://www.postgresql.org/docs/9.1/interactive/continuous-archiving.html">непрерывные бэкапы</a>,
то есть бэкапы, по которым можно восстановиться на любой момент времени.</p>
<p>Если вы делаете обычные бэкапы и запускаете в час ночи pg_dump, а в час дня ваш сервер БД умер, то вы потеряете данные за
12 часов и доверие ваших пользователей. Для многих web-сервисов такой сценарий неприемлем, и, чтобы минимизировать потери
данных, стоит использовать непрерывный бэкап.</p>
    </div>
    <a href="/blog/2012/07/27/backup/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/barman/" class="link blue hover-black">
            Tag: Записи с тегом: barman
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/07/27/backup/" class="link black dim">
        Barman и WAL-E
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В postgresql есть замечательная возможность делать <a href="http://www.postgresql.org/docs/9.1/interactive/continuous-archiving.html">непрерывные бэкапы</a>,
то есть бэкапы, по которым можно восстановиться на любой момент времени.</p>
<p>Если вы делаете обычные бэкапы и запускаете в час ночи pg_dump, а в час дня ваш сервер БД умер, то вы потеряете данные за
12 часов и доверие ваших пользователей. Для многих web-сервисов такой сценарий неприемлем, и, чтобы минимизировать потери
данных, стоит использовать непрерывный бэкап.</p>
    </div>
    <a href="/blog/2012/07/27/backup/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/wal-e/" class="link blue hover-black">
            Tag: Записи с тегом: wal-e
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/07/27/backup/" class="link black dim">
        Barman и WAL-E
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В postgresql есть замечательная возможность делать <a href="http://www.postgresql.org/docs/9.1/interactive/continuous-archiving.html">непрерывные бэкапы</a>,
то есть бэкапы, по которым можно восстановиться на любой момент времени.</p>
<p>Если вы делаете обычные бэкапы и запускаете в час ночи pg_dump, а в час дня ваш сервер БД умер, то вы потеряете данные за
12 часов и доверие ваших пользователей. Для многих web-сервисов такой сценарий неприемлем, и, чтобы минимизировать потери
данных, стоит использовать непрерывный бэкап.</p>
    </div>
    <a href="/blog/2012/07/27/backup/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/osx/" class="link blue hover-black">
            Tag: Записи с тегом: osx
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/07/14/collate-osx-postgres/" class="link black dim">
        Проблема с сортировкой русских слов в Postgres на OSX
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Я давно мечтаю об Ubuntu, которая работает так же хорошо, как OSX. К несчастью, большинство пользовательских программ в
Ubuntu хуже, чем в OSX, а что касается серверной части - OSX очень сильно отстает от Ubuntu (Debian).</p>
<p>К примеру, по-умолчанию, в Postgresql в OSX сломана сортировка русских слов. Решение я нашел
<a href="http://chipiga.pp.ua/sql/kak-zastavit-postgresql-pravilno-sortirovat-utf8-kirillitsu-na-mac-os-x/">здесь</a>.</p>
    </div>
    <a href="/blog/2012/07/14/collate-osx-postgres/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/apt-get/" class="link blue hover-black">
            Tag: Записи с тегом: apt-get
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/06/07/package-manager/" class="link black dim">
        Пакетные менеджеры
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Тема этого поста навеяна <a href="https://groups.google.com/forum/?fromgroups#!topic/erlang-russian/hu5UViybcXI">обсуждением пакетных менеджеров в рассылке
Erlang</a>. К сожалению, обсуждение завяло,
так и не успев начаться.</p>
    </div>
    <a href="/blog/2012/06/07/package-manager/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/gem/" class="link blue hover-black">
            Tag: Записи с тегом: gem
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/06/07/package-manager/" class="link black dim">
        Пакетные менеджеры
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Тема этого поста навеяна <a href="https://groups.google.com/forum/?fromgroups#!topic/erlang-russian/hu5UViybcXI">обсуждением пакетных менеджеров в рассылке
Erlang</a>. К сожалению, обсуждение завяло,
так и не успев начаться.</p>
    </div>
    <a href="/blog/2012/06/07/package-manager/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/package-manager/" class="link blue hover-black">
            Tag: Записи с тегом: package-manager
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/06/07/package-manager/" class="link black dim">
        Пакетные менеджеры
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Тема этого поста навеяна <a href="https://groups.google.com/forum/?fromgroups#!topic/erlang-russian/hu5UViybcXI">обсуждением пакетных менеджеров в рассылке
Erlang</a>. К сожалению, обсуждение завяло,
так и не успев начаться.</p>
    </div>
    <a href="/blog/2012/06/07/package-manager/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/git/" class="link blue hover-black">
            Tag: Записи с тегом: git
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/05/25/git-merge-base/" class="link black dim">
        Конфликтные слияния веток и git merge-base
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Когда у вас есть две ветки разработки, которые достаточно сильно друг от друга отличаются, периодически возникают
проблемы с их слиянием (merge).</p>
    </div>
    <a href="/blog/2012/05/25/git-merge-base/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/08/23/pro-git/" class="link black dim">
        Рассказ про Git
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>По-моему, в <a href="http://pragprog.com/the-pragmatic-programmer">«Прагматичных программистах»</a> было написана фраза, которую я
часто люблю повторять:
«Программист должен в совершенстве владеть двумя инструментами — текстовым редактором и системой контроля версий».
Программист работает с текстом, особенно программист, который пишет на высокоуровневом
языке, таком как Ruby. Зачастую можно не вдаваться в подробности того, что происходит внутри, хотя иногда, конечно,
надо. Так вот, текст надо уметь изменять, а потом этими изменениями как-то обмениваться со своими коллегами.</p>
<p>Про текстовый редактор <a href="/blog/2011/03/10/vim/">я рассказывал немного раньше</a>, а сегодня я хочу рассказать про
систему контроля версий <a href="http://git-scm.com/">git</a>.
Пересказывать огромный объем материала, который лежит в сети, мне совершенно не хочется, но я дам ссылки с комментариями
на самые лучшие тексты.</p>
    </div>
    <a href="/blog/2011/08/23/pro-git/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/04/03/git-reset/" class="link black dim">
        Отмена последнего коммита в git
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Допустим, вы сделали commit в git, но поняли, что он недостаточно хорош. В таком случае можно продолжить правки, а при
следующем коммите набрать</p>
<pre tabindex="0"><code>    git commit -a --amend
</code></pre><p>Ключ <code>--amend</code> (улучшить, в переводе с английского) позволяет добавить к последнему коммиту новые изменения.</p>
<p>Если вы сделали commit в git, но поняли, что он достаточно плох, то можно сделать и так:</p>
<pre tabindex="0"><code>    git reset --soft HEAD^
</code></pre><p>Эта команда отменит последний коммит (но не изменения, которые вы внесли, они сохранятся).</p>
    </div>
    <a href="/blog/2009/04/03/git-reset/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/03/13/git-move-branch/" class="link black dim">
        Перенести ветку в git
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><img src="/images/gitk1.png" alt="Картинка 1"></p>
<p>Представим следующую ситуацию (она постоянно возникает у нас при разработке). У нас есть ветка master в git, а в день
релиза мы создаем ветку b1. Мы добавляем какие-то изменения в ветки b1 и master. И тут вдруг (хотя слово «вдруг» не
очень подходит к регулярным событям) менеджмент решает добавить что-то из master в релиз.</p>
<p><img src="/images/gitk2.png" alt="Картинка 2"></p>
<p>Если комитов было мало, то
можно воспользоваться <code>git cherry-pick</code> (если их несколько, то может помочь ключ -n). А что делать, если комитов было
больше 10? Рукаме делать <code>git cherry-pick</code> не очень удобно. В таком случае нам поможет (в который раз) <code>git rebase</code>.</p>
    </div>
    <a href="/blog/2009/03/13/git-move-branch/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/paperclip/" class="link blue hover-black">
            Tag: Записи с тегом: paperclip
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/05/11/paperclip/" class="link black dim">
        Странное поведение создателей Paperclip
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Вчера я разворачивал наше приложение в системе CI <a href="http://jenkins-ci.org/">Jenkins</a>, и обнаружил, что bundler не находит
gem paperclip. В Gemfile была явно прописана версия 3.0.1. Зайдя на <a href="https://rubygems.org/gems/paperclip/versions">rubygems</a>, я увидел,
что эту версию гема его создатели удалили, а версия 3.0.2 и старше не поставилась, выругавшись на то, что ей нужен ruby
1.9.2 и старше.</p>
    </div>
    <a href="/blog/2012/05/11/paperclip/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/rails/" class="link blue hover-black">
            Tag: Записи с тегом: rails
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/04/24/flash-message/" class="link black dim">
        Изменение формата сессии при переходе с Rails 3.0 на 3.2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Групон сейчас активно переводится с rails 3.0 на rails 3.2. Самая досадная неожиданность, которая встретилась в процессе
переезда — это изменение формата хранения flash сообщений в сессии. Если бы при этом flash сообщение пропадало, то это
было бы не страшно, но при декодировании сессии происходит исключение, и пользователь видит 500 ошибку до тех пор, пока
не почистит куки. Конечно, пользователей, у которых в сессии будет flash сообщение в момент переключения с версии 3.0 на
3.2 будет не так и много, но это пользователи, потерянные навсегда.</p>
    </div>
    <a href="/blog/2012/04/24/flash-message/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/03/23/rails-update/" class="link black dim">
        Обновление на rails3 и проблемы, связанные с этим
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>На «Групоне» мы давно уже переходим с Rails 2.3 на Rails 3.0. На этой неделе перешли — полет нормальный. Но поскольку
сразу переход у нас не получился, то мы переходили по частям. И тут возникла проблема, что в rails3 нужен новый devise (1.5.3),
которому нужен warden (1.1.1). А в rails2 используется devise (1.0.9), которому нужен warden (0.10.7). И вот этот вот
warden стал по-другому сериализовать сессию. А devise стал хранить remember_token в подписанной (signed) cookie. Более
того, из самих рельс пропал класс ActionController::Flash::FlashHash, поэтому при десериализации сессии происходило
неуловимое исключение в Marshal.load.</p>
<p>Все эти проблемы решены были кодом, которые приведен ниже. И еще похожий код был в rails2-ветке, который конвертил
сессию третьих рельс во вторую. Пользуйтесь с осторожностью.</p>
    </div>
    <a href="/blog/2012/03/23/rails-update/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/09/11/find-in-batches/" class="link black dim">
        Проблемы с find_in_batches
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Иногда мне кажется, что большинство инженерных историй похожи как две капли воды. Вот и эта история началась с того, что
в одном большом отчете цифры не сходились раза в два.</p>
<p>Мысленно закурив трубку, как Шерлок Холмс, я взялся за дело. Вот таким образом выглядела модель, по которой считались
цифры (я опускаю ненужные подробности).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OfferDescription</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">ActiveRecord</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Base</span>
</span></span><span style="display:flex;"><span>      has_many <span style="color:#e6db74">:children</span>, <span style="color:#e6db74">:class_name</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;OfferDescription&#39;</span>, <span style="color:#e6db74">:foreign_key</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">:parent_id</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>В отчете данные группировались по родительским объектам <code>OfferDescription</code>.
Именно у объектов, у которых были дети, в отчетах были все нули. Рассчитывал
отчеты приблизительно вот такой код.</p>
    </div>
    <a href="/blog/2011/09/11/find-in-batches/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/08/22/caches-action/" class="link black dim">
        Некоторые проблемы с cached_action в Rails 2.3
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>На Групоне у нас есть внутренняя страница, на которой динамически отображаются данные о продажах по различным городам.
Результаты этой страницы зависят от параметров, которые передаются в метод show. А потом эта страница динамически
обновляется с помощью ajax-запросов.</p>
<pre tabindex="0"><code># dashboard.rb
class Admin::DashboardsController &lt; Admin::BaseController
  layout &#34;admin&#34;

  def show
    # Здесь сложные-сложные запросы к БД

    if request.xhr?
      render &#39;show&#39;, :layout =&gt; false
    end
  end
end
</code></pre><p>Поскольку запросы очень тяжелые, да и сама страничка непростая, то отдача ее сильно нагружала БД и app-сервера.</p>
    </div>
    <a href="/blog/2011/08/22/caches-action/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2010/07/27/rails-logger/" class="link black dim">
        Переопределение Rails.logger и проблемы с ним
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Часто один и тот же rails-проект используется и для web-части, и для каких-то других задач, выполняемых по расписанию
или для создания демонов. В таких случаях иногда хочется, чтобы логи разных частей писались в разные файлы.</p>
<p>Готового способа для этого я не нашел. Например, посмотрим на такой пример:</p>
<pre tabindex="0"><code>    $ ./script/console 
    Loading development environment (Rails 2.3.5)

    &gt;&gt;  ActiveRecord::Base.logger = Logger.new(STDOUT)
    =&gt; #&amp;lt;Logger:0xb192594 @progname=nil, @level=0, @default_formatter=#&amp;lt;Logger::Formatter:0xb19255c @datetime_format=nil&gt;, formatternil, logdev#&amp;lt;Logger::LogDevice:0xb19247c @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#&amp;lt;IO:&amp;lt;STDOUT&gt;, mutex#&amp;lt;Logger::LogDevice::LogDeviceMutex:0xb192444 @mon_owner=nil, @mon_count=0, @mon_mutex=#&amp;lt;Mutex:0xb19240c&gt;

    &gt;&gt; User.first
    =&gt; #&amp;lt;User id: 1, email: &#34;seeduser@scalaxy.ru&#34; ...&gt;
    &gt;&gt; 
</code></pre><p>И где же логи, спросите вы?</p>
    </div>
    <a href="/blog/2010/07/27/rails-logger/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/06/05/pgq-londiste-plugin/" class="link black dim">
        PgQ и Londiste
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Хотя я так и не написал толком, как пользоваться PgQ и Londiste, но уже написал плагин, который облегчает его
использование вместе с рельсами.</p>
<p><a href="http://github.com/evtuhovich/pgq/tree/master">http://github.com/evtuhovich/pgq/tree/master</a></p>
<p>В README всё написано на плохом английском (с хорошим английским у меня плохо).</p>
<p>Совсем скоро я добавлю туда возможность прогонять миграции на master и slave базах данных одновременно. Тогда при
очередной выкатке необходимо будет сделать только rake londiste:update в самом конце, после того, как все миграции
прогонятся.</p>
    </div>
    <a href="/blog/2009/06/05/pgq-londiste-plugin/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/05/28/validates-uniqueness-of/" class="link black dim">
        Проблема с проверкой уникальности какого-то поля в rails
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Пусть в модели User у нас описана валидация для поля email</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>    validates_uniqueness_of <span style="color:#e6db74">:email</span>, <span style="color:#e6db74">:case_sensitive</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">false</span>, 
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">:message</span> <span style="color:#f92672">=&gt;</span> i18n_proxy(<span style="color:#e6db74">:email_already_registered</span>)
</span></span></code></pre></div><p>Следующий код генерирует вот такой запрос к базе данных:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> users <span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">lower</span>(email) <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;thmth&#39;</span> <span style="color:#66d9ef">LIMIT</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>А на таблице users у нас индекс по полю email. В postgresql запрос, что вверху,
не будет использовать индекс. Представьте, что будет, когда в таблице users
десятки тысяч записей, а на каждое изменение любого поля в users вызывается
такой запрос.</p>
<p>Именно это я наблюдал совсем недавно на нашей живой базе. Проблема решается
просто, например, убрать <code>:case_sensetive</code>, а email всегда
предварительно переводить в нижние буквы.</p>
    </div>
    <a href="/blog/2009/05/28/validates-uniqueness-of/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/03/23/test-and-testing/" class="link black dim">
        Тесты и тестирование
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Возможно, в сайте из 3 контроллеров и 15 страниц, тесты и не нужны. Я обычно не делаю тесты на маленьких проектах,
которые пишу один.</p>
<p>В случае, если проект собирается быть большим, длиться долго, а команда состоит больше чем из одного человека, то
тесты — крайне желательный инструмент для того, чтобы разработка не вышла из под контроля. Без тестов в какой-то момент
невозможно внести серьезное изменение в код, потому что знаешь, что такое изменение заденет еще некоторые части и точно
знаешь, что все зависимости точно не учтешь. В этот момент разработка превращается в постоянное исправление ошибок, при
которых снова вносятся ошибки и так до бесконечности.</p>
    </div>
    <a href="/blog/2009/03/23/test-and-testing/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/03/22/cache-problem/" class="link black dim">
        Проблемы с кэшированием
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Все ситуации, о которых я здесь пишу, встретились мне в повседневной работе. Единственное, что я делаю — меняю название классов,
чтобы не утруждать моего читателя незнакомой для него предметной областью.</p>
<p>Итак, у нас есть следующие модели:</p>
<pre tabindex="0"><code># shop.rb
class Shop &lt; ActiveRecord::Base
  has_many :categories

  cached_methods do
    def wait_orders_count
      Order.count :conditions =&gt; {:status_id =&gt; Order::WAIT}
    end

    def paid_orders_count
      Order.count :conditions =&gt; {:status_id =&gt; Order::PAID}
    end

    def bad_orders_count
      Order.count :conditions =&gt; {:status_id =&gt; Order::BAD}
    end
  end
end

class Category &lt; ActiveRecord::Base
  belongs_to :shop
  has_many :products
end

class Product &lt; ActiveRecord::Base
  belongs_to :category
  has_many :orders
end

class Order
  belongs_to :product
end
</code></pre><p>Методы внутри <code>cached_methods</code> выполняются в том случае, если значение для них не нашлось в кэше (например, в memcached).
До этого поля *_orders_count хранились в базе и мы добавляли к ним +1/-1 каждый раз, когда изменяли статус заказа
(Order). Если магазин большой, то таких обновлений будет очень много, что создает нагрузку на базу, поэтому их и вынесли
в кэш. Чтобы не думать, каждый раз при обновлении статуса заказа, мы полностью сбрасывали кэши для конкретного магазина.</p>
    </div>
    <a href="/blog/2009/03/22/cache-problem/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/03/20/big-tables/" class="link black dim">
        PosgtreSql, миграции и огромные таблицы
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Миграции в rails — это очень правильный инструмент. Правда, иногда случаются казусы, потому что конкретная БД перестает
быть «сферическим конем в вакууме», как только количество данных и нагрузка на нее становится существенной.</p>
<p>Пусть у нас есть таблица posts, в которой 10 миллионов записей. И мы решили добавить в нее поле is_searchable.</p>
<pre tabindex="0"><code>    $ script/generate migration add_is_searchable_to_posts
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">AddIsSearchableToPosts</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">ActiveRecord</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Migration</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">.</span><span style="color:#a6e22e">up</span>
</span></span><span style="display:flex;"><span>        add_column <span style="color:#e6db74">:posts</span>, <span style="color:#e6db74">:is_searchable</span>, <span style="color:#e6db74">:boolean</span>, <span style="color:#e6db74">:default</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">true</span>, <span style="color:#e6db74">:null</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">self</span><span style="color:#f92672">.</span><span style="color:#a6e22e">down</span>
</span></span><span style="display:flex;"><span>        remove_column <span style="color:#e6db74">:posts</span>, <span style="color:#e6db74">:is_searchable</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">end</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>Если на базе development данных у вас немного, то миграция пройдет замечательно. На production базе она может занять
несколько часов, блокируя таблицу posts. Заглянув в документацию по postgresql и немного подумав, можно переписать эту
миграцию вот так:</p>
    </div>
    <a href="/blog/2009/03/20/big-tables/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/airbrake/" class="link blue hover-black">
            Tag: Записи с тегом: airbrake
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/04/11/airbrake/" class="link black dim">
        Быстрое удаление старых ошибок из airbrake через API
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Так сложилось, что у нас накопилось достаточно много старых исключений в <a href="http://airbrake.io">airbrake</a> — сервисе по
сбору и хранению исключений. Ошибки эти не то, чтобы мешали, но
мозолили глаза. И закрыть их руками не представлялось возможным, тем более, что в airbrake это реализовано очень
неудобно — необходимо открыть отдельную страницу с исключением, и там тыкнуть на достаточно неудобный самописный элемент
управления.</p>
<p>Когда такую операцию надо сделать несколько сотен раз, автоматически опускаются руки. Но оказалось, что у airbrake есть
API, которым можно достаточно успешно пользоваться. <a href="http://help.airbrake.io/kb/api-2/api-overview">Документирован он
никак</a>, но можно догадаться о некоторых адресах по
адресам в основном приложении.</p>
    </div>
    <a href="/blog/2012/04/11/airbrake/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/codefest/" class="link blue hover-black">
            Tag: Записи с тегом: codefest
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/03/28/codefest/" class="link black dim">
        Буду выступать на CodeFest
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>31 марта буду выступать на конференции <a href="http://codefest.ru/">CodeFest</a>. Мой доклад
«<a href="http://codefest.ru/program/2012-03/groupon/">Как мы делали Групон</a>» будет в 17:05 во втором зале. А
второго апреля я проведу мастер-класс «<a href="http://codefest.ru/training-2012-03/evtuhovich">Устройство и оптимизация Postgresql</a>».</p>
<p>Я хочу выразить большую благодарность организаторам конференции за их работу. Поскольку у меня есть опыт в этой области,
я понимаю, какой объем работы надо проделать, чтобы привезти докладчиков со всех концов России в Новосибирск. Верю, что
конференция пройдет продуктивно и на позитивной волне.</p>
    </div>
    <a href="/blog/2012/03/28/codefest/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/devise/" class="link blue hover-black">
            Tag: Записи с тегом: devise
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/03/23/rails-update/" class="link black dim">
        Обновление на rails3 и проблемы, связанные с этим
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>На «Групоне» мы давно уже переходим с Rails 2.3 на Rails 3.0. На этой неделе перешли — полет нормальный. Но поскольку
сразу переход у нас не получился, то мы переходили по частям. И тут возникла проблема, что в rails3 нужен новый devise (1.5.3),
которому нужен warden (1.1.1). А в rails2 используется devise (1.0.9), которому нужен warden (0.10.7). И вот этот вот
warden стал по-другому сериализовать сессию. А devise стал хранить remember_token в подписанной (signed) cookie. Более
того, из самих рельс пропал класс ActionController::Flash::FlashHash, поэтому при десериализации сессии происходило
неуловимое исключение в Marshal.load.</p>
<p>Все эти проблемы решены были кодом, которые приведен ниже. И еще похожий код был в rails2-ветке, который конвертил
сессию третьих рельс во вторую. Пользуйтесь с осторожностью.</p>
    </div>
    <a href="/blog/2012/03/23/rails-update/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/warden/" class="link blue hover-black">
            Tag: Записи с тегом: warden
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/03/23/rails-update/" class="link black dim">
        Обновление на rails3 и проблемы, связанные с этим
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>На «Групоне» мы давно уже переходим с Rails 2.3 на Rails 3.0. На этой неделе перешли — полет нормальный. Но поскольку
сразу переход у нас не получился, то мы переходили по частям. И тут возникла проблема, что в rails3 нужен новый devise (1.5.3),
которому нужен warden (1.1.1). А в rails2 используется devise (1.0.9), которому нужен warden (0.10.7). И вот этот вот
warden стал по-другому сериализовать сессию. А devise стал хранить remember_token в подписанной (signed) cookie. Более
того, из самих рельс пропал класс ActionController::Flash::FlashHash, поэтому при десериализации сессии происходило
неуловимое исключение в Marshal.load.</p>
<p>Все эти проблемы решены были кодом, которые приведен ниже. И еще похожий код был в rails2-ветке, который конвертил
сессию третьих рельс во вторую. Пользуйтесь с осторожностью.</p>
    </div>
    <a href="/blog/2012/03/23/rails-update/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/json/" class="link blue hover-black">
            Tag: Записи с тегом: json
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/03/14/postgresql-json/" class="link black dim">
        Поддержка JSON в PostgreSql 9.2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В третьем квартале 2012 должна выйти версия <a href="http://www.postgresql.org/developer/roadmap/">PostgreSQL 9.2</a>, в которой
добавят много интересных возможностей. Среди них — базовая поддержка так полюбившегося всем web-разработчикам формата
JSON. На данном этапе появится только возможность <a href="http://www.postgresql.org/docs/devel/static/datatype-json.html">проверять JSON на валидность</a>,
но судя по списку рассылки, к версии 9.3 будет добавлена возможность строить индексы на JSON объектах подобно тому, как
это <a href="/blog/2012/01/23/hstore/">можно сделать на hstore</a>. Конечно, JSON объекты гораздо сложнее hstore, и как именно и в
каком объеме будет реализована поддержка индексов в JSON — пока не ясно.</p>
    </div>
    <a href="/blog/2012/03/14/postgresql-json/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pgbouncer/" class="link blue hover-black">
            Tag: Записи с тегом: pgbouncer
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/02/12/pgbouncer/" class="link black dim">
        PgBouncer
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Удивительное дело, что я до сих пор не написал про <a href="http://pgfoundry.org/projects/pgbouncer/">PgBouncer</a>. Как написано
на сайте — это «Lightweight connection pooler for PostgreSQL». Я бы первел это следующим образом.
PgBouncer — это легкий менеджер соединений для PostgreSQL.</p>
    </div>
    <a href="/blog/2012/02/12/pgbouncer/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/rubynoname/" class="link blue hover-black">
            Tag: Записи с тегом: rubynoname
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/02/08/rubynoname/" class="link black dim">
        RubyNoName подкаст
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Сегодня я выложил наш первый совместный с <a href="https://twitter.com/#!/kronos_vano">Иваном Самсоновым</a> <a href="http://ruby.rpod.ru/262745.html">эпизод RubyNoName
подкаста</a> (<a href="http://habrahabr.ru/blogs/ruby/137853/">плюсуйте анонс на Хабре</a>).</p>
<p>Хочу сразу сказать, что дело это оказалось далеко не такое простое, как я думал раньше. Начиная с того, что
непринужденно рассказывать о новостях в ruby-мире без мыканья, эканья, запинок, фраз «ну» и «как бы» получается у нас
гораздо хуже, чем писать код на ruby. И заканчивая тем, что свести две дорожки в редакторе, а потом сделать из этого
что-то, что хорошо слушается, вообще для меня пока что очень сложная задача, которая к тому же занимает очень много
времени.</p>
    </div>
    <a href="/blog/2012/02/08/rubynoname/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/toster/" class="link blue hover-black">
            Tag: Записи с тегом: toster
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/02/06/toster/" class="link black dim">
        Конференция .toster
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В эту пятницу в Москве пройдет конференция <a href="http://toster.ru">.toster</a>, посвященная языку программирования ruby. Меня
удостоили большой чести выступать среди 6 известных во всем мире ruby-разработчиков. Если кто-то еще не успел купить
билеты, самое время это сделать.</p>
<p>Мне переодически задают вопросы, зачем ходить на конференции, ведь все можно найти в интернете. Мое личное мнение,
которое я никому не хочу навязывать, но все же поделюсь, следующее. Во-первых, сама по себе техническая информация — это
просто техническая информация. Только поняв интерпретации и взлягды других людей на эту технологию, можно сложить
какое-то более объективное мнение о ней. Во-вторых, мы обычно ищем только то, что находится в нашем «поле зрения». И
конференция — это способ заглянуть за границы привычного. В-третьих, конференция дает возможность познакомиться живьем и
пообщаться с людьми из-за рубежа в расслабленной обстановке. Для меня это, пожалуй, самое интересное. Ну, и конечно, это
возможность встетиться с коллегами и друзьями, которые работали раньше вместе с тобою.</p>
    </div>
    <a href="/blog/2012/02/06/toster/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/delayed_job/" class="link blue hover-black">
            Tag: Записи с тегом: delayed_job
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/01/29/dj-on-separate-db/" class="link black dim">
        Delayed_job в отдельной базе данных
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Как я уже когда-то <a href="/blog/2009/05/19/two-databases/">писал</a>, иногда проект дорастает до того, что ему не хватает одной
базы данных. И тогда можно сделать вторую. Вопрос, какие таблицы переносить во вторую базу данных, всегда остается
открытым. В нашем случае, поскольку на сервере БД очень много памяти и слабая дисковая подсистема, мне показалось
разумным перенести туда таблицы, в которые идет интенсивная запись. И эти таблицы не должны быть «связаны», то есть
перенос их должен быть простым.</p>
    </div>
    <a href="/blog/2012/01/29/dj-on-separate-db/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/hstore/" class="link blue hover-black">
            Tag: Записи с тегом: hstore
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/01/23/hstore/" class="link black dim">
        Hstore — key-value расширение для postgresql
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Наверное, не все знают, что для postgresql существует большое количество расширений, которые называются
<a href="http://www.postgresql.org/docs/9.1/static/contrib.html">contrib модулями</a>.</p>
<p>Рассмотрим один из таких модулей - <a href="http://www.postgresql.org/docs/9.1/static/hstore.html">hstore</a>. Этот модуль
нужен для того, чтобы в одном поле в БД хранить много значений key/value, фактически, просто какой-то хеш. При этом и
ключи и значения могут быть только строками. О том, чем это лучше, нежели просто хранить в текстовом поле сериализованный хеш,
я расскажу чуть-чуть попозже. Понадобится это может в том случае, если у вас есть модели с произвольным набором полей.</p>
    </div>
    <a href="/blog/2012/01/23/hstore/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/key-value/" class="link blue hover-black">
            Tag: Записи с тегом: key-value
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/01/23/hstore/" class="link black dim">
        Hstore — key-value расширение для postgresql
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Наверное, не все знают, что для postgresql существует большое количество расширений, которые называются
<a href="http://www.postgresql.org/docs/9.1/static/contrib.html">contrib модулями</a>.</p>
<p>Рассмотрим один из таких модулей - <a href="http://www.postgresql.org/docs/9.1/static/hstore.html">hstore</a>. Этот модуль
нужен для того, чтобы в одном поле в БД хранить много значений key/value, фактически, просто какой-то хеш. При этом и
ключи и значения могут быть только строками. О том, чем это лучше, нежели просто хранить в текстовом поле сериализованный хеш,
я расскажу чуть-чуть попозже. Понадобится это может в том случае, если у вас есть модели с произвольным набором полей.</p>
    </div>
    <a href="/blog/2012/01/23/hstore/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/devops/" class="link blue hover-black">
            Tag: Записи с тегом: devops
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/01/10/vagrant/" class="link black dim">
        vagrant
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Очень странно, что я до сих пор не написал о <a href="http://vagrantup.com/">Vagrant</a> — инструменте создания и распространения
виртуальных окружений.</p>
<p>Vagrant нужен для одной простой цели — тестировать выкатку и изменение конфигурции. Причем он позволяет делать это очень
просто, особенно для <a href="http://wiki.opscode.com/display/chef/Home">Chef</a> и <a href="http://www.puppetlabs.com/puppet">Puppet</a>.
Vagrant — это надстройка над платформой виртуализации VirtualBox, которая позволяет легко и быстро создавать
виртуальные машины по шаблону.</p>
<p>Работать с ним очень легко. Вы берете какой-нибудь готовый образ ОС (например, <a href="http://www.vagrantbox.es/">отсюда</a>) или
<a href="http://vagrantup.com/docs/base_boxes.html">создаете свой</a>, который и будет вашим шаблоном. А потом проверяете, как на
этот образ накатываются ваши Chef-рецепты, причем можете делать это каждый раз с чистого листа. Конечно, образ должен
быть точно такой же, который вы используете в бою, на staging-сервере, на CI-сервере и, вообще, везде. Это позволит вам
выловить максимальное количество проблем до того, как они попадут на production.
Более того, это гораздо удобнее, чем писать chef-рецепты «вслепую». Все, что происходит тяжело, надо делать часто, чтобы
научиться делать это хорошо. Выкатка с изменением конфигурации обычно происходит тяжело. Поэтому стоит тренироваться
менять конфигурацию и выкатываться, при этом желательно делать это в «песочнице», а не на сервере, который обслуживает
ваших пользователей (и приносит деньги).</p>
    </div>
    <a href="/blog/2012/01/10/vagrant/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/vagrant/" class="link blue hover-black">
            Tag: Записи с тегом: vagrant
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2012/01/10/vagrant/" class="link black dim">
        vagrant
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Очень странно, что я до сих пор не написал о <a href="http://vagrantup.com/">Vagrant</a> — инструменте создания и распространения
виртуальных окружений.</p>
<p>Vagrant нужен для одной простой цели — тестировать выкатку и изменение конфигурции. Причем он позволяет делать это очень
просто, особенно для <a href="http://wiki.opscode.com/display/chef/Home">Chef</a> и <a href="http://www.puppetlabs.com/puppet">Puppet</a>.
Vagrant — это надстройка над платформой виртуализации VirtualBox, которая позволяет легко и быстро создавать
виртуальные машины по шаблону.</p>
<p>Работать с ним очень легко. Вы берете какой-нибудь готовый образ ОС (например, <a href="http://www.vagrantbox.es/">отсюда</a>) или
<a href="http://vagrantup.com/docs/base_boxes.html">создаете свой</a>, который и будет вашим шаблоном. А потом проверяете, как на
этот образ накатываются ваши Chef-рецепты, причем можете делать это каждый раз с чистого листа. Конечно, образ должен
быть точно такой же, который вы используете в бою, на staging-сервере, на CI-сервере и, вообще, везде. Это позволит вам
выловить максимальное количество проблем до того, как они попадут на production.
Более того, это гораздо удобнее, чем писать chef-рецепты «вслепую». Все, что происходит тяжело, надо делать часто, чтобы
научиться делать это хорошо. Выкатка с изменением конфигурации обычно происходит тяжело. Поэтому стоит тренироваться
менять конфигурацию и выкатываться, при этом желательно делать это в «песочнице», а не на сервере, который обслуживает
ваших пользователей (и приносит деньги).</p>
    </div>
    <a href="/blog/2012/01/10/vagrant/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/books/" class="link blue hover-black">
            Tag: Записи с тегом: books
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/12/27/bible/" class="link black dim">
        Библия PostgreSQL
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><img src="/images/pg-book.jpg" alt="Библия"></p>
<p>Если вы работаете с postgresql и сталкиваетесь с затруднительными ситуациями, ответы на которые даже не ясно, как
гуглить, то, скорее всего, вам не хватает каких-то фундаментальных знаний этой БД.</p>
    </div>
    <a href="/blog/2011/12/27/bible/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/activerecord/" class="link blue hover-black">
            Tag: Записи с тегом: activerecord
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/09/11/find-in-batches/" class="link black dim">
        Проблемы с find_in_batches
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Иногда мне кажется, что большинство инженерных историй похожи как две капли воды. Вот и эта история началась с того, что
в одном большом отчете цифры не сходились раза в два.</p>
<p>Мысленно закурив трубку, как Шерлок Холмс, я взялся за дело. Вот таким образом выглядела модель, по которой считались
цифры (я опускаю ненужные подробности).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">OfferDescription</span> <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">ActiveRecord</span><span style="color:#f92672">::</span><span style="color:#66d9ef">Base</span>
</span></span><span style="display:flex;"><span>      has_many <span style="color:#e6db74">:children</span>, <span style="color:#e6db74">:class_name</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;OfferDescription&#39;</span>, <span style="color:#e6db74">:foreign_key</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">:parent_id</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>В отчете данные группировались по родительским объектам <code>OfferDescription</code>.
Именно у объектов, у которых были дети, в отчетах были все нули. Рассчитывал
отчеты приблизительно вот такой код.</p>
    </div>
    <a href="/blog/2011/09/11/find-in-batches/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/hashwithindifferentaccess/" class="link blue hover-black">
            Tag: Записи с тегом: hashwithindifferentaccess
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/09/09/indiferent-hash-merge/" class="link black dim">
        Слияние HashWithIndifferentAccess с обычными хешами
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Сегодня у нас перестали ходить отчеты по почте. Ходили, ходили и вдруг перестали. Kлассы выглядели следующим образом
(ненужные подробности я опустил).</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ReportSender</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">initialize</span>(report_instance)
</span></span><span style="display:flex;"><span>        @report_instance <span style="color:#f92672">=</span> report_instance
</span></span><span style="display:flex;"><span>        @params <span style="color:#f92672">=</span> report_instance<span style="color:#f92672">.</span>params
</span></span><span style="display:flex;"><span>        @emails <span style="color:#f92672">=</span>  @params<span style="color:#f92672">.</span>delete(<span style="color:#e6db74">:mail_to</span>)
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">end</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>    <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Report</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">initialize</span>(params <span style="color:#f92672">=</span> {})
</span></span><span style="display:flex;"><span>        @params <span style="color:#f92672">=</span> self<span style="color:#f92672">.</span>class<span style="color:#f92672">.</span>default_values<span style="color:#f92672">.</span>merge(params)
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">end</span>
</span></span></code></pre></div><p>К классам отчетов были добавлены значения по-умолчанию, и, как оказалось, из-за них были все проблемы.</p>
<p>Хеш <code>params</code>, которые передается в класс <code>Report</code> — это тот самый <code>params</code> из контроллера. У него базовый класс — <code>HashWithIndifferentAccess</code>.</p>
    </div>
    <a href="/blog/2011/09/09/indiferent-hash-merge/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/configuration-management/" class="link blue hover-black">
            Tag: Записи с тегом: configuration-management
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/09/03/configuration-management/" class="link black dim">
        Управление конфигурацией и Chef
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Расскажу одну очень поучительную и одновременно типичную историю, которая случилась со мною года 3 назад. Однажды один
из наших серверов вышел из строя. Казалось бы, обычная ситуация, но беда была в том, что работа приложения была
сильно завязано на 10-15 различных cron-задач, которые были прописаны на этой машине. Еще большая проблема была в том,
что писались скрипты, которые вызывались по cron, различными людьми, многие их которых к тому времени не работали в
компании.</p>
    </div>
    <a href="/blog/2011/09/03/configuration-management/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/caches_action/" class="link blue hover-black">
            Tag: Записи с тегом: caches_action
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/08/22/caches-action/" class="link black dim">
        Некоторые проблемы с cached_action в Rails 2.3
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>На Групоне у нас есть внутренняя страница, на которой динамически отображаются данные о продажах по различным городам.
Результаты этой страницы зависят от параметров, которые передаются в метод show. А потом эта страница динамически
обновляется с помощью ajax-запросов.</p>
<pre tabindex="0"><code># dashboard.rb
class Admin::DashboardsController &lt; Admin::BaseController
  layout &#34;admin&#34;

  def show
    # Здесь сложные-сложные запросы к БД

    if request.xhr?
      render &#39;show&#39;, :layout =&gt; false
    end
  end
end
</code></pre><p>Поскольку запросы очень тяжелые, да и сама страничка непростая, то отдача ее сильно нагружала БД и app-сервера.</p>
    </div>
    <a href="/blog/2011/08/22/caches-action/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/vim/" class="link blue hover-black">
            Tag: Записи с тегом: vim
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2011/03/10/vim/" class="link black dim">
        О редакторе Vim, рассказ ссылками
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p><a href="http://www.vim.org">Vim</a> — прекрасный редактор, который я использую для разработки на Ruby и Rails. Его можно
использовать в чистом виде, но если добавить немного плагинов, то удобство работы значительно возрастает. Об этом я и
хочу рассказать, правда рассказ получится длинным.</p>
<p>Я выступал на последнем RailsClub&rsquo;е с докладом Vim Or Die (<a href="http://www.univertv.ru/video/informatika/programmirovanie/ruby_on_rails_moscow/vim_or_die/">посмотреть его можно на
univertv.ru</a>), в котором
неплохо раскрыл тему Vim и полезных плагинов. Cами слайды, которые малополезны без видео, можно найти на <a href="http://www.slideshare.net/evtuhovich/vim-or-die">slideshare.net</a>.</p>
    </div>
    <a href="/blog/2011/03/10/vim/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2010/04/05/vim-pathogen/" class="link black dim">
        Автоматизация vim с помощью pathogen
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Извечная проблема о том, как добавлять и обновлять плагины в vim решилась благодаря легендарному Tim Pope.</p>
<p>Сегодня утром узнал от <a href="http://twitter.com/yaroslav">Ярослава Маркина</a> о существовании pathogen.</p>
<p>Статья на английском о том, как им пользоваться, лежит <a
href="http://tammersaleh.com/posts/the-modern-vim-config-with-pathogen">здесь</a>. Правда, я потратил полчаса, чтобы
догадаться, что надо добавить <code>call pathogen#runtime_append_all_bundles()</code> в файл <code>~/.vimrc</code>.</p>
<p>После установки <a href="http://github.com/tpope/vim-pathogen/raw/master/autoload/pathogen.vim">pathogen.vim</a> в
<code><del>/.vim/autoload</code> можно хранить все плагины в папке <code></del>/.vim/bundle</code>, причем каждый в своей папке.</p>
<p>А еще огромный плюс - в конце этой статьи код, который позволяет обновлять все плагины одной командой.</p>
    </div>
    <a href="/blog/2010/04/05/vim-pathogen/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pathogen/" class="link blue hover-black">
            Tag: Записи с тегом: pathogen
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2010/04/05/vim-pathogen/" class="link black dim">
        Автоматизация vim с помощью pathogen
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Извечная проблема о том, как добавлять и обновлять плагины в vim решилась благодаря легендарному Tim Pope.</p>
<p>Сегодня утром узнал от <a href="http://twitter.com/yaroslav">Ярослава Маркина</a> о существовании pathogen.</p>
<p>Статья на английском о том, как им пользоваться, лежит <a
href="http://tammersaleh.com/posts/the-modern-vim-config-with-pathogen">здесь</a>. Правда, я потратил полчаса, чтобы
догадаться, что надо добавить <code>call pathogen#runtime_append_all_bundles()</code> в файл <code>~/.vimrc</code>.</p>
<p>После установки <a href="http://github.com/tpope/vim-pathogen/raw/master/autoload/pathogen.vim">pathogen.vim</a> в
<code><del>/.vim/autoload</code> можно хранить все плагины в папке <code></del>/.vim/bundle</code>, причем каждый в своей папке.</p>
<p>А еще огромный плюс - в конце этой статьи код, который позволяет обновлять все плагины одной командой.</p>
    </div>
    <a href="/blog/2010/04/05/vim-pathogen/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/ruby-debug/" class="link blue hover-black">
            Tag: Записи с тегом: ruby-debug
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/07/30/ruby-debug/" class="link black dim">
        Использование ruby-debug
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Использование дебаггера при разработке — это плохой тон. Это значит, что вы не понимаете, как работает ваша программа.
Но иногда жизнь без дебаггера становится невыносимой.</p>
<p>Есть отличный плагин vim-ruby-debugger для редактора vim. Но он пока сыроват и не все возможности в нем есть. По крайней
мере в моем случае, чтобы понять, что происходить внутри спека, он не помог.</p>
<p>Тогда я воспользовался старым дедовским способом:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>    require <span style="color:#e6db74">&#39;ruby-debug&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">Debugger</span><span style="color:#f92672">.</span>start
</span></span></code></pre></div><p>И вставил вызов debugger в том месте, где мне это необходимо.</p>
    </div>
    <a href="/blog/2009/07/30/ruby-debug/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/londiste/" class="link blue hover-black">
            Tag: Записи с тегом: londiste
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/06/05/pgq-londiste-plugin/" class="link black dim">
        PgQ и Londiste
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Хотя я так и не написал толком, как пользоваться PgQ и Londiste, но уже написал плагин, который облегчает его
использование вместе с рельсами.</p>
<p><a href="http://github.com/evtuhovich/pgq/tree/master">http://github.com/evtuhovich/pgq/tree/master</a></p>
<p>В README всё написано на плохом английском (с хорошим английским у меня плохо).</p>
<p>Совсем скоро я добавлю туда возможность прогонять миграции на master и slave базах данных одновременно. Тогда при
очередной выкатке необходимо будет сделать только rake londiste:update в самом конце, после того, как все миграции
прогонятся.</p>
    </div>
    <a href="/blog/2009/06/05/pgq-londiste-plugin/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/05/22/live-table-migration/" class="link black dim">
        Перенос таблицы в другую базу данных postgres без простоя приложения
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В продолжении <a href="/blog/2009/05/19/two-databases/">темы о нескольких базах данных в одном rails-приложении</a> расскажу о том,
как изящно перенести одну большую таблицу в другую БД postgresql.</p>
<p>Пусть у нас есть таблица messages с большим количеством данных (10 миллионов записей), которые мы решили перенести на
другой сервер. Мы сделали, как написано в статье, указанной выше, а также создали в новой БД таблицу messages с такой же
структурой.</p>
<p>Теперь с помощью londiste настраиваем репликацию из первой БД во вторую для таблицы messages (об этом я напишу подробнее
попозже, пока же можно <a href="http://groups.google.com/group/ror2ru/msg/8d2a6b71375c3d5a?hl=ru">прочитать об этом у
Андрея Стихеева</a> в рассылке ror2ru).</p>
    </div>
    <a href="/blog/2009/05/22/live-table-migration/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/pgq/" class="link blue hover-black">
            Tag: Записи с тегом: pgq
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/06/05/pgq-londiste-plugin/" class="link black dim">
        PgQ и Londiste
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Хотя я так и не написал толком, как пользоваться PgQ и Londiste, но уже написал плагин, который облегчает его
использование вместе с рельсами.</p>
<p><a href="http://github.com/evtuhovich/pgq/tree/master">http://github.com/evtuhovich/pgq/tree/master</a></p>
<p>В README всё написано на плохом английском (с хорошим английским у меня плохо).</p>
<p>Совсем скоро я добавлю туда возможность прогонять миграции на master и slave базах данных одновременно. Тогда при
очередной выкатке необходимо будет сделать только rake londiste:update в самом конце, после того, как все миграции
прогонятся.</p>
    </div>
    <a href="/blog/2009/06/05/pgq-londiste-plugin/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/04/04/queue/" class="link black dim">
        Использование очередей в высоконагруженных проектах
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>При большом количестве запросов к приложению (в широком смысле этого слова) иногда целесообразно ``размазать&rsquo;&rsquo; пиковую
нагрузку во времени. Для этого удобно использовать очереди. То есть, если какое-то запрос наверняка должен быть
выполнен, но не имеет значение произойдет это прямо сейчас или чуть попозже, можно создать событие в очереди. И когда до
этого события дойдет очередь —&ndash; оно будет выполнено. Таким образом можно развести сложные запросы во времени.</p>
<p>Очереди подходят для таких задач, как, например, рассылка большого количества сообщений и обновление различных счетчиков
в БД (если их актуальность не очень критична). Использование такого подхода позволяет контролировать пиковую нагрузку,
за счет чего сделать систему более стабильной в работе и отказоустойчивой. Также это позволяет оставить приемлемое время
ответа сервиса, потому что он сможет отвечать что-то до фактического завершения длинной операции.</p>
    </div>
    <a href="/blog/2009/04/04/queue/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/validates_uniqueness_of/" class="link blue hover-black">
            Tag: Записи с тегом: validates_uniqueness_of
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/05/28/validates-uniqueness-of/" class="link black dim">
        Проблема с проверкой уникальности какого-то поля в rails
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Пусть в модели User у нас описана валидация для поля email</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ruby" data-lang="ruby"><span style="display:flex;"><span>    validates_uniqueness_of <span style="color:#e6db74">:email</span>, <span style="color:#e6db74">:case_sensitive</span> <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">false</span>, 
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">:message</span> <span style="color:#f92672">=&gt;</span> i18n_proxy(<span style="color:#e6db74">:email_already_registered</span>)
</span></span></code></pre></div><p>Следующий код генерирует вот такой запрос к базе данных:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>    <span style="color:#66d9ef">SELECT</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">FROM</span> users <span style="color:#66d9ef">WHERE</span> <span style="color:#66d9ef">lower</span>(email) <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;thmth&#39;</span> <span style="color:#66d9ef">LIMIT</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>А на таблице users у нас индекс по полю email. В postgresql запрос, что вверху,
не будет использовать индекс. Представьте, что будет, когда в таблице users
десятки тысяч записей, а на каждое изменение любого поля в users вызывается
такой запрос.</p>
<p>Именно это я наблюдал совсем недавно на нашей живой базе. Проблема решается
просто, например, убрать <code>:case_sensetive</code>, а email всегда
предварительно переводить в нижние буквы.</p>
    </div>
    <a href="/blog/2009/05/28/validates-uniqueness-of/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/%D0%BC%D0%B8%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D1%8F/" class="link blue hover-black">
            Tag: Записи с тегом: миграция
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/05/22/live-table-migration/" class="link black dim">
        Перенос таблицы в другую базу данных postgres без простоя приложения
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В продолжении <a href="/blog/2009/05/19/two-databases/">темы о нескольких базах данных в одном rails-приложении</a> расскажу о том,
как изящно перенести одну большую таблицу в другую БД postgresql.</p>
<p>Пусть у нас есть таблица messages с большим количеством данных (10 миллионов записей), которые мы решили перенести на
другой сервер. Мы сделали, как написано в статье, указанной выше, а также создали в новой БД таблицу messages с такой же
структурой.</p>
<p>Теперь с помощью londiste настраиваем репликацию из первой БД во вторую для таблицы messages (об этом я напишу подробнее
попозже, пока же можно <a href="http://groups.google.com/group/ror2ru/msg/8d2a6b71375c3d5a?hl=ru">прочитать об этом у
Андрея Стихеева</a> в рассылке ror2ru).</p>
    </div>
    <a href="/blog/2009/05/22/live-table-migration/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/rollback/" class="link blue hover-black">
            Tag: Записи с тегом: rollback
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/05/19/two-databases/" class="link black dim">
        Несколько баз данных
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В некоторых ситуациях необходимо использовать более чем одну базу данных в проекте. Например, статистику и большие
таблицы хранить на другом сервере, у которого большой и медленный диск, а данные, которые нужны постоянно, хранить на
основном сервере с маленьким и быстрым диском.</p>
<p>В нашем случае хотелось унести большие таблицы на другой сервер, чтобы в дисковом кэше (а у главного сервера БД 32 Гб
оперативной памяти) хранились все рабочие таблицы и никогда оттуда не убегали.</p>
    </div>
    <a href="/blog/2009/05/19/two-databases/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/transaction/" class="link blue hover-black">
            Tag: Записи с тегом: transaction
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/05/19/two-databases/" class="link black dim">
        Несколько баз данных
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>В некоторых ситуациях необходимо использовать более чем одну базу данных в проекте. Например, статистику и большие
таблицы хранить на другом сервере, у которого большой и медленный диск, а данные, которые нужны постоянно, хранить на
основном сервере с маленьким и быстрым диском.</p>
<p>В нашем случае хотелось унести большие таблицы на другой сервер, чтобы в дисковом кэше (а у главного сервера БД 32 Гб
оперативной памяти) хранились все рабочие таблицы и никогда оттуда не убегали.</p>
    </div>
    <a href="/blog/2009/05/19/two-databases/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/yaml/" class="link blue hover-black">
            Tag: Записи с тегом: yaml
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/04/20/to-yaml-recursion/" class="link black dim">
        Рекурсивные особенности to_yaml
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Если необходимо сериализовать/десериализовать какой-то объект, то yaml формат хорошо для этого подходит.</p>
<p>В моем проекте мы записывали объекты в очередь, использую yaml-сериализацию. На тестах все было хорошо. Но на живом эта
самая сериализация стала выполняться очень долго.</p>
<p>Оказалось, что если у объекта есть связные объекты, то он их тоже засовывает в yaml, а если таких объектов очень много,
то это будет сложная операция. Понятно, что в примитивных тестах этого было не видно, а подумать хорошо головой в тот
раз не получилось.</p>
    </div>
    <a href="/blog/2009/04/20/to-yaml-recursion/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/memcache/" class="link blue hover-black">
            Tag: Записи с тегом: memcache
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/03/22/cache-problem/" class="link black dim">
        Проблемы с кэшированием
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Все ситуации, о которых я здесь пишу, встретились мне в повседневной работе. Единственное, что я делаю — меняю название классов,
чтобы не утруждать моего читателя незнакомой для него предметной областью.</p>
<p>Итак, у нас есть следующие модели:</p>
<pre tabindex="0"><code># shop.rb
class Shop &lt; ActiveRecord::Base
  has_many :categories

  cached_methods do
    def wait_orders_count
      Order.count :conditions =&gt; {:status_id =&gt; Order::WAIT}
    end

    def paid_orders_count
      Order.count :conditions =&gt; {:status_id =&gt; Order::PAID}
    end

    def bad_orders_count
      Order.count :conditions =&gt; {:status_id =&gt; Order::BAD}
    end
  end
end

class Category &lt; ActiveRecord::Base
  belongs_to :shop
  has_many :products
end

class Product &lt; ActiveRecord::Base
  belongs_to :category
  has_many :orders
end

class Order
  belongs_to :product
end
</code></pre><p>Методы внутри <code>cached_methods</code> выполняются в том случае, если значение для них не нашлось в кэше (например, в memcached).
До этого поля *_orders_count хранились в базе и мы добавляли к ним +1/-1 каждый раз, когда изменяли статус заказа
(Order). Если магазин большой, то таких обновлений будет очень много, что создает нагрузку на базу, поэтому их и вынесли
в кэш. Чтобы не думать, каждый раз при обновлении статуса заказа, мы полностью сбрасывали кэши для конкретного магазина.</p>
    </div>
    <a href="/blog/2009/03/22/cache-problem/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/continuous-integration/" class="link blue hover-black">
            Tag: Записи с тегом: continuous-integration
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/02/27/continuous-integration/" class="link black dim">
        Непрерывная интеграция
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>О непрерывной интеграции (Continuous Integration) можно почитать у Мартина Фаулера (Martin Fowler) <a
href="http://martinfowler.com/articles/continuousIntegration.html">здесь</a>. В друх словах, это практика постоянной
интеграции наработок каждого программиста. Обычно это заключается в том, что на какой-нибудь машине постоянно (после
каждого изменения в исходных кодах) собирается проект и прогоняются все тесты. Результаты этих действий высылаются
разработчикам по почте. Это позволяет постоянно сохранять проект в относительно рабочем состоянии.</p>
<p>Удобным инструментом непрерывной интеграции является <a
href="http://cruisecontrolrb.thoughtworks.com">CruiseControl</a>. К сожалению в своей оригинальной версии он
поддерживает только систему контроля версий svn. Поддержку git дописали народные умельцы. Я воспользовался вот <a
href="http://github.com/p8/cruisecontrolrb/tree/master">этой веткой</a>.</p>
    </div>
    <a href="/blog/2009/02/27/continuous-integration/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/cruisecontrol/" class="link blue hover-black">
            Tag: Записи с тегом: cruisecontrol
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/02/27/continuous-integration/" class="link black dim">
        Непрерывная интеграция
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>О непрерывной интеграции (Continuous Integration) можно почитать у Мартина Фаулера (Martin Fowler) <a
href="http://martinfowler.com/articles/continuousIntegration.html">здесь</a>. В друх словах, это практика постоянной
интеграции наработок каждого программиста. Обычно это заключается в том, что на какой-нибудь машине постоянно (после
каждого изменения в исходных кодах) собирается проект и прогоняются все тесты. Результаты этих действий высылаются
разработчикам по почте. Это позволяет постоянно сохранять проект в относительно рабочем состоянии.</p>
<p>Удобным инструментом непрерывной интеграции является <a
href="http://cruisecontrolrb.thoughtworks.com">CruiseControl</a>. К сожалению в своей оригинальной версии он
поддерживает только систему контроля версий svn. Поддержку git дописали народные умельцы. Я воспользовался вот <a
href="http://github.com/p8/cruisecontrolrb/tree/master">этой веткой</a>.</p>
    </div>
    <a href="/blog/2009/02/27/continuous-integration/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/capistrano/" class="link blue hover-black">
            Tag: Записи с тегом: capistrano
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/01/26/capistrano/" class="link black dim">
        Использование capistrano
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Для выкатки (deploy) я не знаю другого инструмента, кроме capistrano. Слышал про vlad, но в глаза его никогда не
видел.</p>
<p>Использовать capistrano имеет смысл при любом размере проекта, будь то сайт из 3-5 страничек, или что-то большое. Во
втором случае отказ от использования capistrano — форменное безумие с моей точки зрения.</p>
<p>Начать знакомиться лучше всего <a href="https://github.com/capistrano/capistrano/wiki/">отсюда</a>.</p>
<p>Если вкратце, то заходим в каталог проекта и набираем:</p>
<pre tabindex="0"><code>    capify .
</code></pre><p>Дальше правим файл <code>config/deploy.rb</code>, в нем все более или менее понятно.</p>
    </div>
    <a href="/blog/2009/01/26/capistrano/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
        <h2 class="f1">
          <a href="/tags/deploy/" class="link blue hover-black">
            Tag: Записи с тегом: deploy
          </a>
        </h2>
        
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Блог</span>
    <h1 class="f3 near-black">
      <a href="/blog/2009/01/26/capistrano/" class="link black dim">
        Использование capistrano
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>Для выкатки (deploy) я не знаю другого инструмента, кроме capistrano. Слышал про vlad, но в глаза его никогда не
видел.</p>
<p>Использовать capistrano имеет смысл при любом размере проекта, будь то сайт из 3-5 страничек, или что-то большое. Во
втором случае отказ от использования capistrano — форменное безумие с моей точки зрения.</p>
<p>Начать знакомиться лучше всего <a href="https://github.com/capistrano/capistrano/wiki/">отсюда</a>.</p>
<p>Если вкратце, то заходим в каталог проекта и набираем:</p>
<pre tabindex="0"><code>    capify .
</code></pre><p>Дальше правим файл <code>config/deploy.rb</code>, в нем все более или менее понятно.</p>
    </div>
    <a href="/blog/2009/01/26/capistrano/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">читать дальше</a>
  </div>
</div>

        
      
    </section>
  </div>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://evtuhovich.ru/" >
    &copy;  Блог Ивана Евтуховича 2024 
  </a>
    <div>
<div class="ananke-socials">
  
    
    <a href="https://github.com/evtuhovich/" target="_blank" rel="noopener" class="github ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="GitHub link" aria-label="follow on GitHub——Opens in a new window">
      
        <span class="icon"><svg style="enable-background:new 0 0 512 512;" version="1.1" viewBox="0 0 512 512"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
  <path d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"/>
</svg>
</span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://vk.com/ivan.evtuhovich" target="_blank" rel="noopener" class="vk ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="vk link" aria-label="follow on vk——Opens in a new window">
      
        <span class="icon"><svg {{ with .size }} height="{{ . }}" {{ end }}  version="1.1" viewBox="10 10 160 160" width="{{ .size }}" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
    <path d="M157.234 66.14622c.88956-2.96645 0-5.14622-4.23376-5.14622h-14c-3.55973 0-5.20082 1.883-6.09088 3.9594 0 0-7.11948 17.35354-17.20516 28.6258-3.26297 3.26297-4.74632 4.30116-6.5262 4.30116-.8898 0-2.178-1.0382-2.178-4.0044V66.14623C107 62.58648 105.96694 61 103.00024 61h-22c-2.22452 0-3.56237 1.65216-3.56237 3.21797 0 3.37456 5.04259 4.15278 5.56237 13.64542V98.4799c0 4.5201-.8163 5.3396-2.59617 5.3396-4.74607 0-16.2909-17.43106-23.13806-37.37676C55.92414 62.566 54.57825 61 51.00024 61h-14c-4 0-4.80004 1.883-4.80004 3.9594 0 3.70812 4.74631 22.09986 22.09961 46.42425C65.86859 127.99527 82.16824 137 97.00024 137c8.8991 0 10-2 10-5.445V119c0-4 .84305-4.79829 3.66112-4.79829 2.07639 0 5.63613 1.0382 13.94218 9.04749 9.4924 9.49239 11.05734 13.7508 16.3967 13.7508h14c4 0 6-2 4.84624-5.94689-1.26257-3.9337-5.79468-9.64097-11.80836-16.4065-3.26321-3.85625-8.15767-8.00904-9.64102-10.08592-2.07639-2.66943-1.4831-3.85626 0-6.22917 0 0 17.05702-24.02787 18.8369-32.1853z" id="path4"/>
</svg></span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
    
    <a href="https://t.me/evtuhovich" target="_blank" rel="noopener" class="telegram ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="telegram link" aria-label="follow on telegram——Opens in a new window">
      
        <span class="icon"><svg {{ with .size }} height="{{ . }}" {{ end }}  version="1.1" viewBox="0 0 200 200" width="{{ .size }}" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<g id="Artboard">
	
	<path id="Path-3" fill-rule="evenodd" clip-rule="evenodd" d="M54.3,118.8c35-15.2,58.3-25.3,70-30.2   c33.3-13.9,40.3-16.3,44.8-16.4c1,0,3.2,0.2,4.7,1.4c1.2,1,1.5,2.3,1.7,3.3s0.4,3.1,0.2,4.7c-1.8,19-9.6,65.1-13.6,86.3   c-1.7,9-5,12-8.2,12.3c-7,0.6-12.3-4.6-19-9c-10.6-6.9-16.5-11.2-26.8-18c-11.9-7.8-4.2-12.1,2.6-19.1c1.8-1.8,32.5-29.8,33.1-32.3   c0.1-0.3,0.1-1.5-0.6-2.1c-0.7-0.6-1.7-0.4-2.5-0.2c-1.1,0.2-17.9,11.4-50.6,33.5c-4.8,3.3-9.1,4.9-13,4.8   c-4.3-0.1-12.5-2.4-18.7-4.4c-7.5-2.4-13.5-3.7-13-7.9C45.7,123.3,48.7,121.1,54.3,118.8z"/>
</g>
</svg></span>
      
<span class="new-window"><svg  height="8px"  style="enable-background:new 0 0 1000 1000;" version="1.1" viewBox="0 0 1000 1000"  xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" >
<path d="M598 128h298v298h-86v-152l-418 418-60-60 418-418h-152v-86zM810 810v-298h86v298c0 46-40 86-86 86h-596c-48 0-86-40-86-86v-596c0-46 38-86 86-86h298v86h-298v596h596z" style="fill-rule:evenodd;clip-rule:evenodd;"/>
</svg>
</span></a>
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
